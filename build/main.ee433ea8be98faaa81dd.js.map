{"version":3,"file":"main.ee433ea8be98faaa81dd.js","mappings":"0OA2BA,MAAMA,EAEA,KAUAC,EAAc,CAClB,CAZK,OAYmB,CACtBC,IAAK,EACLC,IAAK,KAEP,CAACH,GAAsB,CACrBE,IAAK,IACLC,IAAK,KAEP,CAACH,GAAsB,CACrBE,IAAK,EACLC,IAAK,KAEP,CAtBI,MAsBmB,CACrBD,IAAK,IACLC,IAAK,MAEP,CAzBI,MAyBmB,CACrBD,IAAK,KACLC,IAAK,MAEP,CA5BI,MA4BmB,CACrBD,IAAK,KACLC,IAAK,MAEP,CA/BI,MA+BmB,CACrBD,IAAK,KACLC,IAAK,QAOHC,EACK,UADLA,EAEI,SAFJA,EAGI,SAHJA,EAII,SAJJA,EAKA,KALAA,EAMI,SANJA,EAOI,SAPJA,EAQA,KARAA,EASI,SATJA,EAUA,KAVAA,EAWI,SAXJA,EAYA,KAZAA,EAaI,SAMJC,EAAiB,CACrBC,QAAU,eAAcL,EAAYM,IAAIL,0BAA0BD,EAAYM,IAAIJ,SAClFK,OAAS,eAAcP,EAAYQ,GAAGP,0BAA0BD,EAAYQ,GAAGN,SAC/EO,OAAS,eAAcT,EAAYQ,GAAGP,0BAA0BD,EAAYU,GAAGR,SAC/ES,OAAS,eAAcX,EAAYQ,GAAGP,0BAA0BD,EAAYY,GAAGV,SAC/EW,GAAK,eAAcb,EAAYU,GAAGT,SAClCa,OAAS,eAAcd,EAAYU,GAAGT,0BAA0BD,EAAYU,GAAGR,SAC/Ea,OAAS,eAAcf,EAAYU,GAAGT,0BAA0BD,EAAYY,GAAGV,SAC/Ec,GAAK,eAAchB,EAAYY,GAAGX,SAClCgB,OAAS,eAAcjB,EAAYY,GAAGX,0BAA0BD,EAAYY,GAAGV,SAC/EgB,GAAK,eAAclB,EAAYmB,GAAGlB,SAClCmB,OAAS,eAAcpB,EAAYmB,GAAGlB,0BAA0BD,EAAYmB,GAAGjB,SAC/EmB,GAAK,eAAcrB,EAAYsB,GAAGrB,SAClCsB,OAAS,eAAcvB,EAAYsB,GAAGrB,0BAA0BD,EAAYsB,GAAGpB,UAG3EsB,EAAeC,GAAW,qBAAoBA,IAgB9CC,EAAQ,CACZrB,QAAS,SAACsB,GAAO,QAAAC,EAAAC,UAAAC,OAAKC,EAAK,IAAAC,MAAAJ,EAAA,EAAAA,EAAA,KAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAALF,EAAKE,EAAA,GAAAJ,UAAAI,GAAA,OAAKC,EAAAA,GAAI;MAChCV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDxB,OAAQ,SAACoB,GAAO,QAAAQ,EAAAN,UAAAC,OAAKC,EAAK,IAAAC,MAAAG,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALL,EAAKK,EAAA,GAAAP,UAAAO,GAAA,OAAKF,EAAAA,GAAI;MAC/BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDtB,OAAQ,SAACkB,GAAO,QAAAU,EAAAR,UAAAC,OAAKC,EAAK,IAAAC,MAAAK,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALP,EAAKO,EAAA,GAAAT,UAAAS,GAAA,OAAKJ,EAAAA,GAAI;MAC/BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDpB,OAAQ,SAACgB,GAAO,QAAAY,EAAAV,UAAAC,OAAKC,EAAK,IAAAC,MAAAO,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALT,EAAKS,EAAA,GAAAX,UAAAW,GAAA,OAAKN,EAAAA,GAAI;MAC/BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDlB,GAAI,SAACc,GAAO,QAAAc,EAAAZ,UAAAC,OAAKC,EAAK,IAAAC,MAAAS,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALX,EAAKW,EAAA,GAAAb,UAAAa,GAAA,OAAKR,EAAAA,GAAI;MAC3BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDjB,OAAQ,SAACa,GAAO,QAAAgB,EAAAd,UAAAC,OAAKC,EAAK,IAAAC,MAAAW,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALb,EAAKa,EAAA,GAAAf,UAAAe,GAAA,OAAKV,EAAAA,GAAI;MAC/BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDhB,OAAQ,SAACY,GAAO,QAAAkB,EAAAhB,UAAAC,OAAKC,EAAK,IAAAC,MAAAa,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALf,EAAKe,EAAA,GAAAjB,UAAAiB,GAAA,OAAKZ,EAAAA,GAAI;MAC/BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDf,GAAI,SAACW,GAAO,QAAAoB,EAAAlB,UAAAC,OAAKC,EAAK,IAAAC,MAAAe,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALjB,EAAKiB,EAAA,GAAAnB,UAAAmB,GAAA,OAAKd,EAAAA,GAAI;MAC3BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDd,OAAQ,SAACU,GAAO,QAAAsB,EAAApB,UAAAC,OAAKC,EAAK,IAAAC,MAAAiB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALnB,EAAKmB,EAAA,GAAArB,UAAAqB,GAAA,OAAKhB,EAAAA,GAAI;MAC/BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDb,GAAI,SAACS,GAAO,QAAAwB,EAAAtB,UAAAC,OAAKC,EAAK,IAAAC,MAAAmB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALrB,EAAKqB,EAAA,GAAAvB,UAAAuB,GAAA,OAAKlB,EAAAA,GAAI;MAC3BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDX,OAAQ,SAACO,GAAO,QAAA0B,EAAAxB,UAAAC,OAAKC,EAAK,IAAAC,MAAAqB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALvB,EAAKuB,EAAA,GAAAzB,UAAAyB,GAAA,OAAKpB,EAAAA,GAAI;MAC/BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDV,GAAI,SAACM,GAAO,QAAA4B,EAAA1B,UAAAC,OAAKC,EAAK,IAAAC,MAAAuB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAALzB,EAAKyB,EAAA,GAAA3B,UAAA2B,GAAA,OAAKtB,EAAAA,GAAI;MAC3BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,EACDR,OAAQ,SAACI,GAAO,QAAA8B,EAAA5B,UAAAC,OAAKC,EAAK,IAAAC,MAAAyB,EAAA,EAAAA,EAAA,KAAAC,EAAA,EAAAA,EAAAD,EAAAC,IAAL3B,EAAK2B,EAAA,GAAA7B,UAAA6B,GAAA,OAAKxB,EAAAA,GAAI;MAC/BV,EAAYpB,EAAeD;SACzB+B,EAAAA,EAAAA,KAAIP,KAAYI;;GAErB,GC3JG4B,EAAW,CACfC,QAZsBC,GAatBC,GAdmB,EAenBjD,GAAIgD,GACJ7C,GAfsB6C,GAgBtB3C,GAAI2C,GACJxC,GAAIwC,GACJE,IAAKF,ICNDG,EAAM9B,EAAAA,GAAI;;EAOhB,OAAiB+B,UAJCC,EAAAA,QAAOC,GAAI;IACzBH;EAGwBA,OCJ5B,MAAMA,EAAM9B,EAAAA,GAAI;IACZkC,EAAYJ;;;EAQhB,OAAiBC,UAJCC,EAAAA,QAAOC,GAAI;IACzBH;EAGwBA,IAAGA,GCV/B,MAAMA,EAAM9B,EAAAA,GAAI;IACZkC,EAAYJ;;;;EAShB,OAAiBC,UAJCC,EAAAA,QAAOC,GAAI;IACzBH;EAGwBA,IAAGA,GCV/B,MAAMA,EAAM9B,EAAAA,GAAI;IACZkC,EAAYJ;;;;EAShB,OAAiBC,UAJCC,EAAAA,QAAOC,GAAI;IACzBH;EAGwBA,IAAGA,GCV/B,MAAMA,EAAM9B,EAAAA,GAAI;IACZkC,EAAYJ;;;EAIEE,EAAAA,QAAOC,GAAI;IACzBH;ECNJ,MAAMA,EAAM9B,EAAAA,GAAI;IACZkC,EAAYJ;;EAOhB,OAAiBC,UAJCC,EAAAA,QAAOC,GAAI;IACzBH;EAGwBA,IAAGA,GCR/B,MAAMA,EAAM9B,EAAAA,GAAI;IACZkC,EAAYJ;;EAGEE,EAAAA,QAAOC,GAAI;IACzBH;ECLJ,MAAMA,EAAM9B,EAAAA,GAAI;IACZkC,EAAYJ;;EAGEE,EAAAA,QAAOC,GAAI;IACzBH;ECkBJ,MAmCMK,EAAOH,EAAAA,QAAOC,GAAI;;YAEZG,IAAA,IAAC,OAAEC,EAAS,QAAQD,EAAA,OAAKC,CAAM;;;oBAGvBC,IAAA,IAAC,KAAEC,EAAO,OAAOD,EAAA,OAAKC,CAAI;oBAC1BC,IAAA,IAAC,aAAEC,EAAe,QAAQD,EAAA,MACzC,UAASC,UAAqB;;2BAERC,IAAA,IAAC,QAAEC,EAAU,IAAID,EAAA,MACrB,iBAAZC,EAAwB,UAASA,UAAkBA,CAAO;IACjEC,IAAA,IAAC,KAAEC,GAAMD,EAAA,OACTC,GACC,uBACiB,iBAATA,EAAqB,UAASA,UAAeA,GACpD;IACFC,IAAA,IAAC,MAAEC,GAAOD,EAAA,OAAKC,GAAU,wBAnDRA,IAAUA,EAAMC,KAAKC,GAAU,IAAGA,OAASC,KAAK,KAmDjBC,CAAYJ,IAAQ;;cAE1DK,IAAA,IAAC,IAAEC,EAAO,GAAE5B,EAASC,aAAa0B,EAAA,OAAKC,CAAG;IACpDC,IAAA,IAAC,UAAEC,GAAWD,EAAA,OAAKC,GAAc,eAAcA,GAAW;IAC1DC,IAAA,IAAC,OAAEC,GAAQD,EAAA,OAAKC,GAAW,YAAWA,GAAQ;;IAE9CC,IAAA,IAAC,eAAEC,GAAgBD,EAAA,OACnBC,GAAmB,oBAAmBA,GAAgB;;IAEtDC,IAAA,IAAC,aAAEC,GAAcD,EAAA,OAAKC,GAAiB,kBAAiBA,GAAc;;IAEtEC,IAAA,IAAC,mBAAEC,GAAoBD,EAAA,OACvBC,GA1D8BA,IAC3BA,EAEEC,OAAOC,KAAKF,GAAoBf,KAAKkB,IAC1C,MAAMC,EAAQJ,EAAmBG,GACjC,IAAKC,EAAO,MAAO,GAEnB,MAAMC,EAAgB5E,EAAM0E,GAC5B,OAAKE,EAEEA,CAAc;gCACOD;OAHD,EAIzB,IAX4B,GAyDRE,CAAyBN,EAAmB;EAchEO,EAAOtC,EAAAA,QAAOC,GAAI;;qBAEHsC,IAAA,IAAC,MAAEC,EAAQ,GAAGD,EAAA,MAAM,QAAOC,GAAO;kBACrCC,IAAA,IAAC,OAAEpC,EAAS,GAAGoC,EAAA,MAAM,QAAOpC,GAAQ;;IAElDqC,IAAA,IAAC,KAAEC,GAAMD,EAAA,OAAKC,GAAS,sBAAqBA,GAAM;IAClDC,IAAA,IAAC,IAAEC,GAAKD,EAAA,OAAKC,GAAQ,mBAAkBA,GAAK;;IAE5CC,IAAA,IAAC,OAAEC,GAAQD,EAAA,OAAKC,GAAW,oBAAmB;;IAE9CC,IAAA,IAAC,KAAE/B,GAAM+B,EAAA,OAAK/B,GAAS,cAAaA,GAAM;;IAE1CgC,IAAA,IAAC,OAAEC,GAAQD,EAAA,OACXC,GACC,2HAKH;EClHIC,EAAUnD,EAAAA,QAAOC,GAAI;;eAXX;;;;IAiBZzC,EAAMnB,MAAO;iBACAoD,EAASC;;EA8BpB0D,GAjBcpD,EAAAA,QAAOC,GAAI;;;;;;EAiBPD,EAAAA,QAAOC,GAAI;;eAEpBR,EAASC;;;GAelB2D,GAAwBrD,EAAAA,EAAAA,SAAOoD,EAAiB;IAClDE,EAAgBxD;;;;;;;iBC3Eb,MAAMyD,EACP,KADOA,GAEP,KAGOC,GACN,MADMA,GAEL,OAFKA,GAGJ,QAGIC,GAAkB,CAC7BC,MAAO,OACPC,QAAS,eACTC,QAAS,eACTC,SAAU,gBACVC,YAAa,mBACbC,KAAM,0BACNC,UAAW,mBACXC,kBAAmB,4BCXfC,GAAYA,KAChB,MAAO,CAAEC,IAAmBC,EAAAA,EAAAA,KAsB5B,MAAO,CAAEC,QAlBMC,EAAAA,EAAAA,UAAQ,IACdC,EAAAA,EAAKC,UACX,CAACD,EAAAA,EAAKC,WAgBQC,WAbCC,EAAAA,EAAAA,cACfC,IACC,MAAMC,EACJD,IAAcpB,GAAeoB,IAAcpB,GACvCoB,EACApB,EACNY,EAAgBS,GAChBL,EAAAA,EAAKM,eAAeD,GACpBE,SAASC,gBAAgBH,KAAOA,CAAI,GAEtC,CAACL,EAAAA,EAAKC,WAGoB,EC5B9B,MCDMQ,GAAc,GAsCdC,GAAqBC,GACzBF,GAAYA,GAAYpH,OAAS,KAAOsH,ECnCpCC,GAAmBhD,KACvBiD,EAAAA,EAAAA,YAAU,KDGOF,MAEbD,GAFaC,ECFL/C,IDOZ6C,GAAYK,KAAKH,ECPC,GACf,CAAC/C,GAAO,ECNPmD,GACC,QADDA,GAEI,IAFJA,GAGK,IAHLA,GAIK,ICOLC,GAAcnF,IAAiC,IAAhC,OAAEoF,EAAM,QAAEC,EAAO,OAAEC,GAAQtF,EAC9C,OACEuF,EAAAA,EAAAA,GAACxF,EAAI,CACHQ,QAAQ,MACRE,KAAK,gBACLE,MAAO,CAAC,SAAU,UAAW,UAC7BM,IAAI,UAAG,GAEPsE,EAAAA,EAAAA,GAACC,GAAU,CAACpD,MAAO,EAAGvB,KAAK,SAAS4E,GAAG,eAAQ,EAC5CL,IAGHG,EAAAA,EAAAA,GAACG,GAAW,CAACtD,MAAO,EAAGvB,KAAK,UAAU4E,GAAG,gBAAS,EAC/CJ,IAGHE,EAAAA,EAAAA,GAACI,GAAU,CAACvD,MAAO,EAAGvB,KAAK,SAAS4E,GAAG,eAAQ,EAC5CH,GAEE,EAILE,IAAa5F,EAAAA,EAAAA,SAAOsC,EAAM;;;;aAInBgD;;IAET9H,EAAMnB,MAAO;;;;;;;;;EAWXyJ,IAAc9F,EAAAA,EAAAA,SAAOsC,EAAM;;;WAGtBhC,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAOC,IAAI;sBACrB1F,IAAA,IAAC,MAAEwF,GAAOxF,EAAA,OAAKwF,EAAMC,OAAOE,UAAU;;IAExD3I,EAAMnB,MAAO;;;;;;;;EAUX0J,IAAa/F,EAAAA,EAAAA,SAAOsC,EAAM;sBACV5B,IAAA,IAAC,MAAEsF,GAAOtF,EAAA,OAAKsF,EAAMC,OAAOE,UAAU;EAG5D,OAAeC,EAAAA,KAAWb,ICrE1B,MAAMc,GAAgB,SAAC5I,GAAO,QAAAC,EAAAC,UAAAC,OAAKC,EAAK,IAAAC,MAAAJ,EAAA,EAAAA,EAAA,KAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAALF,EAAKE,EAAA,GAAAJ,UAAAI,GAAA,OAAKC,EAAAA,GAAI;;;;;;;SAOzCA,EAAAA,EAAAA,KAAIP,KAAYI;;;;;SAKhBG,EAAAA,EAAAA,KAAIP,KAAYI;;;SAGhBG,EAAAA,EAAAA,KAAIP,KAAYI;;;CAGvB,EClBKyI,GAAMA,CAACC,EAAIC,IAELD,GADGC,GCHQ,IDIb,MEEGC,GAAKzG,EAAAA,QAAO0G,EAAG;IACxB,IAAM1I,EAAAA,GAAI;ECJR2I,GAAa3I,EAAAA,GAAI;WACZoC,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAOC,IAAI;;EAO9BU,GACP5I,EAAAA,GAAI;MACJ2I;;iBAEWL,GAAI;kBACHA,GAAI7G,EAASC;;MAEzBlC,EAAMR,EAAG;mBACIsJ,GAAI;;IARVM,GAYP5I,EAAAA,GAAI;MACJ2I;;iBAEWL,GAAI;kBACHA,GAAuB,EAAnB7G,EAASC;;MAEzBlC,EAAMnB,MAAO;mBACAiK,GAAI;;;MAGjB9I,EAAMR,EAAG;mBACIsJ,GAAI;;IAvBVM,GA2BP5I,EAAAA,GAAI;MACJ2I;;iBAEWL,GAAI;kBACHA,GAAI7G,EAASC,QAAU;;MAEnClC,EAAMR,EAAG;mBACIsJ,GAAI;;IAlCVM,GAsCP5I,EAAAA,GAAI;MACJ2I;;iBAEWL,GAAI;kBACHA,GAAI7G,EAASC,QAAU;;MAEnClC,EAAMR,EAAG;mBACIsJ,GAAI;;IA7CVM,GAiDP5I,EAAAA,GAAI;MACJ2I;;iBAEWL,GAAI;kBACHA,GAAI7G,EAASC,QAAU;;MAEnClC,EAAMR,EAAG;mBACIsJ,GAAI;;IAxDVM,GA4DP5I,EAAAA,GAAI;MACJ2I;;iBAEWL,GAAI;kBACHA,GAAI7G,EAASC,QAAU;;MAEnClC,EAAMR,EAAG;mBACIsJ,GAAI;;IAqBVO,IAVK7G,EAAAA,QAAO8G,EAAG;IACxBF;EASc5G,EAAAA,QAAO+G,EAAG;IACxBH;GASSI,GAAKhH,EAAAA,QAAOiH,EAAG;IACxBL;EAmBSM,IAVKlH,EAAAA,QAAOmH,EAAG;IACxBP;EASc5G,EAAAA,QAAOoH,EAAG;IACxBR;GASSS,GAAKrH,EAAAA,QAAOsH,EAAG;IACxBV;EC5ISZ,GAAQ,CACnBC,OAAQ,CACNsB,QAAS,UACTC,UAAW,UACXC,SAAU,UAEVvB,KAAM,UACNwB,OAAQ,UAERC,MAAO,UACPC,MAAO,UACPC,KAAM,UAEN1B,WAAY,UACZ2B,MAAO,UACPC,QAAS,YCTAC,GAAUhK,EAAAA,GAAI;WAChBgI,GAAMC,OAAOuB;;;;IAIpBnB,EAAc;aACLL,GAAMC,OAAOC;;EAIb+B,GAAOjI,EAAAA,QAAOkI,CAAE;IACzBF;ECZSG,GAAQnI,EAAAA,QAAOoI,KAAM;eACnB9B,GAAI;;;;IAIf9I,EAAMnB,MAAO;iBACAiK,GAAI;;ECHR+B,GAAKrI,EAAAA,QAAOsI,EAAG;IACxB,IAAMtK,EAAAA,GAAI;EAUDuK,GAAKvI,EAAAA,QAAOwI,EAAG;IACxB,IAAMxK,EAAAA,GAAI;iBACGsI,GAAI;;;;ECpBRmC,GAAmBzK,EAAAA,GAAI;;eAErBsI,GAAI;;;;;;;;EAkBNoC,GAAI1I,EAAAA,QAAO2I,CAAE;IACrBC,GAAU5K,EAAAA,GAAI;MACbyK;;MAEAG,EAAMC,QAAW,cAAavC,GAAI;MAClCsC,EAAME,OAAU,cAAaxC,GAAI;MACjCsC,EAAMG,QAAW,cAAazC,GAAI;MAClCsC,EAAMI,OAAU,cAAa1C,GAAI;MACjCsC,EAAMK,QAAW,cAAa3C,GAAI;;qBCjBxC,MAAM4C,GAASA,KACb,MAAM,EAAEC,IAAMC,EAAAA,EAAAA,KAERC,EAAQ,CACZ,CACEC,IAAK,oCACLC,KAAM,iCAER,CACED,IAAK,oCACLC,KAAM,qCAER,CACED,IAAK,gCACLC,KAAM,qBAER,CACED,IAAK,8BACLC,KAAM,2BAER,CACED,IAAK,iCACLC,KAAM,yCAER,CACED,IAAK,8BACLC,KAAM,8BAIV,OACE5D,EAAAA,EAAAA,GAAC6D,GAAS,WACR7D,EAAAA,EAAAA,GAAC8D,GAAc,WACb9D,EAAAA,EAAAA,GAAC+D,GAAK,UAAEP,EAAE,kBAEVxD,EAAAA,EAAAA,GAACxF,EAAI,CACHQ,QAAU,UAAS0I,EAAMzL,6BACzBmE,mBAAoB,CAAE5F,QAAS,gCAC/BkF,IAA2B,EAAnB5B,EAASC,QAAX,KACNiK,GAAG,WAAI,EAENN,EAAMrI,KAAI,CAAC4I,EAAM1H,KAChByD,EAAAA,EAAAA,GAACkE,GAAQ,CAAWF,GAAG,MAARzH,GACbyD,EAAAA,EAAAA,GAACsC,GAAI,CAAC6B,KAAMF,EAAKL,KAAMQ,OAAO,eAAQ,GACpCpE,EAAAA,EAAAA,GAAA,OAAKqE,IAAKJ,EAAKN,IAAK9G,MAAM,eAMlCmD,EAAAA,EAAAA,GAACsE,GAAgB,WACftE,EAAAA,EAAAA,GAACuE,GAAS,CAACpB,OAAK,WACdnD,EAAAA,EAAAA,GAACsC,GAAI,CAAC6B,KAAK,iEAA0D,EAAC,SAC7DK,UACF,YAEPxE,EAAAA,EAAAA,GAACsC,GAAI,CACH6B,KAAK,4EACLC,OAAO,SACPK,IAAI,8BACJC,MAAO,CACLC,QAAS,eACTC,cAAe,SACfC,UAAW,aACX,GAEF7E,EAAAA,EAAAA,GAAA,OAAKnD,MAAM,MAAMnC,OAAO,WAAI,EAAAoK,KAAAA,IAC1B9E,EAAAA,EAAAA,GAAA,kBAAgBE,GAAG,IAAI6E,GAAG,IAAIC,GAAG,aAAM,GACrChF,EAAAA,EAAAA,GAAA,QAAMiF,OAAO,IAAIC,UAAU,OAAOC,YAAY,QAC9CnF,EAAAA,EAAAA,GAAA,QAAMiF,OAAO,IAAIE,YAAY,SACdC,KAAAA,IACjBpF,EAAAA,EAAAA,GAAA,YAAUE,GAAG,UAAG,GACdF,EAAAA,EAAAA,GAAA,QAAMnD,MAAM,MAAMnC,OAAO,KAAK2K,GAAG,IAAIC,KAAK,WACjCC,KAAAA,IACXvF,EAAAA,EAAAA,GAAA,KAAGwF,SAAS,gBAAS,GACnBxF,EAAAA,EAAAA,GAAA,QAAMsF,KAAK,OAAOG,EAAE,mBACpBzF,EAAAA,EAAAA,GAAA,QAAMsF,KAAK,UAAUG,EAAE,qBACvBzF,EAAAA,EAAAA,GAAA,QAAMsF,KAAK,UAAUG,EAAE,sBAEzBzF,EAAAA,EAAAA,GAAA,KACEsF,KAAK,OACLI,WAAW,SACXC,WAAW,wCACXC,SAAS,WAAI,GAEb5F,EAAAA,EAAAA,GAAA,QAAM6F,EAAE,OAAOC,EAAE,KAAKR,KAAK,UAAUS,YAAY,WAAI,EAClDvC,EAAE,oBAELxD,EAAAA,EAAAA,GAAA,QAAM6F,EAAE,OAAOC,EAAE,WAAI,EAClBtC,EAAE,mBACEwC,KAAAA,IACPhG,EAAAA,EAAAA,GAAA,QAAM6F,EAAE,OAAOC,EAAE,KAAKR,KAAK,UAAUS,YAAY,WAAI,EAAC,WAE/CE,KAAAA,IACPjG,EAAAA,EAAAA,GAAA,QAAM6F,EAAE,OAAOC,EAAE,WAAI,EAAC,gBAQ9B9F,EAAAA,EAAAA,GAACkG,GAAc,WACblG,EAAAA,EAAAA,GAACsC,GAAI,CAAC6B,KAAK,kBAAW,EAAEX,EAAE,mBAAyB,OAEnDxD,EAAAA,EAAAA,GAACsC,GAAI,CAAC6B,KAAK,qBAAc,EAAEX,EAAE,yBAIzB,EAIVK,GAAYxJ,EAAAA,QAAO0F,MAAO;iBACI,EAAnBjG,EAASC;;;;eAIQ,EAAnBD,EAASC,aAAoC,EAAnBD,EAASC;;;IAG9ClC,EAAMrB,OAAQ;eACgB,EAAnBsD,EAASC,aAAiBD,EAASC;;EAI5C+J,GAAiBzJ,EAAAA,QAAOC,GAAI;aACF,EAAnBR,EAASC;0BACIU,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAO4B,IAAI;EAGpD6B,IAAQ1J,EAAAA,EAAAA,SAAOkH,GAAI;mBACa,EAAnBzH,EAASC;;;;eAIb4G,GAAI;;WAERhG,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAO0B,KAAK;EAGtCkC,IAAW7J,EAAAA,EAAAA,SAAOsC,EAAM;IAC1BgB,EAAgBxD;;;;;;;IAOhBuG,EAAc;;;;EAMZ4D,IAAmBjK,EAAAA,EAAAA,SAAOsD,EAAgBvD,UAAW;;YAE5B,EAAnBN,EAASC;WACVc,IAAA,IAAC,MAAEwF,GAAOxF,EAAA,OAAKwF,EAAMC,OAAOC,IAAI;EAGrCgE,IAAYlK,EAAAA,EAAAA,SAAO0I,GAAG;;EAItBmD,GAAiB7L,EAAAA,QAAOC,GAAI;gBAClBR,EAASC,QAAU;eACpB4G,GAAI;kBChLnB,MAAMwF,GAAYC,eAChBC,GAGG,IAFHC,EAAOtO,UAAAC,OAAA,QAAAsO,IAAAvO,UAAA,GAAAA,UAAA,GAAG,CAAC,EACXwO,EAAMxO,UAAAC,OAAA,QAAAsO,IAAAvO,UAAA,GAAAA,UAAA,GAAG6F,GAET,MAAM4I,EAAcC,IAAkBC,aAAaC,QAAQ,SACrDC,EAAU,IAAIC,QAAQ,CAC1B,cAAiBL,EAAe,SAAQA,IAAgB,GACxD,eAAgB,qBAGZM,QAAiBC,MACrB,IAAIC,QAAS,UAA6BZ,IAAY,CACpDG,SACAU,KAAMV,IAAW3I,GAAoB,KAAOsJ,KAAKC,UAAUd,GAC3DO,aAIJ,GAA6C,qBAAzCE,EAASF,QAAQQ,IAAI,gBAEvB,OADeN,EAASO,WACjB,CAAEP,YAGX,MAAMQ,QAAaR,EAASS,OAE5B,GAAuB,KAAnBT,EAASU,QAAoC,KAAnBV,EAASU,OAAe,CAEpD,MAAMC,EAAWf,aAAaC,QAAQ,SACtCD,aAAagB,WAAW,WACxBhB,aAAagB,WAAW,SACpBD,IAAUE,OAAOC,SAAS1D,KAAO,IACvC,CAKA,OAJI4C,EAASU,OACTV,EAASU,OACTV,EAASU,OAEN,CAAEF,OAAMR,WACjB,ECxCA,IAAIL,GAAiB,KAEjBoB,GAAkB,KAElBC,GAAc,KAwGlB,ICtIIC,GDsIJ,GAlGqB,CACnBC,MAAO7B,UAAkC,IAA3B,SAAE8B,EAAQ,SAAEC,GAAU1N,EAClC,MAAM,KAAE8M,EAAI,SAAER,SAAmBZ,GAC/BrI,GAAgBC,MAChB,CAAEmK,WAAUC,YACZtK,IAGF,IAAI0J,EAOF,MAAM,IAAIa,MAAO,WAAUrB,EAASO,oBAP5B,CACR,MAAMnF,EAAQoF,EAAKc,kBAAoBd,EAAKe,OAC5C,GAAInG,EAAO,MAAM,IAAIiG,MAAMjG,GACvBoF,EAAKgB,OAAO5B,aAAa6B,QAAQ,QAASjB,EAAKgB,OAC/ChB,EAAKkB,SACP9B,aAAa6B,QAAQ,UAAWrB,KAAKC,UAAUG,EAAKkB,SACxD,CAEA,EAGFC,OAASC,IACPhC,aAAagB,WAAW,SACxBhB,aAAagB,WAAW,WACxBI,GAAc,MAGC,IAAXY,GACFf,OAAOC,SAAS1D,KAAO,IAChByE,QAAQC,UAGVD,QAAQE,WAGjBC,WAAa5G,IACX,MAAMsF,EAAStF,EAAMsF,OACrB,GAAe,MAAXA,GAA6B,MAAXA,EAAgB,CACpC,MAAMC,EAAWf,aAAaC,QAAQ,SAMtC,OALAD,aAAagB,WAAW,SACxBhB,aAAagB,WAAW,WACxBI,GAAc,KAEVL,IAAUE,OAAOC,SAAS1D,KAAO,KAC9ByE,QAAQC,QACjB,CACA,OAAOD,QAAQE,SAAS,EAG1BE,UAAWA,IACFrC,aAAaC,QAAQ,SACxBgC,QAAQE,SAAQ,GAChBF,QAAQC,SAGdI,eAAgB7C,UACd,GAAK2B,GAaH,OAAOa,QAAQE,QAAQf,IAbP,CAChB,MAAM,KAAER,SAAepB,GAAUrI,GAAgBK,aACjD,IAAIoJ,GAAMQ,YAQR,OAAOa,QAAQE,QAAQ,SAPvB,IAEE,OADAf,GAAcR,EAAKQ,YACZa,QAAQE,QAAQvB,EAAKQ,YAC9B,CAAE,MAAO5F,GACP,OAAOyG,QAAQE,QAAQ,QACzB,CAIJ,CAEA,EAGFI,YAAaA,KACX,IACE,MAAMT,EACJX,IAAmBX,KAAKgC,MAAMxC,aAAaC,QAAQ,YAGrD,OADA6B,EAAkB,SAAIA,EAAQW,UACvBR,QAAQE,QAAQL,EACzB,CAAE,MAAOtG,GACP,OAAOyG,QAAQC,OAAO1G,EACxB,ICnHJ,SAASkH,KAAiS,OAApRA,GAAWhN,OAAOiN,OAASjN,OAAOiN,OAAOC,OAAS,SAAUnF,GAAU,IAAK,IAAIoF,EAAI,EAAGA,EAAIxR,UAAUC,OAAQuR,IAAK,CAAE,IAAIC,EAASzR,UAAUwR,GAAI,IAAK,IAAIjN,KAAOkN,EAAcpN,OAAOqN,UAAUC,eAAeC,KAAKH,EAAQlN,KAAQ6H,EAAO7H,GAAOkN,EAAOlN,GAAU,CAAE,OAAO6H,CAAQ,EAAUiF,GAASQ,MAAMC,KAAM9R,UAAY,CASlV,ICVI,GDUJ,GAPiBiL,GAAsB,gBAAoB,MAAOoG,GAAS,CACzEU,MAAO,6BACP,cAAe,OACfC,QAAS,aACR/G,GAAQ+E,KAAUA,GAAqB,gBAAoB,OAAQ,CACpEvC,EAAG,6zBCPL,SAAS,KAAiS,OAApR,GAAWpJ,OAAOiN,OAASjN,OAAOiN,OAAOC,OAAS,SAAUnF,GAAU,IAAK,IAAIoF,EAAI,EAAGA,EAAIxR,UAAUC,OAAQuR,IAAK,CAAE,IAAIC,EAASzR,UAAUwR,GAAI,IAAK,IAAIjN,KAAOkN,EAAcpN,OAAOqN,UAAUC,eAAeC,KAAKH,EAAQlN,KAAQ6H,EAAO7H,GAAOkN,EAAOlN,GAAU,CAAE,OAAO6H,CAAQ,EAAU,GAASyF,MAAMC,KAAM9R,UAAY,CASlV,ICVI,GAAOiS,GDUX,GAPoBhH,GAAsB,gBAAoB,MAAO,GAAS,CAC5E8G,MAAO,6BACP,cAAe,OACfC,QAAS,aACR/G,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEwC,EAAG,u4BCPL,SAAS,KAAiS,OAApR,GAAWpJ,OAAOiN,OAASjN,OAAOiN,OAAOC,OAAS,SAAUnF,GAAU,IAAK,IAAIoF,EAAI,EAAGA,EAAIxR,UAAUC,OAAQuR,IAAK,CAAE,IAAIC,EAASzR,UAAUwR,GAAI,IAAK,IAAIjN,KAAOkN,EAAcpN,OAAOqN,UAAUC,eAAeC,KAAKH,EAAQlN,KAAQ6H,EAAO7H,GAAOkN,EAAOlN,GAAU,CAAE,OAAO6H,CAAQ,EAAU,GAASyF,MAAMC,KAAM9R,UAAY,CAalV,OAXgBiL,GAAsB,gBAAoB,MAAO,GAAS,CACxE8G,MAAO,6BACP,cAAe,OACfC,QAAS,cACR/G,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEqC,KAAM,OACNG,EAAG,yqBACAwE,KAAWA,GAAsB,gBAAoB,OAAQ,CAChE3E,KAAM,UACNG,EAAG,u5FCiBL,MAAMyE,GAAU7D,IACd,MAAOkB,EAAM4C,IAAWC,EAAAA,EAAAA,aACjBjI,EAAOkI,IAAYD,EAAAA,EAAAA,aACnBE,EAASC,IAAcH,EAAAA,EAAAA,aACvBI,EAASC,IAAcL,EAAAA,EAAAA,YAExBM,EAAOtE,MAAOE,EAASE,KAC3BiE,GAAW,GACXJ,GAAS,GAET,MAAM,KAAE9C,EAAI,SAAER,SAAmBZ,GAAUE,EAAUC,EAASE,GAY9D,OAXIe,GACF4C,EAAQ5C,GACgB,MAApBR,EAASU,OAAgB8C,GAAW,GACnCA,GAAW,KAEhBF,GAAS,GACTE,GAAW,IAGbE,GAAW,GAEJ,CAAElD,OAAMR,WAAU,EAO3B,MAAO,CAAEQ,OAAMpF,QAAOmI,UAASE,UAASnD,IAH5BjB,eAAyBsE,EAAKpE,EAASzI,IAGN8M,KAJhCvE,eAAyBsE,EAAKpE,EAASzI,IAID+M,MAFrCxE,eAAyBsE,EAAKpE,EAASzI,IAEK,EC1BtDgN,GACS,OADTA,GAEO,QAFPA,GAGM,QAHNA,GAIO,OAJPA,GAKO,SALPA,GAMM,OANNA,GAOS,OAPTA,GAQK,MARLA,GASK,QAMLC,IAAkBC,EAAAA,EAAAA,eAAc,CACpCC,MAAOA,OACPC,MAAOA,OACPC,MAAOA,OACPC,KAAMA,OACNC,KAAMA,OACNC,OAAQA,OACRC,SAAUA,OACVC,KAAMA,OACNC,QAASA,OACTC,SAAU,KACVC,aAAcb,GACdc,iBAAiB,EACjBC,eAAe,IA8NjB,OAxNyBnR,IAAkB,IAAjB,SAAEoR,GAAUpR,EACpC,MAAOgR,EAAUK,IAAe1B,EAAAA,EAAAA,UAAS,CACvC2B,MAAO,EACPC,OAAQ,EACRT,KAAM,EACNtT,OAAQ,EACRgU,aAAc,KACdC,UAAW,KACXC,WAAY,KACZ5L,KAAM,QAED6L,EAAiBC,IAAsBjC,EAAAA,EAAAA,UAAS,IAChDsB,EAAcY,IAAmBlC,EAAAA,EAAAA,UAASS,KAC1C0B,EAAgBC,IAAqBpC,EAAAA,EAAAA,UAAS,IAC9CwB,EAAea,IAAYrC,EAAAA,EAAAA,WAAS,IAEzC7C,KAAMmF,EACNlC,QAASmB,EAAe,IACxBtE,GACE6C,GAAOpM,GAAgBE,SAKrB2O,EAAQC,IACZ,IAAKF,EAAe,OACpB,IAAKA,EAAcxM,GAAI,OAEvB,MAAM2M,EAAO/O,GAAgBM,KAAK0O,QAAQ,QAASJ,EAAcxM,IAC3DoG,EAAU,CACd,OAAUsG,GAEkB,CAC5B,gBACA,iBACA,QACA,UAGyBG,SAASH,KAClCtG,EAAwB,eAAI8F,GAG9BjG,GAAU0G,EAAMvG,EAASzI,GAAmB,EA0ExC0N,EAAOA,KACX,IAAKE,EAAU,OACf,IAAKiB,IAAkBA,EAAcM,UAAW,OAEhD,MAAM,KAAEzB,GAASE,EAEjB,IAAKF,GAAQA,GAAQmB,EAAcM,UAAU/U,OAC3C,OAAOqU,EAAgBzB,IAGzB2B,EAAkB,GAClBF,EAAgBzB,IAChBwB,EAAmBd,EAAK,EA8D1B,OA5CA9L,EAAAA,EAAAA,YAAU,KACR,IAAKiN,EAAe,OACpB,GAA6B,eAAzBA,EAAcpE,SAA4BoE,EAAcM,UAE1D,YADAV,EAAgBzB,IAIlB,MAAMoC,EAAUP,EAAcM,UAAUZ,GAEpCa,GACFnB,EAAY,CACVC,MAAOK,EACPJ,OAAQI,EAAkB,EAC1Bb,KAAMa,EAAkB,EACxBnU,OAAQyU,EAAcM,UAAU/U,OAChCgU,aAAcgB,EAAQC,mBAAqB,GAC3ChB,UAAWe,EAAQ/B,OAAS,EAC5BiB,WAAYc,EAAQ5B,QAAU,EAC9B9K,KAAM0M,EAAQrO,MAIlB,GACC,CAACwN,EAAiBM,KAKrBjN,EAAAA,EAAAA,YAAU,KACJiN,GAAiBA,EAAcxM,IACjCyM,EAAK,gBACP,GACC,CAACD,KAKJjN,EAAAA,EAAAA,YAAU,KACS2G,WACfiB,GAAK,EAEP8F,EAAU,GACT,KAGDnN,EAAAA,EAAAA,GAAC8K,GAAgBsC,SAAQ,CACvB5Q,MAAO,CACLwO,MAjJSqC,GAAUZ,EAASY,GAkJ5BpC,MA7IQA,KACiC0B,EAAzCjB,IAAiBb,GAA6BA,GACxCA,IACVyB,EAAgBzB,GAAqB,EA2IjCK,MArIQA,KACRQ,IAAiBb,KACrB8B,EAAK9B,IACLyB,EAAgBzB,IAAoB,EAmIhCM,KA7HOA,KACXwB,EAAK9B,IACLU,GAAM,EA4HFH,KAtHOA,KACNK,IACDc,EAAiBd,EAASU,WAC5BG,EAAgBzB,KAEhB8B,EAAK9B,IACLyB,EAAgBzB,KAClB,EAgHIQ,OA1GSA,KACRI,IACDc,GAAkBd,EAASU,YAC7BQ,EAAK9B,IACLyB,EAAgBzB,MAEhB2B,EAAkBD,EAAiB,GACnCD,EAAgBzB,KAClB,EAmGIS,SA7FWA,KACXI,IAAiBb,KACrB8B,EAAK9B,IACL2B,EAAkB,GAClBF,EAAgBzB,IAAuB,EA0FnCU,OACAC,QAnEUA,KACdmB,EAAK,mBAGLW,YAAW,KACT1F,OAAOC,SAAS1D,KAAO,GAAG,GACzB,IAAI,EA8DHwI,OACAlB,WACAC,eACAC,kBACAC,uBACA,EAEDC,EACwB,E,YCnP/B,MAAM0B,GACE,OAOFC,GAAiBC,IACrB,MAAMrT,EAAa6I,IACjB,MAAM,MAAER,EAAK,KAAEiL,GAASzK,EACxB,OACExC,EAAAA,cAACgN,GAAMpE,EAAAA,GAAAA,GAAA,GACDpG,GACoB,IAAnBA,EAAM0K,WAAyC,IAAnB1K,EAAM0K,SACnC,CACE,eAAgB1K,EAAM0K,SACtB,KAAQ,UAEV,CAAC,EAAC,CACNC,SAAU3K,EAAM2K,WAEfnL,GAASA,EACTiL,GAAQA,EACF,EAKb,OADAtT,EAAUyT,YAAcJ,EAAOI,YACxBzT,CAAS,EAMZ0T,GAASzV,EAAAA,GAAI;;;;;WAKRoC,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAO0B,KAAK;gBAC5BrH,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAOsB,OAAO;;;;IAI/C/G,IAAA,IAAC,KAAE6S,EAAI,MAAEjL,GAAO5H,EAAA,OAAK6S,IAASjL,GAAU,eAAc;;;;;;;eAO3C9B,GAAI;;;;;;YAMP5F,IAAA,IAAC,MAAEsF,GAAOtF,EAAA,OAAKsF,EAAMC,OAAO0B,KAAK;;;;;;IAMzCnK,EAAMnB,MAAO;;MAEXuE,IAAA,IAAC,KAAEyS,EAAI,MAAEjL,GAAOxH,EAAA,OAAKyS,IAASjL,GAAU,eAAc;iBAC3C9B,GAAI;;;;;IAKjBxF,IAAA,IAAC,cAAE4S,GAAe5S,EAAA,OAClB4S,GACAA,IAAkBR,IACjB,wCAEF;;IAEC9R,IAAA,IAAC,SAAEkS,EAAQ,MAAEtN,GAAO5E,EAAA,OACpBkS,GACC,gBACQtN,EAAMC,OAAO0B,iCACF3B,EAAMC,OAAOuB,wCAGvBlG,IAAA,IAAC,MAAE0E,GAAO1E,EAAA,OAAK0E,EAAMC,OAAOuB,SAAS,eAEhD;;IAECnB,EAAc;aACL7E,IAAA,IAAC,MAAEwE,GAAOxE,EAAA,OAAKwE,EAAMC,OAAO0B,KAAK;wBACtBjG,IAAA,IAAC,MAAEsE,GAAOtE,EAAA,OAAKsE,EAAMC,OAAOuB,SAAS;;;cAG/C5F,IAAA,IAAC,MAAEoE,GAAOpE,EAAA,OAAKoE,EAAMC,OAAOuB,SAAS;;;;;;;;;EAc7CmM,GAAU3T,EAAAA,QAAOyT,MAAO;IAC1BA;EAOEG,IAAY5T,EAAAA,EAAAA,SAAO2T,GAAS;;;IAG9BtN,EAAc;;;EAQZwN,GAAU7T,EAAAA,QAAOyT,MAAO;IAC1BA;;;sBAGkB3R,IAAA,IAAC,MAAEkE,GAAOlE,EAAA,OAAKkE,EAAMC,OAAOsB,OAAO;WAC9ChF,IAAA,IAAC,MAAEyD,GAAOzD,EAAA,OAAKyD,EAAMC,OAAO0B,KAAK;;IAExCtB,EAAc;aACL5D,IAAA,IAAC,MAAEuD,GAAOvD,EAAA,OAAKuD,EAAMC,OAAO0B,KAAK;wBACtBjF,IAAA,IAAC,MAAEsD,GAAOtD,EAAA,OAAKsD,EAAMC,OAAOuB,SAAS;wBACrC5E,IAAA,IAAC,MAAEoD,GAAOpD,EAAA,OAAKoD,EAAMC,OAAOuB,SAAS;;;cAG/C1E,IAAA,IAAC,MAAEkD,GAAOlD,EAAA,OAAKkD,EAAMC,OAAOuB,SAAS;;;EAK7CsM,IAAU9T,EAAAA,EAAAA,SAAO6T,GAAS;;;IAG5BrW,EAAMnB,MAAO;;;EAQX0X,GAAc/T,EAAAA,QAAOyT,MAAO;IAC9BA;;;;;;;;;IASAjW,EAAMnB,MAAO;;;;IAIb2G,IAAA,IAAC,SAAEsQ,EAAQ,MAAEtN,GAAOhD,EAAA,OACpBsQ,GACC,gBACQtN,EAAMC,OAAOsB,0EAIZvB,EAAMC,OAAOsB,qBAExB;;IAEClB,EAAc;aACLpD,IAAA,IAAC,MAAE+C,GAAO/C,EAAA,OAAK+C,EAAMC,OAAOsB,OAAO;;;;cAIlCyM,IAAA,IAAC,MAAEhO,GAAOgO,EAAA,OAAKhO,EAAMC,OAAOsB,OAAO;;;EAQ3C0M,GAAQjU,EAAAA,QAAOyT,MAAO;IACxBA;;;;;;;;;eASWnN,GAAI;;oBAECA,GAAI;;IAEpB4N,IAAA,IAAC,SAAEZ,EAAQ,MAAEtN,GAAOkO,EAAA,OACpBZ,GACC,gBACQtN,EAAMC,OAAOsB,8EAEKvB,EAAMC,OAAOsB,iEAK9BvB,EAAMC,OAAOsB,qBAExB;;IAEClB,EAAc;aACL8N,IAAA,IAAC,MAAEnO,GAAOmO,EAAA,OAAKnO,EAAMC,OAAOsB,OAAO;;;;cAIlC6M,IAAA,IAAC,MAAEpO,GAAOoO,EAAA,OAAKpO,EAAMC,OAAOsB,OAAO;;;EAMjD,QACEoM,QAASR,GAAcQ,IACvBC,UAAWT,GAAcS,IACzBC,QAASV,GAAcU,IACvBE,YAAaZ,GAAcY,IAC3BE,MAAOd,GAAcc,IACrBH,QAASX,GAAcW,K,uBClPzB,MAAMO,GAAgCC,EAAAA,iBAAkB;;;;;EC2BlDC,GACC,S,UC1BP,MA4CMC,IAAiBxU,EAAAA,EAAAA,SAAOoD,EAAiB;;;aAGlCkC;;;WAGFlF,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAOC,IAAI;;;;EAMrCuO,GAAYzU,EAAAA,QAAOC,GAAI;;;;;;sBAMPK,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,MAAM,GAAE0F,EAAMC,OAAOE,YAAY;;EAI3DuO,GAAe1U,EAAAA,QAAOC,GAAI;iBACfR,EAASC;;;;;;EAQ1B,I,GAAA,GA3EgBiV,KACd,MAAM,QAAElP,EAAO,MAAEmP,IAAUC,EAAAA,EAAAA,YAAWC,IAChCC,EDNaC,KACnB,MAAOC,EAAYC,IAAenF,EAAAA,EAAAA,WAAS,GAsB3C,OAnBA3K,EAAAA,EAAAA,YAAU,KACR,MAAM+P,EAAS/U,IAAmB,IAAlB,IAAE8B,EAAG,KAAEkT,GAAMhV,EACvB8B,IAAQ8S,GAAYA,IAAaI,GAAMF,GAAY,EAAK,EAI9D,OADApQ,SAASuQ,iBAAiB,UAAWF,GAC9B,IAAMrQ,SAASwQ,oBAAoB,UAAWH,EAAO,GAC3D,CAACH,KAGJ5P,EAAAA,EAAAA,YAAU,KACR,MAAMmQ,EAAOjV,IAAmB,IAAlB,IAAE4B,EAAG,KAAEkT,GAAM9U,EACrB4B,IAAQ8S,GAAYA,IAAaI,GAAMF,GAAY,EAAM,EAI/D,OADApQ,SAASuQ,iBAAiB,QAASE,GAC5B,IAAMzQ,SAASwQ,oBAAoB,QAASC,EAAK,GACvD,CAACP,IAEGC,CAAU,ECjBKO,CAAYjB,IA2BlC,OAxBAnP,EAAAA,EAAAA,YAAU,KACR,IAAKK,EAAS,OAGd,MAAMgQ,EAAgB3Q,SAAS4Q,cAGzBC,EAAc7Q,SAAS8Q,cAAc,QAI3C,OAHAD,GAAeA,EAAYE,aAAa,cAAe,QAGhD,KACLJ,GAAiBA,EAAcK,QAC/BH,GAAeA,EAAYI,gBAAgB,cAAc,CAC1D,GACA,CAACtQ,KAGJL,EAAAA,EAAAA,YAAU,KACJ2P,GACFH,GAASA,GACX,GACC,CAACG,IAECtP,EAGHW,EAAAA,cAAAA,EAAAA,SAAA,KAAA4P,KAAAA,IACErQ,EAAAA,EAAAA,GAAC8O,GAAS,MACV9O,EAAAA,EAAAA,GAACsQ,KAAmB,CAACC,iBAAkB,CAAEC,mBAAmB,SAAO,GACjExQ,EAAAA,EAAAA,GAAC6O,GAAc,UAAA4B,KAAAA,IACbzQ,EAAAA,EAAAA,GAAC0O,GAA6B,MAC9B1O,EAAAA,EAAAA,GAAC+O,GAAY,UAAEjP,MARFW,EAAAA,cAAAA,EAAAA,SAAA,KAWhB,EChDP,MAAM0O,IAAiBpE,EAAAA,EAAAA,eAAc,CACnC2F,KAAMA,OACNzB,MAAOA,OACPnP,aAASyG,IAkBX,OAfwB9L,IAAkB,IAAjB,SAAEoR,GAAUpR,EACnC,MAAOqF,EAAS6Q,IAAcvG,EAAAA,EAAAA,YAK9B,OACEpK,EAAAA,EAAAA,GAACmP,GAAe/B,SAAQ,CAAC5Q,MAAO,CAAEsD,UAAS4Q,KAJ/B5Q,GAAY6Q,EAAW7Q,GAIcmP,MAHrCA,IAAM0B,OAAWpK,UAG4B,EACtDsF,EAAQ+E,KAAAA,IACT5Q,EAAAA,EAAAA,GAACgP,GAAO,KACgB,E,YCTA3U,EAAAA,QAAOC,GAAI;IACpC2I,GAAU5K,EAAAA,GAAI;cACL4K,EAAM4N,KAAO5N,EAAM4N,KAAQ,GAAE/W,EAASC;;;EAF7C,MAOM+W,GAAmBzW,EAAAA,QAAOC,GAAI;IACtC2I,GAAU5K,EAAAA,GAAI;aACN4K,EAAM4N,KAAO5N,EAAM4N,KAAQ,GAAE/W,EAASC;;;EC1CnD,IAAI,GAAO,GACX,SAAS,KAAiS,OAApR,GAAWsC,OAAOiN,OAASjN,OAAOiN,OAAOC,OAAS,SAAUnF,GAAU,IAAK,IAAIoF,EAAI,EAAGA,EAAIxR,UAAUC,OAAQuR,IAAK,CAAE,IAAIC,EAASzR,UAAUwR,GAAI,IAAK,IAAIjN,KAAOkN,EAAcpN,OAAOqN,UAAUC,eAAeC,KAAKH,EAAQlN,KAAQ6H,EAAO7H,GAAOkN,EAAOlN,GAAU,CAAE,OAAO6H,CAAQ,EAAU,GAASyF,MAAMC,KAAM9R,UAAY,CAWlV,ICZI,GDYJ,GATqBiL,GAAsB,gBAAoB,MAAO,GAAS,CAC7E8G,MAAO,6BACP,cAAe,OACfC,QAAS,aACR/G,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEwC,EAAG,8NACA,KAAW,GAAsB,gBAAoB,OAAQ,CAChEA,EAAG,yDCTL,SAAS,KAAiS,OAApR,GAAWpJ,OAAOiN,OAASjN,OAAOiN,OAAOC,OAAS,SAAUnF,GAAU,IAAK,IAAIoF,EAAI,EAAGA,EAAIxR,UAAUC,OAAQuR,IAAK,CAAE,IAAIC,EAASzR,UAAUwR,GAAI,IAAK,IAAIjN,KAAOkN,EAAcpN,OAAOqN,UAAUC,eAAeC,KAAKH,EAAQlN,KAAQ6H,EAAO7H,GAAOkN,EAAOlN,GAAU,CAAE,OAAO6H,CAAQ,EAAU,GAASyF,MAAMC,KAAM9R,UAAY,CASlV,OAPeiL,GAAsB,gBAAoB,MAAO,GAAS,CACvE8G,MAAO,6BACP,cAAe,OACfC,QAAS,aACR/G,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEwC,EAAG,+NCkBL,MAAMsL,GAAeA,IACZC,KAAKC,SAASC,SAAS,IAAIC,UAAU,G,UCiB9C,MAAMC,GACG,QADHA,GAEE,OAFFA,GAGM,WAHNA,GAIG,QAOHC,GAAcA,CAACC,EAAOrO,KAC1B,MAAM,KAAEsO,EAAI,MAAE9O,EAAK,SAAE+O,KAAaC,GAASxO,EACrCyO,EAAeF,EAAWA,EAASD,EAAMtO,EAAM0O,YAAc,CAAC,EAEpE,OACE3R,EAAAA,EAAAA,GAAC4R,EAAoBxX,UAAS,WAC5B4F,EAAAA,EAAAA,GAAC6R,GAAU,CAACC,QAAS7O,EAAM/C,GAAK+C,EAAM/C,GAAKqR,QAAK,EAAE9O,GAClDhC,EAAAA,cAAC6Q,GAAKjI,EAAAA,GAAAA,GAAA,GAAKqI,EAAkBD,EAAI,CAAEF,KAAMA,KACX,EAwE9BQ,IAAOC,EAAAA,EAAAA,OAAM/O,IACjB,MAAM,EAAEO,IAAMC,EAAAA,EAAAA,KAEd,OAAO4N,GAAYY,GAAc,IAC5BhP,EACH/C,GAAI+C,EAAM/C,IAAO,GAAEkR,MAAmBL,OACtCnE,KAAMwE,GACN3O,MAAOQ,EAAMR,OAASe,EAAE,mCACxB,eAAgBP,EAAMiP,SAAU,EAChC,gBAAiBjP,EAAMkP,WAAY,EACnCR,WAAY,CACVQ,SAAUlP,EAAMkP,UAAY3O,EAAE,gCAC3BP,EAAM0O,aAEX,IAEJI,GAAKlE,YAAc,YAanB,MAAMuE,GAAW3R,EAAAA,MAAYwC,IAC3B,MAAM,EAAEO,IAAMC,EAAAA,EAAAA,KACd,MA/FqB4O,EAACf,EAAOrO,KAC7B,MAAM,EAAEO,IAAMC,EAAAA,EAAAA,MACP6O,EAASC,IAAcnI,EAAAA,EAAAA,WAAS,IAEjC,KAAEmH,EAAI,MAAE9O,EAAK,SAAE+O,KAAaC,GAASxO,EACrCyO,EAAeF,EAAWA,EAASD,EAAMtO,EAAM0O,YAAc,CAAC,EAEpE,OACE3R,EAAAA,EAAAA,GAAC4R,EAAoBxX,UAAS,WAC5B4F,EAAAA,EAAAA,GAAC6R,GAAU,CAACC,QAAS7O,EAAM/C,GAAK+C,EAAM/C,GAAKqR,QAAK,EAAE9O,IAClDzC,EAAAA,EAAAA,GAACwS,GAAoB,UACnB/R,EAAAA,cAAC6Q,GAAKjI,EAAAA,GAAAA,GAAA,GACAqI,EACAD,EAAI,CACR7E,KAAM0F,EAAUlB,GAAkBA,OAEpCpR,EAAAA,EAAAA,GAACyS,GAAqB,WACpBzS,EAAAA,EAAAA,GAACyN,GAAOW,YAAW,CACjBpK,GAAG,MACH0O,SAAU,EACV,aAAYlP,EAAE,sBACdkK,KACE4E,EAAOK,KAAAA,IACL3S,EAAAA,EAAAA,GAAC4S,GAAW,CAAC/V,MAAM,OAAOnC,OAAO,UAASmY,KAAAA,IAE1C7S,EAAAA,EAAAA,GAAC8S,GAAW,CAACjW,MAAM,OAAOnC,OAAO,UAGrCiT,SAAU2E,EACVS,QAASA,IAAMR,GAAYD,OAIH,EA8D3BD,CAAeJ,GAAc,IAC/BhP,EACH/C,GAAI+C,EAAM/C,IAAO,GAAEkR,MAAuBL,OAC1CnE,KAAMwE,GACN3O,MAAOQ,EAAMR,OAASe,EAAE,6BACxB,eAAgBP,EAAMiP,SAAU,EAChC,gBAAiBjP,EAAMkP,WAAY,EACnCR,WAAY,CACVQ,SAAUlP,EAAMkP,UAAY3O,EAAE,gCAC3BP,EAAM0O,aAEX,IAEJS,GAASvE,YAAc,gBAavB,MAAMmF,IAAQhB,EAAAA,EAAAA,OAAM/O,IAClB,MAAM,EAAEO,IAAMC,EAAAA,EAAAA,KAEd,OAAO4N,GAAYY,GAAc,IAC5BhP,EACH/C,GAAI+C,EAAM/C,IAAO,GAAEkR,MAAoBL,OACvCnE,KAAMwE,GACN3O,MAAOQ,EAAMR,OAASe,EAAE,0BACxB,eAAgBP,EAAMiP,SAAU,EAChC,gBAAiBjP,EAAMkP,WAAY,EACnCR,WAAY,CACVQ,SAAUlP,EAAMkP,UAAY3O,EAAE,6BAC9ByP,QAAS,CACPzW,MAAO,qCACP0W,QAAS1P,EAAE,sCAEVP,EAAM0O,aAEX,IAEJqB,GAAMnF,YAAc,aAYpB,MAAMsF,IAAQnB,EAAAA,EAAAA,OAAM/O,IAClB,MAAM,EAAEO,IAAMC,EAAAA,EAAAA,KAEd,MAnHuB2P,EAAC9B,EAAOrO,KAC/B,MAAM,KAAEsO,EAAI,MAAE9O,EAAK,SAAE+O,KAAaC,GAASxO,EACrCyO,EAAeF,EAAWA,EAASD,EAAMtO,EAAM0O,YAAc,CAAC,EAEpE,OACE3R,EAAAA,EAAAA,GAACqT,EAAcjZ,UAAS,UACtBqG,EAAAA,cAAC6Q,GAAKjI,EAAAA,GAAAA,GAAA,GAAKqI,EAAkBD,EAAI,CAAEF,KAAMA,MACzCvR,EAAAA,EAAAA,GAAC6R,GAAU,CAACC,QAAS7O,EAAM/C,GAAK+C,EAAM/C,GAAKqR,QAAK,EAAE9O,GAC1B,EA2GrB2Q,CAAiBE,GAAY,IAC/BrQ,EACH/C,GAAI+C,EAAM/C,IAAO,GAAEkR,MAAoBL,OACvCnE,KAAMwE,GACN3O,MAAOQ,EAAMR,OAAS,GACtB,eAAgBQ,EAAMiP,SAAU,EAChC,gBAAiBjP,EAAMkP,WAAY,EACnCR,WAAY,CACVQ,SAAUlP,EAAMkP,UAAY3O,EAAE,gCAC3BP,EAAM0O,aAEX,IAEJwB,GAAMtF,YAAc,aAKpB,MAKMoE,GAAe5X,EAAAA,QAAOkZ,KAAM;;mBAEfzZ,EAASC,QAAU;;WAE3BU,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAOC,IAAI;sBACrB5F,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAO2B,KAAK;;gBAEvCnI,EAASC,QAAU;mBACG,EAAnBD,EAASC;aACfD,EAASC,aAAgC,IAAnBD,EAASC;;;;aAI/Bc,IAAA,IAAC,MAAEwF,GAAOxF,EAAA,OAAKwF,EAAMC,OAAOC,IAAI;;;;oBAIzBxF,IAAA,IAAC,MAAEsF,GAAOtF,EAAA,OAAKsF,EAAMC,OAAOsB,OAAO;;;;;;;EASjD0R,GAAajZ,EAAAA,QAAOkZ,KAAM;;;;;;;;;;iBAUf5S,GAAI;;;;;;sBAMC7G,EAASC,QAAU;;;;;;;;;;;;;;;oBAerBsG,GAAMC,OAAOuB;;;;;;;;;;;;;;;;;;;;;;;;;;qBA0BZxB,GAAMC,OAAOsB;kCACAvB,GAAMC,OAAO0B;;;;;;EAWzC6P,IAAaxX,EAAAA,EAAAA,SAAOmI,GAAO;mBACd1I,EAASC,QAAU;;IAElClC,EAAMnB,MAAO;qBACIoD,EAASC,QAAU;;EAOlCyZ,GAAWnZ,EAAAA,QAAOoZ,QAAS,GAK3BhB,GAAwBpY,EAAAA,QAAOC,GAAI;;;;IAIrCzC,EAAMnB,MAAO;;;EAQX8b,IAAuBnY,EAAAA,EAAAA,SAAOE,EAAYH,UAAW;;;;;EAQ3D,I,GAAA,IACE2X,QACAK,YACAY,SACAG,SACAK,aCxVF,MAkEM3P,GAAYxJ,EAAAA,QAAOC,GAAI;;EAIvBoZ,IAAgBrZ,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW,GAElDwZ,IAAiBvZ,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;gBACtB,EAAnBN,EAASC;EAGzB,I,GAAA,GA5EqB8Z,KACnB,MAAM,EAAErQ,IAAMC,EAAAA,EAAAA,MACR,OAAE/E,EAAM,UAAEI,GAAcP,MACvBM,EAAUiV,IAAe1J,EAAAA,EAAAA,UAAS1L,IACnC,SAAEqV,IAAaC,EAAAA,GAAAA,MACf,MAAE/E,IAAUC,EAAAA,EAAAA,YAAWC,IAEvB8E,GAASlV,EAAAA,EAAAA,cAAY,KACzBD,EAAUD,GACVoQ,IAEa7I,WACX,MAAM,KAAEmB,SAAepB,GACrBrI,GAAgBG,QAChB,CAAEY,YACFhB,IAGE0J,IAEEA,EAAKgB,OACP5B,aAAa6B,QAAQ,QAASjB,EAAKgB,OAIjChB,EAAKkB,SACP9B,aAAa6B,QACX,UACArB,KAAKC,UAAU,IAAK2M,KAAaxM,EAAKkB,WAG5C,EAGFyL,EAAM,GACL,CAACrV,EAAUC,EAAWmQ,IAEzB,OACEjP,EAAAA,EAAAA,GAAC6D,GAAS,WACR7D,EAAAA,EAAAA,GAAC0T,GAAa,WACZ1T,EAAAA,EAAAA,GAACsR,GAAM6B,MAAK,CACV5B,KAAK,WACL9O,MAAM,WACNjG,MAAOoB,EACPuW,SAAWC,GAAMN,EAAYM,EAAEhQ,OAAO5H,OACtC6X,eAAgB3V,IAAWd,KAE7BoC,EAAAA,EAAAA,GAAC8Q,GAAgB,CAACD,KAA4B,EAAnB/W,EAASC,QAAX,QACzBiG,EAAAA,EAAAA,GAACsR,GAAM6B,MAAK,CACV5B,KAAK,WACL9O,MAAM,UACNjG,MAAOoB,GACPuW,SAAWC,GAAMN,EAAYM,EAAEhQ,OAAO5H,OACtC6X,eAAgB3V,IAAWd,OAI/BoC,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,cAAeuP,QAAS9D,IAASqF,KAAAA,IAC1DtU,EAAAA,EAAAA,GAAC8Q,GAAgB,MACjB9Q,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,YAAauP,QAASkB,KAEvC,E,YCzEhB,MAAMM,GAAgB9Z,IAAwB,IAAvB,OAAE+Z,GAAS,GAAO/Z,EACvC,OACEuF,EAAAA,EAAAA,GAACyU,GAAc,CAACD,OAAQA,QAAO,EAAAE,KAAAA,IAC7B1U,EAAAA,EAAAA,GAAC2U,GAAM,KACQ,EAOfF,GAAiBpa,EAAAA,QAAOC,GAAI;IAC9BqD,EAAgBxD;;sBAEEQ,IAAA,IAAC,OAAE6Z,EAAM,MAAEnU,GAAO1F,EAAA,MACnC,IAAE6Z,EAASnU,EAAMC,OAAOE,WAAa,KAAO,cAAe;;;;;aAKnDb;EAMPgV,GAASta,EAAAA,QAAOC,GAAI;;;;WAIfqG,GAAI;YACHA,GAAI;;sBAEM9F,IAAA,IAAC,MAAEwF,GAAOxF,EAAA,OAAKwF,EAAMC,OAAOsB,OAAO;kBACvC7G,IAAA,IAAC,MAAEsF,GAAOtF,EAAA,MACvB,GAAEsF,EAAMC,OAAOsB,WAAWvB,EAAMC,OAAOsB,WAAWvB,EAAMC,OAAOsB,qBAAqB;;oBAErEgT,EAAAA,SAAU;;;;;;;;;;;kBCV9B,MAAMC,GAAOpa,IAAmC,IAAlC,SAAEoR,EAAQ,OAAEoI,EAAM,QAAEa,GAASra,EACzC,MAAM,SAAE+W,EAAQ,aAAEuD,EAAY,UAAEC,EAAS,QAAEC,EAAO,MAAEC,EAAK,SAAEC,IACzDC,EAAAA,GAAAA,IAAQN,IACJ,OAAEpW,GAAWH,KAEb8W,EAAeC,GACd7U,EAAAA,eAAqB6U,IAAgC,iBAAfA,EAAM1I,KAI7C0I,EAAM1I,OAASnM,EAAAA,SACVA,EAAAA,cAAAA,EAAAA,SAAA,KAAGA,EAAAA,SAAepF,IAAIia,EAAMrS,MAAM4I,SAAUwJ,IAGjDC,EAAM1I,OAAS0E,GAAMkC,SAErB/S,EAAAA,cAAC6Q,GAAMkC,SAAa8B,EAAMrS,MACvBxC,EAAAA,SAAepF,IAAIia,EAAMrS,MAAM4I,SAAUwJ,IAM9CC,EAAM1I,OAAS0E,GAAMS,MACrBuD,EAAM1I,OAAS0E,GAAM0B,OACrBsC,EAAM1I,OAAS0E,GAAMc,UACrBkD,EAAM1I,OAAS0E,GAAM6B,MAEdmC,GAGFC,EAAAA,EAAAA,eAAcD,EAAM1I,KAAM,IAC5B0I,EAAMrS,MACTuO,WACAU,OAAQ8C,EAAU9C,OAAOoD,EAAMrS,MAAMsO,QA3B9B+D,EA+BLE,EAAYH,EAAYxJ,EAASmJ,EAAWE,EAAOC,EAAUF,IAOnE,OAJAxV,EAAAA,EAAAA,YAAU,KACJpD,OAAOC,KAAK0Y,EAAU9C,QAAQja,QAAQgd,GAAS,GAClD,CAACvW,EAAQsW,EAAU9C,OAAQ+C,KAG5BjV,EAAAA,EAAAA,GAAA,QAAMyV,SAAUV,EAAad,GAASyB,YAAU,UAC7CF,EACI,EAIX,I,MAAA,GAAe/U,EAAAA,KAAWoU,IChE1B,MAmKMhR,IAAYxJ,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;;;;;;;EAU9CwZ,IAAiBvZ,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;gBACzCN,EAASC;;EAInB4b,GAAsBtb,EAAAA,QAAOC,GAAI;;;;aAI1BO,IAAA,IAAC,MAAEwF,GAAOxF,EAAA,OAAKwF,EAAMC,OAAOsB,OAAO;iBAC/BjB,GAAI;;;;MAIf9I,EAAMnB,MAAO;mBACAiK,GAAI;;;;EAMjBiV,IAAavb,EAAAA,EAAAA,SAAO0I,GAAG;;iBAEO,IAAnBjJ,EAASC;WACfgB,IAAA,IAAC,MAAEsF,GAAOtF,EAAA,OAAKsF,EAAMC,OAAO6B,KAAK;EAG5C,I,MAAA,GAxMoB0T,KAClB,MAAM,EAAErS,IAAMC,EAAAA,EAAAA,MACR,SAAEsQ,EAAU+B,UAAWC,IAAoB/B,EAAAA,GAAAA,MAC3C,MAAE/E,IAAUC,EAAAA,EAAAA,YAAWC,IACvB6G,GAASC,EAAAA,GAAAA,KACTC,GAAcC,EAAAA,EAAAA,UACdC,GAAcD,EAAAA,EAAAA,UACdE,GAAkBF,EAAAA,EAAAA,WACjBG,EAAcC,IAAmBnM,EAAAA,EAAAA,WAAS,IAC3C,MAAEQ,EAAK,QAAEJ,GAAYN,GAAOpM,GAAgBG,SAE5CuY,EAASzC,GAAYA,EAASyC,OAAU,GAgC9C,OAAIT,EAAwBtV,EAAAA,cAAAA,EAAAA,SAAA,OAG1BT,EAAAA,EAAAA,GAAC6D,GAAS,WACR7D,EAAAA,EAAAA,GAAC6U,GAAI,CACHZ,OAnCS7N,UAA+C,IAAxC,YAAE8P,EAAW,YAAEE,EAAW,MAAEI,GAAO/b,EACvD,MAAM6L,EAAU,CAAE6B,SAAUiO,EAAaI,SACpCF,IAAchQ,EAAsB,aAAI4P,GAE7C,MAAM,KAAE3O,EAAI,SAAER,SAAmB6D,EAAMtE,GACnCiB,GAA4B,MAApBR,EAASU,QACnBwH,IACA8E,EAASyC,MAAQA,EAGbjP,EAAKgB,OACP5B,aAAa6B,QAAQ,QAASjB,EAAKgB,OAIjChB,EAAKkB,SACP9B,aAAa6B,QACX,UACArB,KAAKC,UAAU,IAAK2M,KAAaxM,EAAKkB,WAI1CuN,EAAO,6BAA8B,CAAEpJ,KAAM,aAEzCrF,GAAQA,EAAKY,SACf6N,EAAO,wBAAyB,CAAEpJ,KAAM,UACrCoJ,EAAO,oBAAqB,CAAEpJ,KAAM,SAC3C,EASIkI,QAAS,CACP2B,KAAM,SACNC,eAAgB,kBAChB,GAED,CAAA/b,EAAaua,EAAOC,KAAa,IAAhC,OAAEjD,GAAQvX,EAKV,OAJAyb,EAAYnJ,QAAUiI,EAAM,cAAe,IAC3CgB,EAAYjJ,QAAUiI,EAAM,cAAe,IAC3CmB,EAAgBpJ,QAAUiI,EAAM,kBAAmB,IAGjDzU,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAACsR,GAAM0B,MAAK,CACVzB,KAAK,QACLoF,aAAcH,EACdI,YAAapT,EAAE,gCACf2O,UAAQ,IAETD,EAAOsE,QACNxW,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAOsE,MAAMtD,UAIlBlT,EAAAA,EAAAA,GAAC2V,GAAmB,WAClB3V,EAAAA,EAAAA,GAACyN,GAAOW,YAAW,CACjB3L,MAAsBe,EAAf8S,EAAiB,aAAkB,cAC1CtS,GAAG,MACH0O,SAAU,EACVK,QAASA,MACc,IAAjBuD,IACFnB,EAAS,cAAe,IACxBA,EAAS,kBAAmB,KAE9BoB,GAAiBD,EAAa,MAKpCtW,EAAAA,EAAAA,GAACsR,GAAMc,SAAQ,CACbb,KAAK,cACL9O,MAAOe,EAAE,gCACToT,YAAapT,EAAE,sCACf2O,UAAQ,IAETD,EAAOkE,cACNpW,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAOkE,YAAYlD,UAIxBlT,EAAAA,EAAAA,GAACsR,GAAMkC,SAAQ,CAAC9O,MAAO4R,EAAe,CAAE3R,QAAS,QAAW,CAAC,QAAE,GAC7D3E,EAAAA,EAAAA,GAACsR,GAAMc,SAAQ,CACbb,KAAK,cACL9O,MAAOe,EAAE,gCACToT,YAAapT,EAAE,sCACf2O,UAAWmE,GAA4C,KAA5BD,EAAgBpJ,QAC3C0E,YACG2E,GAAgB,CACfQ,UAAW,CACTta,MAAOgI,IACP0O,QAAS1P,EAAE,8BAA+B,CACxCuT,OAAQvS,OAGZyO,QAAS,CACPzW,MAAO,IAAIwa,OACR,6EAEH9D,QAAS1P,EAAE,4BAKlB0O,EAAOgE,cACNlW,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAOgE,YAAYhD,UAIxBlT,EAAAA,EAAAA,GAACsR,GAAMc,SAAQ,CACbb,KAAK,kBACL9O,MAAOe,EAAE,oCACToT,YAAapT,EAAE,0CACfmO,YACG2E,GAAgB,CACfW,SAAWza,GACTA,IAAU0Z,EAAYjJ,SACtBzJ,EAAE,mCAGR2O,UAAWmE,GAAwC,KAAxBJ,EAAYjJ,UAExCiF,EAAOmE,kBACNrW,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAOmE,gBAAgBnD,WAK9BlT,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,cAAeuP,QAAS9D,IAASqF,KAAAA,IAC1DtU,EAAAA,EAAAA,GAAC8Q,GAAgB,MACjB9Q,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,YAAaoJ,KAAK,YAE5C,IAIRpC,IAAO0M,KAAAA,IAAIlX,EAAAA,EAAAA,GAACuU,GAAa,CAACC,QAAM,MACvB,ECxKhB,MAAM2C,GACM,YADNA,GAEG,QAMHC,GAAkBA,KACtB,MAAM,EAAE5T,IAAMC,EAAAA,EAAAA,MACP4T,EAASC,IAAclN,EAAAA,EAAAA,UAAS+M,IAEvC,OACEnX,EAAAA,EAAAA,GAAC6D,GAAS,WACR7D,EAAAA,EAAAA,GAAC+D,GAAK,UAAEP,EAAE,oBAEVxD,EAAAA,EAAAA,GAACuX,GAAU,WACTvX,EAAAA,EAAAA,GAACyN,GAAOa,MAAK,CACX7L,MAAOe,EAAE,0BACTuP,QAASA,IAAMuE,EAAWH,IAC1BxJ,SAAU0J,IAAYF,MAExBnX,EAAAA,EAAAA,GAACyN,GAAOa,MAAK,CACX7L,MAAOe,EAAE,sBACTuP,QAASA,IAAMuE,EAAWH,IAC1BxJ,SAAU0J,IAAYF,OAI1BnX,EAAAA,EAAAA,GAACwX,GAAc,UACZH,IAAYF,KAAoBM,KAAAA,IAAIzX,EAAAA,EAAAA,GAAC6T,GAAY,MACjDwD,IAAYF,KAAiBO,KAAAA,IAAI1X,EAAAA,EAAAA,GAAC6V,GAAW,OAEtC,EAIVhS,GAAYxJ,EAAAA,QAAOC,GAAI;;;EAKvByJ,IAAQ1J,EAAAA,EAAAA,SAAO6G,GAAI;;EAInBqW,IAAald,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;EAI/Cod,GAAiBnd,EAAAA,QAAOC,GAAI;;aAEF,EAAnBR,EAASC;2BCpCtB,MAAM4d,GAASld,IAAkB,IAAjB,SAAEmd,GAAUnd,EAC1B,OACEuF,EAAAA,EAAAA,GAAC6D,GAAS,UAAAgU,KAAAA,IACR7X,EAAAA,EAAAA,GAAC8X,GAAQ,KACPF,EAEG9P,GAGHrH,EAAAA,cAAAA,EAAAA,SAAA,MAHkBsX,KAAAA,IAClB/X,EAAAA,EAAAA,GAACgY,GAAmB,KAHZC,KAAAA,IACRjY,EAAAA,EAAAA,GAACkY,GAAsB,KAMf,EAIVJ,GAAWA,IACfK,KAAAA,IACEnY,EAAAA,EAAAA,GAACoY,GAAW,WACVpY,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,IAAIuO,SAAS,WAAI,GACvB1S,EAAAA,EAAAA,GAACqY,GAAI,CACHxb,MAAM,OACNnC,OAAO,OACP,aAAW,wCAOfwd,GAAyBA,KAC7B,MAAM,OAAExZ,EAAM,UAAEI,GAAcP,KAExB+Z,GAAiBvZ,EAAAA,EAAAA,cAAY,KACjC,MAAME,EAAOL,EAAAA,EAAKC,UAAYjB,EAAcA,GAAcA,EAC1DkB,EAAUG,EAAK,GACd,CAACP,EAAQE,EAAAA,EAAKC,WAEjB,OACEmB,EAAAA,EAAAA,GAACuY,GAAY,WACXvY,EAAAA,EAAAA,GAACyN,GAAOW,YAAW,CACjB3L,MAAO7D,EAAAA,EAAKC,UAAYjB,EAAc,WAAa,WACnD8P,KAAI8K,KAAAA,IAAExY,EAAAA,EAAAA,GAACyY,GAAS,CAAC5b,MAAM,OAAOnC,OAAO,UACrCqT,cAAeR,GACfwF,QAASuF,IAEE,EAIbN,GAAsBA,KAC1B,MAAM,EAAExU,IAAMC,EAAAA,EAAAA,KACRiF,GAASgQ,EAAAA,GAAAA,MACT,QAAE5Y,EAAO,KAAE4Q,EAAI,MAAEzB,IAAUC,EAAAA,EAAAA,YAAWC,KACrCwJ,EAAkBC,IAAuBxO,EAAAA,EAAAA,WAAS,IACnD,MAAEc,EAAK,KAAEyB,EAAI,aAAEjB,IAAiBwD,EAAAA,EAAAA,YAAWpE,KAGjDrL,EAAAA,EAAAA,YAAU,KACHK,GAAS8Y,GAAoB,EAAM,GACvC,CAAC9Y,IAGJ,MAAM+Y,GAAsB9Z,EAAAA,EAAAA,cAAY,KAGpC2M,IAAiBb,IACjBa,IAAiBb,IACjBa,IAAiBb,IACjBK,GAEAA,IAEFyN,EAAmB1J,IAAUyB,EAAIoI,KAAAA,IAAC9Y,EAAAA,EAAAA,GAACoX,GAAe,MAClDwB,GAAqBD,EAAiB,GACrC,CAACjN,EAAciN,IAmBlB,OACE3Y,EAAAA,EAAAA,GAACuY,GAAY,WACXvY,EAAAA,EAAAA,GAACyN,GAAOU,QAAO,CACb,aAAY3K,EAAE,gBACdf,MAAM,IACNsQ,QAtBsBqB,IAC1BA,EAAE2E,iBACFnR,OAAOC,SAAS1D,KAAO,WAAW,KAsBhCnE,EAAAA,EAAAA,GAACyN,GAAOW,YAAW,CACjB,aAAY5K,EAAE,iBACdkK,KAAIsL,KAAAA,IAAEhZ,EAAAA,EAAAA,GAACiZ,GAAY,CAACpc,MAAM,OAAOnC,OAAO,UACxCiT,SAAUgL,EACV5F,QAAS8F,KAEX7Y,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,cAAeuP,QAxBlBmG,KACpBvM,GACFA,EAAK,UAGLW,YAAW,KACT5E,GAAO,EAAK,GACX,MACEA,GAAO,EAAK,IAiBJ,EAIb7E,GAAYxJ,EAAAA,QAAOwF,MAAO;IAC5BtF,EAAYJ;;aAEgB,EAAnBL,EAASC;;;IAGlBlC,EAAMnB,MAAO;eACFoD,EAASC;;EAIlBqe,GAAc/d,EAAAA,QAAOC,GAAI;;;;IAI3BzC,EAAMnB,MAAO;;;EAKX6hB,IAAele,EAAAA,EAAAA,SAAOsD,EAAgBvD,UAAW;;;;gBAIvCN,EAASC;;;;;;;;;MASnBlC,EAAMnB,MAAO;kBACDoD,EAASC,QAAU;;;kEC3JrC,MAoBMof,GAAS1e,IAAW,IAAV,EAAE+I,GAAG/I,EACnB,OACEgG,EAAAA,cAAAA,EAAAA,SAAA,KAAA2Y,KAAAA,IACEpZ,EAAAA,EAAAA,GAACqB,GAAE,UAAC,8BAA8BgY,KAAAA,IAClCrZ,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,wDAAuDuW,KAAAA,IAC1DtZ,EAAAA,EAAAA,GAAA,gBACEA,EAAAA,EAAAA,GAAA,gBACEA,EAAAA,EAAAA,GAAA,KACEmE,KAAK,+BACLC,OAAO,SACPK,IAAI,mBAAY,EACjB,cAIHzE,EAAAA,EAAAA,GAAA,gBACEA,EAAAA,EAAAA,GAAA,KACEmE,KAAK,+BACLC,OAAO,SACPK,IAAI,mBAAY,EACjB,iBAIA8U,KAAAA,IACLvZ,EAAAA,EAAAA,GAAA,UAAMwZ,KAAAA,IACNxZ,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2IAEiE,KAClE/C,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,4CAAqC,EAAC,kCAG5CsV,KAAAA,IACJzZ,EAAAA,EAAAA,GAAA,cAAG,gDAA+C0Z,KAAAA,IAClD1Z,EAAAA,EAAAA,GAAA,gBACEA,EAAAA,EAAAA,GAAA,eAAI,0EAGJA,EAAAA,EAAAA,GAAA,eAAI,+EAIJA,EAAAA,EAAAA,GAAA,eAAI,wEAGD2Z,KAAAA,IACL3Z,EAAAA,EAAAA,GAAA,UAAM4Z,KAAAA,IACN5Z,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,sBAEH/C,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAAC6Z,GAAS,CACR1V,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFe,QAAQC,MAAM,QACd,EAEDvW,EAAE,cAGN,EAIDwW,GAASrf,IAAW,IAAV,EAAE6I,GAAG7I,EACnB,OACE8F,EAAAA,cAAAA,EAAAA,SAAA,KAAAwZ,KAAAA,IACEja,EAAAA,EAAAA,GAACqB,GAAE,UAAC,qBAAqB6Y,KAAAA,IACzBla,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gDAA+CoX,KAAAA,IAClDna,EAAAA,EAAAA,GAAA,gBACEA,EAAAA,EAAAA,GAAA,gBACEA,EAAAA,EAAAA,GAAA,KACEmE,KAAK,+BACLC,OAAO,SACPK,IAAI,mBAAY,EACjB,cAIHzE,EAAAA,EAAAA,GAAA,gBACEA,EAAAA,EAAAA,GAAA,KACEmE,KAAK,8CACLC,OAAO,SACPK,IAAI,mBAAY,EACjB,iBAIA2V,KAAAA,IACLpa,EAAAA,EAAAA,GAAA,UAAMqa,KAAAA,IACNra,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0FAEoB,KACrB/C,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,4CAAqC,EAAC,kCAG5CmW,KAAAA,IACJta,EAAAA,EAAAA,GAAA,cAAG,0CAAyCua,KAAAA,IAC5Cva,EAAAA,EAAAA,GAAA,gBACEA,EAAAA,EAAAA,GAAA,eAAI,mCACJA,EAAAA,EAAAA,GAAA,eAAI,mEACJA,EAAAA,EAAAA,GAAA,eAAI,mEACDwa,KAAAA,IACLxa,EAAAA,EAAAA,GAAA,UAAMya,KAAAA,IACNza,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,mBAEH/C,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAAC6Z,GAAS,CACR1V,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFe,QAAQC,MAAM,QACd,EAEDvW,EAAE,cAGN,EAIDkX,IAAmBrgB,EAAAA,EAAAA,SAAOmD,EAAS;;;oBAGF,EAAnB1D,EAASC;;IAEzBlC,EAAMnB,MAAO;;;;;;;EASXikB,GAAiBtgB,EAAAA,QAAOC,GAAI,GAE5BsZ,GAAiBvZ,EAAAA,QAAOC,GAAI;IAC9BqD,EAAgBxD;;EAId0f,IAAYxf,EAAAA,EAAAA,SAAOiI,GAAM;YACA,EAAnBxI,EAASC;EAGrB,ICjNI,GDiNJ,GAtKiB6gB,KACf,MAAM,OAAElc,GAAWH,MACb,EAAEiF,IAAMC,EAAAA,EAAAA,KAGd,OAFAjE,GAAgB,aAGdQ,EAAAA,EAAAA,GAACJ,GAAW,CACVC,OAAMgb,KAAAA,IAAE7a,EAAAA,EAAAA,GAAC2X,GAAM,KACf7X,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,UACZjc,IAAWd,GAAcoC,EAAAA,EAAAA,GAACmZ,GAAM,CAAC3V,EAAGA,KAAQxD,EAAAA,EAAAA,GAACga,GAAM,CAACxW,EAAGA,MAI9DzD,OAAM+a,KAAAA,IAAE9a,EAAAA,EAAAA,GAACuD,GAAM,MACf,EC1DN,SAAS,KAAiS,OAApR,GAAWlH,OAAOiN,OAASjN,OAAOiN,OAAOC,OAAS,SAAUnF,GAAU,IAAK,IAAIoF,EAAI,EAAGA,EAAIxR,UAAUC,OAAQuR,IAAK,CAAE,IAAIC,EAASzR,UAAUwR,GAAI,IAAK,IAAIjN,KAAOkN,EAAcpN,OAAOqN,UAAUC,eAAeC,KAAKH,EAAQlN,KAAQ6H,EAAO7H,GAAOkN,EAAOlN,GAAU,CAAE,OAAO6H,CAAQ,EAAU,GAASyF,MAAMC,KAAM9R,UAAY,CASlV,OAPmBiL,GAAsB,gBAAoB,MAAO,GAAS,CAC3E8G,MAAO,6BACP,cAAe,OACfC,QAAS,aACR/G,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEwC,EAAG,2T,wBCuBL,MAAMsV,GAAwBA,KAC5B,MAAM,EAAEvX,IAAMC,EAAAA,EAAAA,KACd,OAAOzD,EAAAA,EAAAA,GAAC6D,GAAS,UAAEL,EAAE,0BAAsC,EAGvDK,IAAYxJ,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;eAErCuG,GAAI;WACRlG,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAOC,IAAI;sBACrB5F,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAOwB,QAAQ;SCN1D,MAsBMkZ,GAAQ/X,IACZ,MAAO4I,EAAUoP,IAAe7Q,EAAAA,EAAAA,YAehC,OAbA3K,EAAAA,EAAAA,YAAU,MACR2G,iBACE,MACMmC,EADU,IAAI2S,gBAAgBtT,OAAOC,SAASsT,QAC9B9T,IAAI,MAEtBkB,QzBwDiBnC,WACzBM,GAAiB6B,EAEjB,MAAM,KAAEhB,SAAepB,GAAUrI,GAAgBG,SACjD,IAAIsJ,IAAQA,EAAKkB,QAIf,MADA2S,MAAO,wCACD,IAAIhT,MAAO,wCAHjBN,GAAkBP,EAAKkB,OAIzB,EyBhEY4S,CAAmB9S,GACzB0S,EAAYhY,EAAM4I,WACboP,EAAYhY,EAAM4I,SAC3B,CACAyP,EAAc,GACb,KAEItb,EAAAA,EAAAA,GAAA,gBAAM6L,EAAe,EAG9B,I,kBAAA,GAzCkBzR,GACT,SAAkB6I,GACvB,OACEjD,EAAAA,EAAAA,GAACub,GAAAA,EAAa,CAAC1T,SAAU5E,EAAM4E,eAAS,GACtC7H,EAAAA,EAAAA,GAACgb,GAAI,WACHhb,EAAAA,EAAAA,GAACwb,GAAAA,EAAe,CACd3T,SAAU5E,EAAM4E,SAChB4T,OAAQhhB,IAAA,IAAC,YAAEsN,GAAatN,EAAA,MACN,SAAhBsN,GAA0C,UAAhBA,EACxBtH,EAAAA,cAAAA,EAAAA,SAAA,KACGqH,KAAe4T,KAAAA,IAAI1b,EAAAA,EAAAA,GAAC+a,GAAqB,MAC1Cta,EAAAA,cAACrG,EAAc6I,IAEf,IAAI,KAMpB,ECLF,MAyEM0Y,GAAmBA,KACvB,MAAM,EAAEnY,IAAMC,EAAAA,EAAAA,KAEd,OACEhD,EAAAA,cAAAA,EAAAA,SAAA,KAAAmb,KAAAA,IACE5b,EAAAA,EAAAA,GAAC6b,GAAW,CAAChf,MAAM,KAAKnC,OAAO,SAC/BsF,EAAAA,EAAAA,GAAC+D,GAAK,UAAEP,EAAE,sBACVxD,EAAAA,EAAAA,GAAC8b,GAAY,CAACxY,QAAM,UAAEE,EAAE,6BACxBxD,EAAAA,EAAAA,GAAC+b,GAAW,CAAC3Y,QAAM,UAAEI,EAAE,2BACtB,EAQDwY,GAAsBA,KAC1B,MAAM,EAAExY,IAAMC,EAAAA,EAAAA,KACRwY,GAAWC,EAAAA,EAAAA,MAEjB,OACEzb,EAAAA,cAAAA,EAAAA,SAAA,KAAA0b,KAAAA,IACEnc,EAAAA,EAAAA,GAAC6b,GAAW,CAAChf,MAAM,KAAKnC,OAAO,SAC/BsF,EAAAA,EAAAA,GAAC+D,GAAK,UAAEP,EAAE,sBACVxD,EAAAA,EAAAA,GAAC8b,GAAY,CAACxY,QAAM,UAAEE,EAAE,6BACxBxD,EAAAA,EAAAA,GAACoc,GAAgB,CACf3Z,MAAOe,EAAE,iBACTuP,QAASA,IAAMkJ,EAAS,aAEzB,EAIDvB,IAAmBrgB,EAAAA,EAAAA,SAAOqD,EAAuB;;EAIjDid,GAAiBtgB,EAAAA,QAAOC,GAAI;;;;EAM5ByJ,IAAQ1J,EAAAA,EAAAA,SAAO6G,GAAI,GAEnB4a,IAAezhB,EAAAA,EAAAA,SAAO0I,GAAG;;mBAEO,EAAnBjJ,EAASC;EAGtBsiB,IAAchiB,EAAAA,EAAAA,SAAOoT,GAAOO,QAAS;YACZ,EAAnBlU,EAASC;EAGfqiB,IAAmB/hB,EAAAA,EAAAA,SAAOoT,GAAOO,QAAS;;EAI1CsO,IAAejiB,EAAAA,EAAAA,SAAOoT,GAAOS,QAAS;YACb,EAAnBpU,EAASC;EAGfgiB,IAAc1hB,EAAAA,EAAAA,SAAO0I,GAAG;;WAEnBtI,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAOyB,MAAM;;;EAKvC8Z,IAAcxhB,EAAAA,EAAAA,SAAOkiB,GAAS;mBACjBziB,EAASC;UAClBY,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAOsB,OAAO;EAG7C,I,GAAA,GAAe4a,IApJGC,KAChB,MAAM,EAAEjZ,IAAMC,EAAAA,EAAAA,MACR,SAAEsQ,EAAU+B,UAAWC,IAAoB/B,EAAAA,GAAAA,KAC3CiI,GAAWC,EAAAA,EAAAA,OACVQ,EAAqBC,IAA0BvS,EAAAA,EAAAA,WAAS,IACxDwS,EAAkBC,IAAuBzS,EAAAA,EAAAA,WAAS,GACzD5K,GAAgB,iBAEhB,MAAM+R,EAAQwC,GAAYA,EAAS+I,YAAe,GAwBlD,OAAI/G,EAAwBtV,EAAAA,cAAAA,EAAAA,SAAA,OAG1BT,EAAAA,EAAAA,GAACJ,GAAW,CACVC,OAAMgb,KAAAA,IAAE7a,EAAAA,EAAAA,GAAC2X,GAAM,CAACC,UAAQ,KACxB9X,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,WACXiC,IAAqBF,GACrBjc,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAAC+D,GAAK,UAAEP,EAAE,cAAe,CAAE+N,WAC3BvR,EAAAA,EAAAA,GAAC8b,GAAY,CAACxY,QAAM,UAAEE,EAAE,wBACxBxD,EAAAA,EAAAA,GAAC+b,GAAW,CAAC3Y,QAAM,UAAEI,EAAE,uBACvBxD,EAAAA,EAAAA,GAACqc,GAAW,CACV5Z,MAAOe,EAAE,aACTuP,QAlCgB3M,UAC9B,MAAM2W,EACJC,UAAUjV,mBACHiV,UAAUjV,YACdnQ,MAAM,CAAE2Z,KAAM,WACd0L,MAAMF,GACEA,IAERG,OAAM,KACE,IAGTH,EACuB,YAArBA,EAAW1P,MAAqB4O,EAAS,WACf,WAArBc,EAAW1P,MAAoBwP,GAAoB,GACvDF,GAAuB,GACvBA,GAAuB,EAAK,IAoBtB7U,KACC9H,EAAAA,EAAAA,GAACsc,GAAY,CACX7Z,MAAOe,EAAE,gBACTuP,QAASA,KACPkJ,EAAS,mBAAmB,KAMrCS,IAAmBS,KAAAA,IAAInd,EAAAA,EAAAA,GAACgc,GAAmB,MAC3CY,IAAgBQ,KAAAA,IAAIpd,EAAAA,EAAAA,GAAC2b,GAAgB,QAI5C5b,OAAM+a,KAAAA,IAAE9a,EAAAA,EAAAA,GAACuD,GAAM,MACf,ICtEN,MAmFMQ,IAAQ1J,EAAAA,EAAAA,SAAO6G,GAAI;;EAInB4a,IAAezhB,EAAAA,EAAAA,SAAO0I,GAAG;;;mBAGO,EAAnBjJ,EAASC;;;aAGfgB,IAAA,IAAC,MAAEsF,GAAOtF,EAAA,MAAM,GAAEsF,EAAMC,OAAOuB,WAAW;;EAIjDwb,IAAchjB,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;;;;;;;EAUhDkjB,GAAgBjjB,EAAAA,QAAOC,GAAI;IAC7BqD,EAAgBxD;;EAId0f,IAAYxf,EAAAA,EAAAA,SAAOiI,GAAM;YACA,EAAnBxI,EAASC;EAGf6b,IAAavb,EAAAA,EAAAA,SAAO0I,GAAG;;iBAEO,IAAnBjJ,EAASC;WACfkB,IAAA,IAAC,MAAEoF,GAAOpF,EAAA,OAAKoF,EAAMC,OAAO6B,KAAK;EAG5C,I,GAAA,GA1HsB1H,IAAkB,IAAjB,SAAE8iB,GAAU9iB,EACjC,MAAM,EAAE+I,IAAMC,EAAAA,EAAAA,KACRuS,GAASC,EAAAA,GAAAA,MACRO,EAAOgH,IAAYpT,EAAAA,EAAAA,UAAS,KAC5BE,EAASC,IAAcH,EAAAA,EAAAA,WAAS,IACjC,KAAEO,EAAI,QAAEH,GAAYN,GAAOpM,GAAgBO,WAUjD,OACEoC,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAAC+D,GAAK,UAAEP,EAAE,+BAET8G,EACC7J,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAAC8b,GAAY,CACXxY,QAAM,EACNma,wBAAyB,CACvBC,OAAQla,EAAE,+BAAgC,CACxCgT,cAINxW,EAAAA,EAAAA,GAACsd,GAAa,WACZtd,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,kBAAmBuP,QAASwK,MAIzD9c,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAAC8b,GAAY,CAACxY,QAAM,UACjBE,EAAE,uCAGLxD,EAAAA,EAAAA,GAACqd,GAAW,WACVrd,EAAAA,EAAAA,GAAC6U,GAAI,CACHZ,OAlCG7N,UAAqB,IAAd,MAAEoQ,GAAO7b,EAC7B6iB,EAAShH,GACT,MAAM,KAAEjP,SAAeoD,EAAK,CAAE6L,UAE1BjP,EAAMgD,GAAW,GAChByL,EAAO,oBAAqB,CAACpJ,KAAM,SAAS,EA8BvCkI,QAAS,CACP2B,KAAM,SACNC,eAAgB,kBAChB,GAED7b,IAAA,IAAC,OAAEqX,GAAQrX,EAAA,OACV4F,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAACsR,GAAM0B,MAAK,CACVzB,KAAK,QACLqF,YAAapT,EAAE,gCACf2O,UAAQ,IAETD,EAAOsE,QACNxW,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAOsE,MAAMtD,UAIlBlT,EAAAA,EAAAA,GAACsd,GAAa,WACZtd,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,YAAaoJ,KAAK,YAC3C5M,EAAAA,EAAAA,GAAC6Z,GAAS,CACR1V,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFwE,GAAU,QACV,EAED/Z,EAAE,oBAGN,IAGNgH,IAAO0M,KAAAA,IAAIlX,EAAAA,EAAAA,GAACuU,GAAa,CAACC,QAAM,QAItC,E,UCnFP,MAuEMzQ,IAAQ1J,EAAAA,EAAAA,SAAO6G,GAAI;;EAInBmc,IAAchjB,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;;;;;;;EAUhDkjB,GAAgBjjB,EAAAA,QAAOC,GAAI;IAC7BqD,EAAgBxD;;EAIdwjB,IAAetjB,EAAAA,EAAAA,SAAOiI,GAAM;YACH,EAAnBxI,EAASC;EAGf6b,IAAavb,EAAAA,EAAAA,SAAO0I,GAAG;;iBAEO,IAAnBjJ,EAASC;WACfc,IAAA,IAAC,MAAEwF,GAAOxF,EAAA,OAAKwF,EAAMC,OAAO6B,KAAK;EAG5C,I,MAAA,GApGkB1H,IAAkB,IAAjB,SAAE8iB,GAAU9iB,EAC7B,MAAM,EAAE+I,IAAMC,EAAAA,EAAAA,KACRwE,GAAQ2V,EAAAA,GAAAA,KACR5H,GAASC,EAAAA,GAAAA,MACRzL,EAASC,IAAcL,EAAAA,EAAAA,WAAS,GAUvC,OACE3J,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAAC+D,GAAK,UAAEP,EAAE,sBAEVxD,EAAAA,EAAAA,GAACqd,GAAW,WACVrd,EAAAA,EAAAA,GAAC6U,GAAI,CACHZ,OAdQ1M,IACdkD,GAAW,GACXxC,EAAMV,GAAM2V,OAAM,KAChBzS,GAAW,GACXuL,EAAO,iCAAkC,CAACpJ,KAAM,SAAS,GACzD,EAUIkI,QAAS,CACP2B,KAAM,SACNC,eAAgB,kBAChB,GAED/b,IAAA,IAAC,OAAEuX,GAAQvX,EAAA,OACV8F,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAACsR,GAAM0B,MAAK,CACVzB,KAAK,WACLqF,YAAapT,EAAE,gCACf2O,UAAQ,IAETD,EAAOhK,WACNlI,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAOhK,SAASgL,UAIrBlT,EAAAA,EAAAA,GAACsR,GAAMc,SAAQ,CACbb,KAAK,WACLqF,YAAapT,EAAE,mCACf2O,UAAQ,IAETD,EAAO/J,WACNnI,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAO/J,SAAS+K,UAIrBlT,EAAAA,EAAAA,GAACsd,GAAa,WACZtd,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,aAAcoJ,KAAK,YAC5C5M,EAAAA,EAAAA,GAAC2d,GAAY,CACXxZ,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFwE,GAAU,QACV,EAED/Z,EAAE,8BAGN,IAGNgH,IAAO0M,KAAAA,IAAIlX,EAAAA,EAAAA,GAACuU,GAAa,CAACC,QAAM,OAElC,ECnEP,MAoBMkG,IAAmBrgB,EAAAA,EAAAA,SAAOqD,EAAuB;;EAIjDid,GAAiBtgB,EAAAA,QAAOC,GAAI;;;EAKlC,ICpEIujB,GAASC,GDoEb,GA7BkBC,KAChB,MAAOC,EAAYC,IAAiB7T,EAAAA,EAAAA,WAAS,GAG7C,OAFA5K,GAAgB,WAGdQ,EAAAA,EAAAA,GAACJ,GAAW,CACVC,OAAMgb,KAAAA,IAAE7a,EAAAA,EAAAA,GAAC2X,GAAM,KACf7X,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,WACXqD,IAAche,EAAAA,EAAAA,GAACke,GAAS,CAACX,SAAUA,IAAMU,GAAc,KACxDD,IAAche,EAAAA,EAAAA,GAACme,GAAS,CAACZ,SAAUA,IAAMU,GAAc,OAI9Dle,OAAM+a,KAAAA,IAAE9a,EAAAA,EAAAA,GAACuD,GAAM,MACf,ECtDN,SAAS,KAAiS,OAApR,GAAWlH,OAAOiN,OAASjN,OAAOiN,OAAOC,OAAS,SAAUnF,GAAU,IAAK,IAAIoF,EAAI,EAAGA,EAAIxR,UAAUC,OAAQuR,IAAK,CAAE,IAAIC,EAASzR,UAAUwR,GAAI,IAAK,IAAIjN,KAAOkN,EAAcpN,OAAOqN,UAAUC,eAAeC,KAAKH,EAAQlN,KAAQ6H,EAAO7H,GAAOkN,EAAOlN,GAAU,CAAE,OAAO6H,CAAQ,EAAU,GAASyF,MAAMC,KAAM9R,UAAY,CAmBlV,ICpBI,GDoBJ,GAjBkBiL,GAAsB,gBAAoB,MAAO,GAAS,CAC1E8G,MAAO,6BACP,cAAe,OACfC,QAAS,eACR/G,GAAQ4a,KAAYA,GAAuB,gBAAoB,SAAU,CAC1EO,GAAI,GACJC,GAAI,GACJC,EAAG,GACHhZ,KAAM,cACNiZ,UAAW,oBACRT,KAAaA,GAAwB,gBAAoB,SAAU,CACtEM,GAAI,GACJC,GAAI,GACJC,EAAG,GACHhZ,KAAM,cACNiZ,UAAW,2BCjBb,SAAS,KAAiS,OAApR,GAAWliB,OAAOiN,OAASjN,OAAOiN,OAAOC,OAAS,SAAUnF,GAAU,IAAK,IAAIoF,EAAI,EAAGA,EAAIxR,UAAUC,OAAQuR,IAAK,CAAE,IAAIC,EAASzR,UAAUwR,GAAI,IAAK,IAAIjN,KAAOkN,EAAcpN,OAAOqN,UAAUC,eAAeC,KAAKH,EAAQlN,KAAQ6H,EAAO7H,GAAOkN,EAAOlN,GAAU,CAAE,OAAO6H,CAAQ,EAAU,GAASyF,MAAMC,KAAM9R,UAAY,CASlV,OAPmBiL,GAAsB,gBAAoB,MAAO,GAAS,CAC3E8G,MAAO,6BACP,cAAe,OACfC,QAAS,aACR/G,GAAQ,KAAU,GAAqB,gBAAoB,OAAQ,CACpEwC,EAAG,qVCsBE,MAAM+Y,GAAgBnkB,EAAAA,QAAO+G,EAAG;IACnC,IAAM/I,EAAAA,GAAI;;;;;;;;;YCId,MAAMomB,GAAQhkB,IAAuC,IAAtC,MAAE+B,EAAK,UAAEkiB,EAAS,MAAEzT,EAAK,KAAE0T,GAAMlkB,EAC9C,MAAOmkB,EAAMC,IAAWzU,EAAAA,EAAAA,UAAS5N,IAC1BsiB,EAAUC,IAAe3U,EAAAA,EAAAA,UAAS,IAClC4U,EAASC,IAAc7U,EAAAA,EAAAA,WAAS,IACjC,aAAEsB,IAAiBwD,EAAAA,EAAAA,YAAWpE,IAE9BoU,EAAgB,IAASlO,KAAKmO,GAwEpC,OAvDA1f,EAAAA,EAAAA,YAAU,KACR,IAAKuf,IAAYJ,EAAM,OAEvB,MAWMQ,EAAQ9R,YAXC+R,KACb,MAAMC,EAAUV,EAAO,EACjBW,EAAc,GAAKD,EAAU,GAAK9iB,EAEpC8iB,GAAW,GAlBjBT,EAAQ,GACRE,EAAY,GACZE,GAAW,GACX3R,YAAW,KACTqR,GAAQA,GAAM,GACb,OAeCE,EAAQS,GACRP,EAAYQ,GACd,GAG+B,KAEjC,MAAO,KACLC,aAAaJ,EAAM,CACpB,GACA,CAACJ,EAASJ,KAKbnf,EAAAA,EAAAA,YAAU,KACHwL,GASE6T,EAEHpT,IAAiBb,IACjBa,IAAiBb,IAEjBkU,EAAY,GALCA,EAAY,EAAIviB,GAO/B8Q,YAAW,KACT2R,GAAW,EAAK,GACf,KAhBDvT,IAAiBb,IACjBa,IAAiBb,IAEjBkU,EAAY,GAEdE,GAAW,GAYb,GACC,CAAChU,EAAOS,KAKXjM,EAAAA,EAAAA,YAAU,KACRof,EAAQriB,GACRuiB,EAAY,EAAE,GACb,CAACviB,KAGFwD,EAAAA,EAAAA,GAAC6D,GAAS,UACP6H,IAAiBb,KAAsB4U,KAAAA,IACtCzf,EAAAA,EAAAA,GAAC0f,GAAO,CAAC7iB,MAAM,OAAOnC,OAAO,YAE7BgkB,IAASiB,KAAAA,IAAI3f,EAAAA,EAAAA,GAAC4f,GAAM,MACrBlB,IAAa1e,EAAAA,EAAAA,GAAC6f,GAAK,UAAEjB,IACtB5e,EAAAA,EAAAA,GAAC8f,GAAG,CAAC,iBAAYhB,SAAUA,GAAY,EAAGiB,KAAMb,KAChDlf,EAAAA,EAAAA,GAACwe,GAAa,CAACxa,GAAG,YAAK,GACrBhE,EAAAA,EAAAA,GAAA,SAAOxD,MAAOwU,KAAKgP,MAAwB,KAAjBlB,GAAY,IAAW1oB,IAAI,IAAIC,IAAI,SAErD,EAIVwN,GAAYxJ,EAAAA,QAAOC,GAAI;;;;EAMvBslB,GAASvlB,EAAAA,QAAOC,GAAI;;;;;;;;gBAQVK,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAOsB,OAAO;;;IAG/C/J,EAAMnB,MAAO;;;;;;EAQXgpB,IAAUrlB,EAAAA,EAAAA,SAAO4lB,GAAa;;;;;;;;UAQ1BplB,IAAA,IAAC,MAAEwF,GAAOxF,EAAA,OAAKwF,EAAMC,OAAOsB,OAAO;;IAEzC/J,EAAMnB,MAAO;;;;;;EAQXmpB,GAAQxlB,EAAAA,QAAOmH,EAAG;IACpB7D,EAAgBxD;;;;;;;;;;eAULwG,GAAI;;WAER5F,IAAA,IAAC,MAAEsF,GAAOtF,EAAA,OAAKsF,EAAMC,OAAO0B,KAAK;;IAExCnK,EAAMnB,MAAO;iBACAiK,GAAI;;EAIfmf,IAAMzlB,EAAAA,EAAAA,SAAOsa,GAAQ;;;;;;;;;;;;;cAab1Z,IAAA,IAAC,MAAEoF,GAAOpF,EAAA,OAAKoF,EAAMC,OAAOsB,OAAO;wBACzBzG,IAAA,IAAC,KAAE4kB,GAAM5kB,EAAA,MAAM,GAAE4kB,OAAUA,KAAQ;yBAClCtkB,IAAA,IAAC,KAAEskB,EAAI,SAAEjB,GAAUrjB,EAAA,OAAQskB,EAAOjB,EAAWiB,EAApB,IAA4B;;8BC/J9E,MAyCMG,GAAkBA,KACtB,MAAM,EAAE1c,IAAMC,EAAAA,EAAAA,MACR,MAAEwH,EAAK,MAAEC,EAAK,KAAEC,EAAI,KAAEC,EAAI,SAAEK,EAAQ,aAAEC,IAC1CwD,EAAAA,EAAAA,YAAWpE,KACP,OAAEpM,GAAWH,KAEnB,OACEkC,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAACmgB,GAAY,CAACvT,KAAMlB,QAAa,GAC/B1L,EAAAA,EAAAA,GAACogB,GAAY,WACXpgB,EAAAA,EAAAA,GAACye,GAAK,CACJjiB,MAAOiP,EAASQ,aAChBhB,MAAOS,IAAiBb,GACxB8T,KAAMvT,MAIVpL,EAAAA,EAAAA,GAACqgB,GAAW,WACVrgB,EAAAA,EAAAA,GAACsgB,GAAQ,UACN9c,EAAE,iBAAiB,IAAOiI,EAASO,OAAO,MAE1CP,EAASxT,SAEZ+H,EAAAA,EAAAA,GAAC+R,GAAI,UAAEtG,EAASlL,KAAK7B,MAGvBsB,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,qBAAsBuP,QAAS5H,IAAQmJ,KAAAA,IAChEtU,EAAAA,EAAAA,GAAC8Q,GAAgB,KAChBpF,IAAiBb,KAChB7K,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,sBAAuBuP,QAAS9H,IAE1DS,IAAiBb,KAChB7K,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,wBAAyBuP,QAAS9H,IAE5DS,IAAiBb,KAChB7K,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,sBAAuBuP,QAAS7H,MAI9D,EAODqV,GAAkBA,KACtB,MAAM,EAAE/c,IAAMC,EAAAA,EAAAA,MACR,SAAEgI,EAAQ,aAAEC,EAAY,OAAEL,IAAW6D,EAAAA,EAAAA,YAAWpE,IAEtD,OACErK,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAACmgB,GAAY,CAACvT,KAAMlB,QAAa,GAC/B1L,EAAAA,EAAAA,GAACogB,GAAY,WACXpgB,EAAAA,EAAAA,GAACye,GAAK,CAACjiB,MAAOiP,EAASS,UAAWwS,WAAS,EAACzT,OAAK,EAAC0T,KAAMtT,MAG1DrL,EAAAA,EAAAA,GAACqgB,GAAW,WACVrgB,EAAAA,EAAAA,GAACsgB,GAAQ,UACN9c,EAAE,iBAAiB,IAAOiI,EAASO,OAAO,MAE1CP,EAASxT,SAEZ+H,EAAAA,EAAAA,GAAC+R,GAAI,UAAEvO,EAAE,oBAGZ,EAODgd,GAAqBA,KACzB,MAAM,EAAEhd,IAAMC,EAAAA,EAAAA,MACR,KAAE8H,EAAI,SAAEE,EAAQ,aAAEC,IAAiBwD,EAAAA,EAAAA,YAAWpE,IAEpD,OACErK,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAACmgB,GAAY,CAACvT,KAAMlB,QAAa,EAAA+U,KAAAA,IAC/BzgB,EAAAA,EAAAA,GAACogB,GAAY,WACXpgB,EAAAA,EAAAA,GAACye,GAAK,CAACC,WAAW,OAGpB1e,EAAAA,EAAAA,GAACqgB,GAAW,WACVrgB,EAAAA,EAAAA,GAACsgB,GAAQ,UACN9c,EAAE,iBAAiB,IAAOiI,EAASO,OAAO,MAE1CP,EAASxT,SAEZ+H,EAAAA,EAAAA,GAAC+R,GAAI,UAAEvO,EAAE,wBAGXxD,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,qBAAsBuP,QAASxH,MAG3D,EAODmV,GAAiBA,KACrB,MAAM,EAAEld,IAAMC,EAAAA,EAAAA,MACR,QAAE+H,IAAY0D,EAAAA,EAAAA,YAAWpE,IAK/B,OACE9K,EAAAA,EAAAA,GAAC2gB,GAAkB,WACjB3gB,EAAAA,EAAAA,GAAC4gB,GAAa,CAACtd,QAAM,UAAEE,EAAE,kBACzBxD,EAAAA,EAAAA,GAAC6gB,GAAU,CAACpe,MAAOe,EAAE,eAAgBuP,QALrB+N,IAAMtV,MAMH,EAOnBuV,GAAgBA,KACpB,MAAM,EAAEvd,IAAMC,EAAAA,EAAAA,KAEd,OACEzD,EAAAA,EAAAA,GAAC2gB,GAAkB,WACjB3gB,EAAAA,EAAAA,GAAC4gB,GAAa,CAACtd,QAAM,UAAEE,EAAE,mBACN,EAInBK,GAAYxJ,EAAAA,QAAOC,GAAI;;;;;EAOvB0mB,GAAa3mB,EAAAA,QAAOC,GAAI;;;;;;;;sBAQRG,IAAA,IAAC,MAAE4F,EAAK,KAAE4gB,GAAMxmB,EAAA,OACjCwmB,EAAyC,GAAE5gB,EAAMC,OAAOE,eAAhD,GAAEH,EAAMC,OAAOE,cAA+C;IACvE7F,IAAA,IAAC,MAAE0F,EAAK,OAAEmU,GAAQ7Z,EAAA,OAClB6Z,GAAW,qBAAoBnU,EAAMC,OAAOE,YAAY;;;EAKtD0gB,IAAkB7mB,EAAAA,EAAAA,SAAOsD,EAAgBvD,UAAW;;;;;EAOpD+mB,IAAgB9mB,EAAAA,EAAAA,SAAOE,EAAYH,UAAW;;;;;eAKlB,EAAnBN,EAASC;;;IAGpBc,IAAA,IAAC,KAAE+R,GAAM/R,EAAA,OACT+R,IAAS/B,IACT+B,IAAS/B,IACT+B,IAAS/B,IACR,cAAa;;IAEd9P,IAAA,IAAC,KAAE6R,GAAM7R,EAAA,OACR6R,IAAS/B,IACR+B,IAAS/B,IACT+B,IAAS/B,KACV,0BAAyB;;IAE1B5P,IAAA,IAAC,YAAEmmB,GAAanmB,EAAA,OAChBmmB,EACK,qCACyB,IAAnBtnB,EAASC,aACf,EAAC;;IAENlC,EAAMnB,MAAO;iBACAoD,EAASC;;EAIpBomB,IAAe9lB,EAAAA,EAAAA,SAAOE,EAAYH,UAAW;;;IAG/CvC,EAAMnB,MAAO;;MAEXyE,IAAA,IAAC,KAAEyR,GAAMzR,EAAA,OAAKyR,IAAS/B,IAAwB,oBAAmB;;EAIlEuV,GAAe/lB,EAAAA,QAAOC,GAAI;;;;;IAK5BzC,EAAMnB,MAAO;;;;EAMX2pB,GAAchmB,EAAAA,QAAOC,GAAI;;cAEE,EAAnBR,EAASC;;IAEnBlC,EAAMnB,MAAO;;;;EAMXiqB,IAAqBtmB,EAAAA,EAAAA,SAAOgmB,GAAa;;;IAG3CxoB,EAAMnB,MAAO;;;EAKX4pB,GAAWjmB,EAAAA,QAAOiH,EAAG;;eAEZX,GAAI;oBACCA,GAAI;;;;mBAIL7G,EAASC;EAGtBgY,GAAO1X,EAAAA,QAAO2I,CAAE;;eAEPrC,GAAI;;;IAGf9I,EAAMnB,MAAO;iBACAiK,GAAI;;EAIfiT,IAAiBvZ,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;;;IAIrDvC,EAAMnB,MAAO;;;;;EAOXkqB,IAAgBvmB,EAAAA,EAAAA,SAAO0I,GAAG;;;;sBAIS,EAAnBjJ,EAASC;;EAIzB8mB,IAAaxmB,EAAAA,EAAAA,SAAOoT,GAAOO,QAAS;;EAI1C,OA5TiBqT,KACf,MAAM,aAAE3V,EAAY,gBAAEC,EAAe,cAAEC,IACrCsD,EAAAA,EAAAA,YAAWpE,IAEb,OACE9K,EAAAA,EAAAA,GAAC6D,GAAS,WACR7D,EAAAA,EAAAA,GAACghB,GAAU,CACTC,KAAMvV,IAAiBb,GACvB2J,OAAQ9I,IAAiBb,MAE3B7K,EAAAA,EAAAA,GAACkhB,GAAe,WACdlhB,EAAAA,EAAAA,GAACmhB,GAAa,CACZC,YAAa1V,IAAiBb,GAC9B+B,KAAMlB,QAAa,EAElBE,EACCF,IAAiBb,IACjBa,IAAiBb,IACjBa,IAAiBb,GAAmByW,KAAAA,IAClCthB,EAAAA,EAAAA,GAACkgB,GAAe,KACdxU,IAAiBb,GAAmB0W,KAAAA,IACtCvhB,EAAAA,EAAAA,GAACugB,GAAe,KACd7U,IAAiBb,GAAsB2W,KAAAA,IACzCxhB,EAAAA,EAAAA,GAACwgB,GAAkB,KACjB9U,IAAiBb,GAAkB4W,KAAAA,IACrCzhB,EAAAA,EAAAA,GAAC+gB,GAAa,KAAGW,KAAAA,IAEjB1hB,EAAAA,EAAAA,GAAC0gB,GAAc,MAGhB/U,IAAoBC,KAAasL,KAAAA,IAAKlX,EAAAA,EAAAA,GAACuU,GAAa,QAIjD,E,uBC/ChB,MAAMoN,GAAkB1e,IACtB,MAAM,EAAEO,IAAMC,EAAAA,EAAAA,KACRwL,EAAQhM,EAAMgM,MAAQhM,EAAMgM,MAAQ,OACpC2S,EAAU3e,EAAM2e,QAAU3e,EAAM2e,QAAU,OAEhD,OACE5hB,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC6D,GAAS,WACR7D,EAAAA,EAAAA,GAAC+D,GAAK,CACJ0Z,wBAAyB,CAAEC,OAAQla,EAAE,yBAEvCxD,EAAAA,EAAAA,GAACuX,GAAU,WACTvX,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,cAAeuP,QAAS9D,KACjDjP,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,eAAgBuP,QAAS6O,MAGrC,EAIjBlH,IAAmBrgB,EAAAA,EAAAA,SAAOsD,EAAgBvD,UAAW;;;sBAGrCK,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,MAAM,GAAE4F,EAAMC,OAAOE,YAAY;EAG3DqD,GAAYxJ,EAAAA,QAAOC,GAAI;;;EAKvByJ,IAAQ1J,EAAAA,EAAAA,SAAO6G,GAAI;;EAInBqW,IAAald,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;SAC5CN,EAASC;SCtBlB,MAAM8nB,GAAkB,CAAEhc,EAAG,EAAGC,EAAG,EAAGgc,EAAG,GACnCC,GAAkB,CAAElc,EAAG,EAAGC,EAAG,EAAGgc,EAAG,GACnCE,GAAe,CAAEnc,EAAG,EAAGC,EAAG,EAAGgc,EAAG,GAKhCG,IAAalX,EAAAA,EAAAA,eAAc,CAC/BmX,SAAU,IAAKL,IACfM,SAAU,IAAKJ,IACfK,MAAO,IAAKJ,MAySR1E,GAAgBjjB,EAAAA,QAAOC,GAAI;;;;aAIpBR,EAASC;SACbD,EAASC;;;;EAOlB,I,MAAA,GA/SoBU,IAAkB,IAAjB,SAAEoR,GAAUpR,EAC/B,MAAM,EAAE+I,IAAMC,EAAAA,EAAAA,KACRuS,GAASC,EAAAA,GAAAA,KACTgG,GAAWC,EAAAA,EAAAA,OACX,KAAExL,EAAI,MAAEzB,IAAUC,EAAAA,EAAAA,YAAWC,KAC7B,SAAE4E,EAAU+B,UAAWC,IAAoB/B,EAAAA,GAAAA,MAC3C,MAAEpJ,EAAK,QAAEJ,GAAYN,GAAOpM,GAAgBI,WAC3CgkB,EAAUG,IAAejY,EAAAA,EAAAA,UAAS,IAAKyX,MACvCM,EAAUG,IAAelY,EAAAA,EAAAA,UAAS,IAAK2X,MACvCK,EAAOG,IAAYnY,EAAAA,EAAAA,UAAS,IAAK4X,MACjChX,EAAOyB,IAAYrC,EAAAA,EAAAA,WAAS,GAC7BoY,GAASrM,EAAAA,EAAAA,QAAO,MAEhBsM,GAAmB1jB,EAAAA,EAAAA,cACtB2jB,IACCL,EAAY,IAAKK,GAAM,GAEzB,CAACL,EAAatO,IAGV4O,GAAmB5jB,EAAAA,EAAAA,cACtB2jB,IACCJ,EAAY,IAAKI,GAAM,GAEzB,CAACJ,IAGGM,GAAgB7jB,EAAAA,EAAAA,cACnB2jB,IACCH,EAAS,IAAKG,GAAM,GAEtB,CAACH,IAGGM,GAAiB9jB,EAAAA,EAAAA,cAAY,KACjC,IAAKgV,EAAU,OACf,MAAM+O,EAAQN,EAAOvV,QAAQiH,OACzBH,EAASgP,iBAEXD,EAAME,QAAQxf,EAAE,yBAAyByf,YAAc,IAClDC,EAAqBnP,EAASgP,gBAAgBb,SAAU,aAG7DY,EAAME,QAAQxf,EAAE,yBAAyByf,YAAc,IAClDC,EAAqBnP,EAASgP,gBAAgBZ,SAAU,aAG7DW,EAAME,QAAQxf,EAAE,sBAAsByf,YAAc,IAC/CC,EAAqBnP,EAASgP,gBAAgBX,MAAO,YAI1DU,EAAME,QAAQxf,EAAE,yBAAyByf,YAAc,IAClDC,EAAqBrB,GAAiB,aAG3CiB,EAAME,QAAQxf,EAAE,yBAAyByf,YAAc,IAClDC,EAAqBnB,GAAiB,aAG3Ce,EAAME,QAAQxf,EAAE,sBAAsByf,YAAc,IAC/CC,EAAqBlB,GAAc,WAG1CQ,EAAOvV,QAAQkW,KAAKL,EAAM,GACzB,CAAC/O,IAkCEqP,EAAqBA,CAAC7b,EAAM8b,KAChC,IAAIJ,EAAc1b,EAAKyb,QAAQxf,EAAG,eAAc6f,MAAWJ,YAE3D,MAAO,CACL,EAAKA,EAAYzf,EAAG,cAAa6f,QACjC,EAAKJ,EAAYzf,EAAG,cAAa6f,QACjC,EAAKJ,EAAYzf,EAAG,cAAa6f,QAClC,EAIGH,EAAuBA,CAACR,EAAKW,KACjC,IAAIJ,EAAc,CAAC,EAMnB,OAJAA,EAAYzf,EAAG,cAAa6f,QAAeX,EAAI7c,EAC/Cod,EAAYzf,EAAG,cAAa6f,QAAeX,EAAI5c,EAC/Cmd,EAAYzf,EAAG,cAAa6f,QAAeX,EAAIZ,EAExCmB,CAAW,EAGdK,GAASvkB,EAAAA,EAAAA,cAAY,KACzB,MAAMwI,EAAOib,EAAOvV,QAAQiH,OACtBgO,EAAWkB,EAAmB7b,EAAM,YACpC4a,EAAWiB,EAAmB7b,EAAM,YACpC6a,EAAQgB,EAAmB7b,EAAM,SAE1BnB,WACX,MAAM,SAAEW,SAAmB6D,EAAM,CAC/BsX,WACAC,WACAC,UAEsB,MAApBrb,EAASU,QACXuO,EAAO,8BAA+B,CAAEpJ,KAAM,YAC9CmH,EAASgP,gBAAkB,CACzBb,WACAC,WACAC,UAGFpM,EAAO,oBAAqB,CAAEpJ,KAAM,SACtC,EAGFlC,EAAM,GACL,CAACE,EAAOoL,EAAQxS,IAEb+f,EAAiBA,CAAChhB,EAAGihB,IAClBrc,KAAKC,UAAU7E,KAAO4E,KAAKC,UAAUoc,GAGxCC,EAAgBA,KACpB,GAAI1P,GAAUgP,iBAAmBP,GAAQvV,QAAS,CAChD,MAAM1F,EAAOib,EAAOvV,QAAQiH,OAC5B,OACEqP,EACEH,EAAmB7b,EAAM,YACzBwM,EAASgP,gBAAgBb,WAE3BqB,EACEH,EAAmB7b,EAAM,YACzBwM,EAASgP,gBAAgBZ,WAE3BoB,EACEH,EAAmB7b,EAAM,SACzBwM,EAASgP,gBAAgBX,MAG/B,CACE,OAAO,CACT,EAkGF,OA/FA3iB,EAAAA,EAAAA,YAAU,KACJuL,GACC+I,IAEDA,EAASgP,kBACPhP,EAASgP,gBAAgBb,UAC3BG,EAAY,IAAKtO,EAASgP,gBAAgBb,WAExCnO,EAASgP,gBAAgBZ,UAC3BG,EAAY,IAAKvO,EAASgP,gBAAgBZ,WAExCpO,EAASgP,gBAAgBX,OAC3BG,EAAS,IAAKxO,EAASgP,gBAAgBX,SAG3C3V,GAAS,GAAK,GACb,CAACsH,EAAU/I,KAEdvL,EAAAA,EAAAA,YAAU,KACR,IAAKuL,EAAO,OACZ,IAAK+I,EAAU,OACf,GAAIyO,EAAOvV,QAAS,OAEpB,MAAMyW,EAAM,IAAIC,GAAAA,GAAI,CAClBC,MAAOpgB,EAAE,aACTqgB,cAAc,IAGVC,EAAiBJ,EAAIK,UAAUvgB,EAAE,yBACvCsgB,EACGE,IAAI9B,EAAU,KAAM,EAAG,GACvB3Q,KAAK/N,EAAE,0BACP2Q,UAAS,KACRsO,EAAiBP,EAAS,IAE9B4B,EACGE,IAAI9B,EAAU,KAAM,EAAG,GACvB3Q,KAAK/N,EAAE,0BACP2Q,UAAS,KACVsO,EAAiBP,EAAS,IAE5B4B,EACGE,IAAI9B,EAAU,KAAM,EAAG,GACvB3Q,KAAK/N,EAAE,0BACP2Q,UAAS,KACVsO,EAAiBP,EAAS,IAG5B,MAAM+B,EAAiBP,EAAIK,UAAUvgB,EAAE,yBACvCygB,EACGD,IAAI7B,EAAU,KAAM,EAAG,GACvBhO,UAAS,KACRwO,EAAiBR,EAAS,IAE3B+B,OACHD,EACGD,IAAI7B,EAAU,KAAM,EAAG,GACvBhO,UAAS,KACRwO,EAAiBR,EAAS,IAE3B+B,OACHD,EACGD,IAAI7B,EAAU,KAAM,GAAI,IACxB5Q,KAAK/N,EAAE,0BACP2Q,UAAS,KACRwO,EAAiBR,EAAS,IAG9B,MAAMgC,EAAcT,EAAIK,UAAUvgB,EAAE,sBAsBpC,OArBA2gB,EACGH,IAAI5B,EAAO,IAAK,GAAK,KACrB7Q,KAAK/N,EAAE,uBACP2Q,UAAS,KACVyO,EAAcR,EAAM,IAEtB+B,EACGH,IAAI5B,EAAO,IAAK,GAAK,KACrB7Q,KAAK/N,EAAE,uBACP2Q,UAAS,KACVyO,EAAcR,EAAM,IAEtB+B,EACGH,IAAI5B,EAAO,IAAK,GAAK,KACrBjO,UAAS,KACRyO,EAAcR,EAAM,IAErB8B,OAEH1B,EAAOvV,QAAUyW,EAEV,KACLA,EAAIU,SAAS,CACd,GACA,CAACrQ,EAAU/I,KAGZhL,EAAAA,EAAAA,GAACiiB,GAAW7U,SAAQ,CAAC5Q,MAAO,CAAE0lB,WAAUC,WAAUC,eAAQ,EACvDvW,GACD7L,EAAAA,EAAAA,GAACsd,GAAa,WACZtd,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,mBAAoBuP,QAAS8P,KACtD7iB,EAAAA,EAAAA,GAACyN,GAAOS,QAAO,CAACzL,MAAOe,EAAE,mBAAoBuP,QA9M5BsR,KACrB,MAAMvB,EAAQN,EAAOvV,QAAQiH,OAE7B4O,EAAME,QAAQxf,EAAE,yBAAyByf,YAAc,IAClDC,EAAqBrB,GAAiB,aAG3CiB,EAAME,QAAQxf,EAAE,yBAAyByf,YAAc,IAClDC,EAAqBnB,GAAiB,aAG3Ce,EAAME,QAAQxf,EAAE,sBAAsByf,YAAc,IAC/CC,EAAqBlB,GAAc,UAExCQ,EAAOvV,QAAQkW,KAAKL,EAAM,KAiMtB9iB,EAAAA,EAAAA,GAACyN,GAAOQ,UAAS,CACfxL,MAAOe,EAAE,aACTuP,QAASA,KACP0Q,IAAkBxH,EAAS,WAhMnCuG,EAAOvV,QAAQiX,OACfxT,GACE1Q,EAAAA,EAAAA,GAAC2hB,GAAc,CACb1S,MAAOA,KACLuT,EAAOvV,QAAQgU,OACfhS,GAAO,EAET2S,QAASA,KACP3F,EAAS,SAAS,KAwLgD,KAGpEjc,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CACbJ,WAAU6V,IACVhhB,MAAOe,EAAE,YACTuP,QAASuQ,MAGX9Y,GAAWuL,KAAemB,KAAAA,IAAKlX,EAAAA,EAAAA,GAACuU,GAAa,CAACC,QAAM,MAClC,EC9T1B,MA+JM3Q,GAAYxJ,EAAAA,QAAOC,GAAI;;;;;EAOvBgqB,GAASjqB,EAAAA,QAAOkqB,MAAO,GAEvBC,GAAWnqB,EAAAA,QAAOC,GAAI;;;;;;IAMxBG,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OACV4F,GACC,qCAAoCA,EAAMC,OAAO2B,YAAY5B,EAAMC,OAAO2B,QAAQ;EAGjFwiB,IAAcpqB,EAAAA,EAAAA,SAAOmqB,GAAU;;EAI/BE,IAAiBrqB,EAAAA,EAAAA,SAAOmqB,GAAU;;;EAKxC,I,GAAA,GA5LeG,KACb,MAAMjB,GAAMxU,EAAAA,EAAAA,YAAW+S,KACjB,aAAEvW,EAAY,MAAEV,IAAUkE,EAAAA,EAAAA,YAAWpE,KACrC,SAAEiJ,EAAU+B,UAAWC,IAAoB/B,EAAAA,GAAAA,KAC3C4Q,GAASzO,EAAAA,EAAAA,QAAO,MAChB0O,GAAa1O,EAAAA,EAAAA,SAAO,GACpBoO,GAASpO,EAAAA,EAAAA,QAAO,MAEhB2O,EAAsBvd,IAC1B,GAAKqd,EAAO3X,SACR1F,EAAM,CACR,MAAM2a,EAAW3a,EAAK2a,SAChBC,EAAW5a,EAAK4a,SAChBC,EAAQ7a,EAAK6a,MACfF,GAEF0C,EAAO3X,QAAQ8X,sBAAsB,OAAO,GAAG,WAAY7C,EAASrc,EAAGqc,EAASpc,EAAGoc,EAASJ,GAE1FK,GAEFyC,EAAO3X,QAAQ8X,sBAAsB,OAAQ,GAAI,WAAY5C,EAAStc,EAAGsc,EAASrc,EAAGqc,EAASL,GAE5FM,GAEFwC,EAAO3X,QAAQ8X,sBAAsB,OAAQ,GAAI,QAAS3C,EAAMvc,EAAGuc,EAAMtc,EAAGsc,EAAMN,EAEtF,GAsHF,OA/GAriB,EAAAA,EAAAA,YAAU,KACR,GAAKsU,EAAL,CACA,IAAK6Q,EAAO3X,UACL4X,EAAW5X,QAAS,CACvBsX,EAAOtX,QAAQpQ,MAAQ+K,OAAOod,WAC9BT,EAAOtX,QAAQvS,OAASkN,OAAOqd,YAE/B,MAAMC,EAAyB,IAAlBnR,EAASmR,KAAa,OAAS,QAE5C,IAAIC,EACS/e,WACXye,EAAW5X,SAAU,EAErBkY,QAAWC,GAAAA,GAAkB,CAC3BC,WAAY7gB,mFACZ+f,OAAQA,EAAOtX,QACfqY,OAAS,oBAAmBJ,MAG9BN,EAAO3X,QAAUkY,EAEjBL,EAAmB/Q,EAASgP,iBAC5B/X,GAAM,EAAK,EAGbua,EACF,CAGF,MAAO,KACDX,EAAO3X,UACT2X,EAAO3X,QAAQuY,aACfZ,EAAO3X,QAAQwY,WACfb,EAAO3X,QAAU,KACnB,CAjCmB,CAkCpB,GACA,CAAC8G,KAMJtU,EAAAA,EAAAA,YAAU,KACR,IAAImf,EAAO,KACX,MAAM8G,EAAWA,KACflG,aAAaZ,GACbA,EAAOtR,YAAW,KAChBiX,EAAOtX,QAAQpQ,MAAQ+K,OAAOod,WAC9BT,EAAOtX,QAAQvS,OAASkN,OAAOqd,WAAW,GACzC,IAAI,EAGTrd,OAAO8H,iBAAiB,SAAUgW,GAElC,MAAMC,EAAS/d,OAAOge,WAAW,2BAGjC,OAFAD,EAAOjW,iBAAiB,SAAUgW,GAE3B,KAIL,GAHA9d,OAAO+H,oBAAoB,SAAU+V,GACrCC,EAAOhW,oBAAoB,SAAU+V,GAEjCd,EAAO3X,QACT,IACE2X,EAAO3X,QAAQuY,aACfZ,EAAO3X,QAAQwY,WACfb,EAAO3X,QAAU,IAEnB,CAAE,MAAOmH,GAAI,CACf,CACD,GACA,KAMH3U,EAAAA,EAAAA,YAAU,KACJiM,IAAiBb,IAAsB+Z,EAAO3X,UAAYyW,IAC5DkB,EAAO3X,QAAQuY,aACfZ,EAAO3X,QAAQwY,WACfb,EAAO3X,QAAU,KACnB,GACC,CAACvB,KAMJjM,EAAAA,EAAAA,YAAU,KACJiM,IAAiBb,IAAuB6Y,GAG1CpW,YAAW,KACLsX,EAAO3X,UACT2X,EAAO3X,QAAQuY,aACfZ,EAAO3X,QAAQwY,WACfb,EAAO3X,QAAU,KACnB,GACC,IACL,GACC,CAACvB,KAKJjM,EAAAA,EAAAA,YAAU,KACJmlB,EAAO3X,SAAWyW,GACpBoB,EAAmBpB,EACrB,GACC,CAACA,IAEA3N,EAAwBtV,EAAAA,cAAAA,EAAAA,SAAA,OAG1BT,EAAAA,EAAAA,GAAC6D,GAAS,UACP6H,IAAiBb,IAChBpK,EAAAA,cAAAA,EAAAA,SAAA,KACEA,EAAAA,cAAC6jB,GAAM,CAACuB,IAAKtB,IAAiBuB,KAAAA,IAC9B9lB,EAAAA,EAAAA,GAACykB,GAAW,KAAGsB,KAAAA,IACf/lB,EAAAA,EAAAA,GAAC0kB,GAAc,MAGT,ECnJhB,MAqBMhK,GAAmBrgB,EAAAA,QAAOC,GAAI,GAE9BqgB,GAAiBtgB,EAAAA,QAAOC,GAAI,GAElC,I,GAAA,GAAekiB,IAzBIwJ,KACjBxmB,GAAgB,WAEhBymB,KAAAA,IACEjmB,EAAAA,EAAAA,GAACkmB,GAAgB,WACflmB,EAAAA,EAAAA,GAAC0O,GAA6B,KAC9B1O,EAAAA,EAAAA,GAACJ,GAAW,CACVC,QAAQG,EAAAA,EAAAA,GAAC2X,GAAM,CAACC,UAAQ,IACxB9X,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,WACb3a,EAAAA,EAAAA,GAAC2kB,GAAM,KACP3kB,EAAAA,EAAAA,GAACmmB,GAAS,aChBxB,MAmBMzL,GAAmBrgB,EAAAA,QAAOC,GAAI,GAE9BqgB,GAAiBtgB,EAAAA,QAAOC,GAAI,GAElC,I,MAAA,GAAekiB,IAvBY4J,IACzBH,KAAAA,IACEjmB,EAAAA,EAAAA,GAACkmB,GAAgB,WACflmB,EAAAA,EAAAA,GAAC0O,GAA6B,KAC9B1O,EAAAA,EAAAA,GAACJ,GAAW,CACVE,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,WACb3a,EAAAA,EAAAA,GAACqmB,GAAW,WACVrmB,EAAAA,EAAAA,GAAC2kB,GAAM,aCZvB,MAAM2B,GAAuBA,IAEzB7lB,EAAAA,cAAAA,EAAAA,SAAA,KAAAgQ,KAAAA,IACEzQ,EAAAA,EAAAA,GAAC0O,GAA6B,KAAG6X,KAAAA,IACjCvmB,EAAAA,EAAAA,GAACJ,GAAW,CACVC,OAAQY,EAAAA,cAAAA,EAAAA,SAAA,MACRX,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,WACb3a,EAAAA,EAAAA,GAACqmB,GAAW,WACVrmB,EAAAA,EAAAA,GAAC2kB,GAAM,WAajBA,GAASA,KACb,MAAME,GAAa1O,EAAAA,EAAAA,SAAO,GACpByO,GAASzO,EAAAA,EAAAA,QAAO,MAChBoO,GAASpO,EAAAA,EAAAA,QAAO,MAChBuN,GAAMxU,EAAAA,EAAAA,YAAW+S,IA+FvB,OA1FAxiB,EAAAA,EAAAA,YAAU,KACR,GAAImlB,EAAO3X,QAAS,OACpB,GAAI4X,EAAW5X,QAAS,OAIxB,IAAIkY,EAFJZ,EAAOtX,QAAQpQ,MAAQ+K,OAAOod,WAC9BT,EAAOtX,QAAQvS,OAASkN,OAAOqd,YAa/B,MAXa7e,WACXye,EAAW5X,SAAU,EACrBkY,QAAWC,GAAAA,GAAkB,CAC3BC,WAAY7gB,mFACZ+f,OAAQA,EAAOtX,QACfqY,OAAQ,2BAEVV,EAAO3X,QAAUkY,CAAE,EAErBI,GAEO,KACLJ,GAAMA,EAAGM,UAAU,CACpB,GACA,CAACb,EAAQL,KAMZ9kB,EAAAA,EAAAA,YAAU,KACR,IAAImf,EAAO,KACX,MAAM8G,EAAWA,KACflG,aAAaZ,GACbA,EAAOtR,YAAW,KAChBiX,EAAOtX,QAAQpQ,MAAQ+K,OAAOod,WAC9BT,EAAOtX,QAAQvS,OAASkN,OAAOqd,WAAW,GACzC,IAAI,EAGTrd,OAAO8H,iBAAiB,SAAUgW,GAElC,MAAMC,EAAS/d,OAAOge,WAAW,2BAGjC,OAFAD,EAAOjW,iBAAiB,SAAUgW,GAE3B,KAIL,GAHA9d,OAAO+H,oBAAoB,SAAU+V,GACrCC,EAAOhW,oBAAoB,SAAU+V,GAEjCd,EAAO3X,QACT,IACE2X,EAAO3X,QAAQwY,WACfb,EAAO3X,QAAU,IAEnB,CAAE,MAAOmH,GAAI,CACf,CACD,GACA,CAACwQ,KAKJnlB,EAAAA,EAAAA,YAAU,KACJmlB,EAAO3X,UACT2X,EAAO3X,QAAQ8X,sBACb,OACA,GACA,WACArB,EAAIvB,SAAStc,EACb6d,EAAIvB,SAASrc,EACb4d,EAAIvB,SAASL,GAGf8C,EAAO3X,QAAQ8X,sBACb,OACA,GACA,WACArB,EAAIxB,SAASrc,EACb6d,EAAIxB,SAASpc,EACb4d,EAAIxB,SAASJ,GAGf8C,EAAO3X,QAAQ8X,sBACb,OACA,GACA,QACArB,EAAItB,MAAMvc,EACV6d,EAAItB,MAAMtc,EACV4d,EAAItB,MAAMN,GAEd,GACC,CAAC8C,EAAQlB,KAGV1jB,EAAAA,EAAAA,GAAC6D,GAAS,UACRpD,EAAAA,cAAC6jB,GAAM,CAACuB,IAAKtB,IACH,EAIV7J,GAAmBrgB,EAAAA,QAAOC,GAAI,GAE9BqgB,GAAiBtgB,EAAAA,QAAOC,GAAI,GAE5BuJ,GAAYxJ,EAAAA,QAAOC,GAAI;;;;;;;;;EAWvBgqB,GAASjqB,EAAAA,QAAOkqB,MAAO,GAE7B,I,idAAA,GAAe9jB,EAAAA,KAAW6lB,ICxI1B,MAoBME,GAAY/rB,IAAS,IAAR,EAAC+I,GAAE/I,EACpB,OACEgG,EAAAA,cAAAA,EAAAA,SAAA,KAAA2Y,KAAAA,IACEpZ,EAAAA,EAAAA,GAACqB,GAAE,UAAC,0DAA0DgY,KAAAA,IAC9DrZ,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2CAA0CyW,KAAAA,IAC7CxZ,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oIAEsE/C,EAAAA,EAAAA,GAAA,cAAG,YAAsB,kMAGrCA,EAAAA,EAAAA,GAAA,cAAG,eAAyB,+WAMvFA,EAAAA,EAAAA,GAAA,cAAG,iBAA2B,oBAAgBA,EAAAA,EAAAA,GAAA,cAAG,iCAA2C,mXAM1F4Z,KAAAA,IACJ5Z,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,srBAWCmX,KAAAA,IACJla,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,wYAOCkX,KAAAA,IAEJja,EAAAA,EAAAA,GAACuB,GAAE,UAAC,iEAAiEklB,KAAAA,IAErEzmB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,qFAGC2Y,KAAAA,IACLra,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0NAKC2jB,KAAAA,IAEJ1mB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+C+Y,KAAAA,IACnDza,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gSAKC4jB,KAAAA,IACJ3mB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,wdAQC6jB,KAAAA,IACJ5mB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,seAQC8jB,KAAAA,IAEJ7mB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,6FAGColB,KAAAA,IACL9mB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,sLAGuC/C,EAAAA,EAAAA,GAAA,cAAG,sBAAgC,gIAEpCA,EAAAA,EAAAA,GAAA,cAAG,kBAA4B,4JAGpE+mB,KAAAA,IACJ/mB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gQAI8C/C,EAAAA,EAAAA,GAAA,cAAG,0NAIhDgnB,KAAAA,IACJhnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+RAKD/C,EAAAA,EAAAA,GAAA,cAAG,6OAIDinB,KAAAA,IACJjnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8OAIe/C,EAAAA,EAAAA,GAAA,cAAG,gBAA0B,kIAG3CknB,KAAAA,IAEJlnB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+CylB,KAAAA,IACnDnnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2RAKCqkB,KAAAA,IACJpnB,EAAAA,EAAAA,GAAC+C,GAAC,WACA/C,EAAAA,EAAAA,GAAA,cAAG,wNAEuE,sJAGxEqnB,KAAAA,IAEJrnB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,mDAAmD4lB,KAAAA,IACvDtnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6VAMCwkB,KAAAA,IAEJvnB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+C8lB,KAAAA,IACnDxnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6QAIqD/C,EAAAA,EAAAA,GAAA,cAAG,4DACb,usBAW1CynB,KAAAA,IAEJznB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,gCAAgCgmB,KAAAA,IACpC1nB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gaAOC4kB,KAAAA,IAEJ3nB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+CkmB,KAAAA,IACnD5nB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yZAOC8kB,KAAAA,IAEJ7nB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,sCAAsComB,KAAAA,IAC1C9nB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6VAMCglB,KAAAA,IAEJ/nB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+CsmB,KAAAA,IACnDhoB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0XAOCklB,KAAAA,IAEJjoB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,yEAEC2mB,KAAAA,IACLloB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4LAIColB,KAAAA,IAEJnoB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,4BAA4B0mB,KAAAA,IAChCpoB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,i3BAcCslB,KAAAA,IAEJroB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,uBAAuB4mB,KAAAA,IAC3BtoB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,kgCAeCwlB,KAAAA,IAEJvoB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,6BAA6B8mB,KAAAA,IACjCxoB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8tCAmBC0lB,KAAAA,IAEJzoB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,eAAegnB,KAAAA,IACnB1oB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,qYAOC4lB,KAAAA,IAEJ3oB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,mDAAmDqnB,KAAAA,IACvD5oB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4nBAUC8lB,KAAAA,IACJ7oB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,swBAYC+lB,KAAAA,IAEJ9oB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qDAAqDwnB,KAAAA,IACzD/oB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0ZAOCimB,KAAAA,IAEJhpB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,oBAAoB0nB,KAAAA,IACxBjpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4OAKCmmB,KAAAA,IACJlpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6VAMComB,KAAAA,IACJnpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2ZAOCqmB,KAAAA,IAEJppB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,4DAA4D8nB,KAAAA,IAEhErpB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,6BAA6B4nB,KAAAA,IACjCtpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8fAQCwmB,KAAAA,IACJvpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4rBAWCymB,KAAAA,IAEJxpB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,6CAA6C+nB,KAAAA,IACjDzpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,sKAIC2mB,KAAAA,IAEJ1pB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qCAAqCooB,KAAAA,IACzC3pB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,kTAMC6mB,KAAAA,IAEJ5pB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,kBAAkBsoB,KAAAA,IAEtB7pB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,4DAA4DooB,KAAAA,IAChE9pB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yaAOCgnB,KAAAA,IACJ/pB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0UAMCinB,KAAAA,IACJhqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4tBAYCknB,KAAAA,IAEJjqB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,qEAAqEwoB,KAAAA,IACzElqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,ugDAuBConB,KAAAA,IAEJnqB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,oEAAoE0oB,KAAAA,IACxEpqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,kVAMCsnB,KAAAA,IAEJrqB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,qCAAqC4oB,KAAAA,IACzCtqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6kBAUCwnB,KAAAA,IACJvqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oTAMCynB,KAAAA,IAEJxqB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qCAAqCkpB,KAAAA,IACzCzqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6HAE+C/C,EAAAA,EAAAA,GAAA,cAAG,8BAAwC,oCAEzF0qB,KAAAA,IAEJ1qB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,i3BAcC4nB,KAAAA,IAEJ3qB,EAAAA,EAAAA,GAAC+C,GAAC,WACA/C,EAAAA,EAAAA,GAAA,cAAG,qIAED4qB,KAAAA,IACJ5qB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,mBAED/C,EAAAA,EAAAA,GAACc,GAAE,IAAE,mCAELd,EAAAA,EAAAA,GAACc,GAAE,IAAE,wBAELd,EAAAA,EAAAA,GAACc,GAAE,IAAE,eACWd,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,yCAAkC,EAAC,gCAG7DnE,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAAC6Z,GAAS,CACR1V,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFnR,OAAOC,SAAS1D,KAAO,SAAS,QAChC,EAEDX,EAAE,oBAIN,EAIDqnB,GAAYlwB,IAAS,IAAR,EAAC6I,GAAE7I,EACpB,OACE8F,EAAAA,cAAAA,EAAAA,SAAA,KAAAqqB,KAAAA,IACE9qB,EAAAA,EAAAA,GAACqB,GAAE,UAAC,oCAAoC0pB,KAAAA,IACxC/qB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iCAAgCioB,KAAAA,IACnChrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8HAEU/C,EAAAA,EAAAA,GAAA,cAAG,QAAQ,uJAE6BA,EAAAA,EAAAA,GAAA,cAAG,aAAa,uPAIjEirB,KAAAA,IACJjrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iEAC4D/C,EAAAA,EAAAA,GAAA,cAAG,YAAY,sBAAkBA,EAAAA,EAAAA,GAAA,cAAG,mBACxF,2UAIPkrB,KAAAA,IACJlrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,siBAMCooB,KAAAA,IACJnrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oIAEiB/C,EAAAA,EAAAA,GAAA,cAAG,4DAA4D,sBAAkBA,EAAAA,EAAAA,GAAA,cAAG,kDAC/D,uDACrCorB,KAAAA,IAEJprB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,iDAAiD8pB,KAAAA,IAErDrrB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,mEAEC4pB,KAAAA,IACLtrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yMAGCwoB,KAAAA,IAEJvrB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+C8pB,KAAAA,IACnDxrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iRAIC0oB,KAAAA,IACJzrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,uYAKC2oB,KAAAA,IACJ1rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iZAKC4oB,KAAAA,IAEJ3rB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,uEAECkqB,KAAAA,IACL5rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iIAEc/C,EAAAA,EAAAA,GAAA,cAAG,iBAAiB,yTAIjC6rB,KAAAA,IACJ7rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,wOAGa/C,EAAAA,EAAAA,GAAA,cAAG,gMAC+E,MAC9F8rB,KAAAA,IACJ9rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,sOAGQ/C,EAAAA,EAAAA,GAAA,cAAG,kMAC0F,MACpG+rB,KAAAA,IACJ/rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,mOAGG/C,EAAAA,EAAAA,GAAA,cAAG,UAAU,2GAEfgsB,KAAAA,IAEJhsB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+CuqB,KAAAA,IACnDjsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gPAICmpB,KAAAA,IACJlsB,EAAAA,EAAAA,GAAC+C,GAAC,WACA/C,EAAAA,EAAAA,GAAA,cAAG,iMACmF,mIAGpFmsB,KAAAA,IAEJnsB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,2CAA2C0qB,KAAAA,IAC/CpsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,uSAICspB,KAAAA,IAEJrsB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+C4qB,KAAAA,IACnDtsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,g5BAUCwpB,KAAAA,IAEJvsB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,cAAc8qB,KAAAA,IAClBxsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4TAIC0pB,KAAAA,IAEJzsB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+CgrB,KAAAA,IACnD1sB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,mVAKC4pB,KAAAA,IAEJ3sB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,uBAAuBkrB,KAAAA,IAC3B5sB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2QAIC8pB,KAAAA,IAEJ7sB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,+CAA+CorB,KAAAA,IACnD9sB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8TAICgqB,KAAAA,IAEJ/sB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,0DAECyrB,KAAAA,IACLhtB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oJAGCkqB,KAAAA,IAEJjtB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,sBAAsBwrB,KAAAA,IAC1BltB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8rBAQCoqB,KAAAA,IAEJntB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,uBAAuB0rB,KAAAA,IAC3BptB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,m0BASCsqB,KAAAA,IAEJrtB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,sBAAsB4rB,KAAAA,IAC1BttB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,mhCAWCwqB,KAAAA,IAEJvtB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,gBAAgB8rB,KAAAA,IACpBxtB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2TAIC0qB,KAAAA,IAEJztB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,sCAAsCmsB,KAAAA,IAC1C1tB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,qhBAMC4qB,KAAAA,IACJ3tB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,orBAQC6qB,KAAAA,IAEJ5tB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qCAAqCssB,KAAAA,IACzC7tB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yXAKC+qB,KAAAA,IAEJ9tB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,eAAewsB,KAAAA,IACnB/tB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yMAGCirB,KAAAA,IACJhuB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4RAICkrB,KAAAA,IACJjuB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6UAICmrB,KAAAA,IAEJluB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,8CAA8C4sB,KAAAA,IAElDnuB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,sBAAsB0sB,KAAAA,IAC1BpuB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+ZAKCsrB,KAAAA,IACJruB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,miBAMCurB,KAAAA,IAEJtuB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,sCAAsC6sB,KAAAA,IAC1CvuB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,kJAGCyrB,KAAAA,IAEJxuB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,iCAAiCktB,KAAAA,IACrCzuB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6PAIC2rB,KAAAA,IAEJ1uB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,mBAAmBotB,KAAAA,IAEvB3uB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,iDAAiDktB,KAAAA,IACrD5uB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,kWAKC8rB,KAAAA,IACJ7uB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8RAIC+rB,KAAAA,IACJ9uB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4oBAOCgsB,KAAAA,IAEJ/uB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,sEAAsEstB,KAAAA,IAC1EhvB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8vCAaCksB,KAAAA,IAEJjvB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,0EAA0EwtB,KAAAA,IAC9ElvB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+RAICosB,KAAAA,IAEJnvB,EAAAA,EAAAA,GAAC0B,GAAE,UAAC,gDAAgD0tB,KAAAA,IACpDpvB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,qdAMCssB,KAAAA,IACJrvB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6QAICusB,KAAAA,IAEJtvB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,mCAAmCguB,KAAAA,IACvCvvB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gIAGCysB,KAAAA,IAEJxvB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,utBAQC0sB,KAAAA,IAEJzvB,EAAAA,EAAAA,GAAC+C,GAAC,WACA/C,EAAAA,EAAAA,GAAA,cAAG,6GACD0vB,KAAAA,IACJ1vB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,mBAED/C,EAAAA,EAAAA,GAACc,GAAE,IAAE,mCAELd,EAAAA,EAAAA,GAACc,GAAE,IAAE,wBAELd,EAAAA,EAAAA,GAACc,GAAE,IAAE,eACWd,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,yCAAkC,EAAC,gCAG7DnE,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAAC6Z,GAAS,CACR1V,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFnR,OAAOC,SAAS1D,KAAO,SAAS,QAChC,EAEDX,EAAE,oBAGN,EAIDkX,IAAmBrgB,EAAAA,EAAAA,SAAOmD,EAAS;;;oBAGF,EAAnB1D,EAASC;;IAEzBlC,EAAMnB,MAAO;;;;;;;EASXikB,GAAiBtgB,EAAAA,QAAOC,GAAI,GAE5BsZ,GAAiBvZ,EAAAA,QAAOC,GAAI;IAC9BqD,EAAgBxD;;EAId0f,IAAYxf,EAAAA,EAAAA,SAAOiI,GAAM;YACA,EAAnBxI,EAASC;EAGrB,I,GAAA,GAr7BoB41B,KAClB,MAAM,OAACjxB,GAAUH,MACX,EAACiF,IAAKC,EAAAA,EAAAA,KAGZ,OAFAjE,GAAgB,aAGdQ,EAAAA,EAAAA,GAACJ,GAAW,CACVC,OAAMgb,KAAAA,IAAE7a,EAAAA,EAAAA,GAAC2X,GAAM,KACf7X,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,UACZjc,IAAWd,GAAcoC,EAAAA,EAAAA,GAACwmB,GAAS,CAAChjB,EAAGA,KAAOxD,EAAAA,EAAAA,GAAC6qB,GAAS,CAACrnB,EAAGA,MAInEzD,OAAM+a,KAAAA,IAAE9a,EAAAA,EAAAA,GAACuD,GAAM,MACf,EChBN,MAsHMQ,IAAQ1J,EAAAA,EAAAA,SAAO6G,GAAI;;EAInB0uB,IAAUv1B,EAAAA,EAAAA,SAAO0I,GAAG;;;mBAGY,EAAnBjJ,EAASC;EAGtBsjB,IAAchjB,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;;;;;;;EAUhDwZ,GAAiBvZ,EAAAA,QAAOC,GAAI;IAC9BqD,EAAgBxD;;EAId0f,IAAYxf,EAAAA,EAAAA,SAAOiI,GAAM;YACA,EAAnBxI,EAASC;EAGf6b,IAAavb,EAAAA,EAAAA,SAAO0I,GAAG;;iBAEO,IAAnBjJ,EAASC;WACfc,IAAA,IAAC,MAAEwF,GAAOxF,EAAA,OAAKwF,EAAMC,OAAO6B,KAAK;EAG5C,I,GAAA,GAzJ0B0tB,KACxB,MAAM,EAAErsB,IAAMC,EAAAA,EAAAA,KACRuS,GAASC,EAAAA,GAAAA,KACTC,GAAcC,EAAAA,EAAAA,UACdE,GAAkBF,EAAAA,EAAAA,WAClB,KAAExL,EAAI,QAAEH,EAAO,QAAEF,GAAYJ,GAAOpM,GAAgBQ,mBAgB1D,OACEmC,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAAC+D,GAAK,UAAEP,EAAE,8BAET8G,EACC7J,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAAC4vB,GAAO,CAACtsB,QAAM,UAAEE,EAAE,iCACnBxD,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CACbvL,MAAOe,EAAE,kBACTuP,QAASA,KACPnL,OAAOC,SAAS1D,KAAO,GAAG,OAMlCnE,EAAAA,EAAAA,GAACqd,GAAW,WACVrd,EAAAA,EAAAA,GAAC6U,GAAI,CACHZ,OAjCK7N,UAA2B,IAApB,YAAE8P,GAAazb,EACnC,MAEM6L,EAAU,CAAE6B,SAAU+N,EAAa3N,MAFzB,IAAI2S,gBAAgBtT,OAAOC,SAASsT,QAC9B9T,IAAI,OAGpB,SAAEN,SAAmB4D,EAAKrE,GACR,MAApBS,EAASU,QAAsC,MAApBV,EAASU,QACtCuO,EAAO,0BAA2B,CAACpJ,KAAM,UAEnB,MAApB7F,EAASU,QACXuO,EAAO,oBAAqB,CAACpJ,KAAM,SACrC,EAuBQkI,QAAS,CACP2B,KAAM,SACNC,eAAgB,kBAChB,GAED,CAAA/b,EAAaua,KAAU,IAAtB,OAAEhD,GAAQvX,EAIV,OAHAub,EAAYjJ,QAAUiI,EAAM,cAAe,IAC3CmB,EAAgBpJ,QAAUiI,EAAM,kBAAmB,IAGjDzU,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAACsR,GAAMc,SAAQ,CACbb,KAAK,cACL9O,MAAOe,EAAE,gCACToT,YAAapT,EAAE,sCACf2O,UAAQ,EACRR,WAAY,CACVmF,UAAW,CACTta,MAAOgI,IACP0O,QAAS1P,EAAE,8BAA+B,CACxCuT,OAAQvS,OAGZyO,QAAS,CACPzW,MAAO,IAAIwa,OACR,6EAEH9D,QAAS1P,EAAE,4BAIhB0O,EAAOgE,cACNlW,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAOgE,YAAYhD,UAIxBlT,EAAAA,EAAAA,GAACsR,GAAMc,SAAQ,CACbb,KAAK,kBACL9O,MAAOe,EAAE,oCACToT,YAAapT,EAAE,0CACf2O,UAAQ,EACRR,WAAY,CACVsF,SAAWza,GACTA,IAAU0Z,EAAYjJ,SACtBzJ,EAAE,qCAGP0O,EAAOmE,kBACNrW,EAAAA,EAAAA,GAAC4V,GAAU,CAACiB,KAAK,QAAQ1T,OAAK,UAC3B+O,EAAOmE,gBAAgBnD,UAI5BlT,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAACyN,GAAOO,QAAO,CAACvL,MAAOe,EAAE,YAAaoJ,KAAK,YAC3C5M,EAAAA,EAAAA,GAAC6Z,GAAS,CACR1V,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFnR,OAAOC,SAAS1D,KAAO,GAAG,QAC1B,EAEDX,EAAE,oBAGN,IAIRgH,IAAO0M,KAAAA,IAAIlX,EAAAA,EAAAA,GAACuU,GAAa,CAACC,QAAM,OAGpC,ECxHP,MAkBMkG,IAAmBrgB,EAAAA,EAAAA,SAAOqD,EAAuB;;EAIjDid,GAAiBtgB,EAAAA,QAAOC,GAAI;;;EAKlC,I,gVAAA,GA3B0Bw1B,KACxBtwB,GAAgB,mBAEhB+mB,KAAAA,IACEvmB,EAAAA,EAAAA,GAACJ,GAAW,CACVC,QAAQG,EAAAA,EAAAA,GAAC2X,GAAM,IACf7X,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,WACb3a,EAAAA,EAAAA,GAAC6vB,GAAiB,MAIxB9vB,QAAQC,EAAAA,EAAAA,GAACuD,GAAM,QCNrB,MAoBMwsB,GAASt1B,IAAS,IAAR,EAAC+I,GAAE/I,EACjB,OACEgG,EAAAA,cAAAA,EAAAA,SAAA,KAAA2Y,KAAAA,IACEpZ,EAAAA,EAAAA,GAACqB,GAAE,UAAC,6BAA6BgY,KAAAA,IACjCrZ,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2CAA0CkX,KAAAA,IAE7Cja,EAAAA,EAAAA,GAACuB,GAAE,UAAC,2BAA2BiY,KAAAA,IAC/BxZ,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8CACyC/C,EAAAA,EAAAA,GAAA,cAAG,kBAA4B,kDAC7CA,EAAAA,EAAAA,GAAA,cAAG,YAAsB,UAAMA,EAAAA,EAAAA,GAAA,cAAG,mBAA6B,wEACjEA,EAAAA,EAAAA,GAAA,cAAG,YAAsB,QAAIA,EAAAA,EAAAA,GAAA,cAAG,YAAsB,kDAC/DA,EAAAA,EAAAA,GAAA,cAAG,YAAwB,2DACjCA,EAAAA,EAAAA,GAAA,cAAG,eAAyB,OACrC4Z,KAAAA,IACJ5Z,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,mFAGC0jB,KAAAA,IAEJzmB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,kCAAkC2Y,KAAAA,IACtCla,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8PAKCsX,KAAAA,IACJra,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2KAIC0X,KAAAA,IACJza,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0IAGCitB,KAAAA,IACJhwB,EAAAA,EAAAA,GAAC0C,GAAE,WACD1C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,iGAIJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,qaAQD8jB,KAAAA,IAEL1mB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,uBAAuBolB,KAAAA,IAC3B3mB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yIAEuD/C,EAAAA,EAAAA,GAAA,cAAG,4BACpC,wSAKrB4mB,KAAAA,IACJ5mB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,ieAQC8jB,KAAAA,IAEJ7mB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,uBAAuBulB,KAAAA,IAC3B9mB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oWAMCgkB,KAAAA,IACJ/mB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gDAA+CktB,KAAAA,IAClDjwB,EAAAA,EAAAA,GAAC0C,GAAE,WACD1C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,gEACJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,8PAMJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,mHAIJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,oOAMJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,kPAMJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,kEACJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,8GAIDskB,KAAAA,IAELlnB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,8CAA8CylB,KAAAA,IAClDhnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+jBASCskB,KAAAA,IAEJrnB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,2BAA2B0lB,KAAAA,IAC/BjnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,saAOCwkB,KAAAA,IAEJvnB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,iCAAiC4lB,KAAAA,IACrCnnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4ZAOCmtB,KAAAA,IACJlwB,EAAAA,EAAAA,GAAC0C,GAAE,WACD1C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,uIAIJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,8FAIJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,2EAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,iFAIJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,uHAID6kB,KAAAA,IAELznB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qCAAqC6lB,KAAAA,IACzCpnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,wHAEiD/C,EAAAA,EAAAA,GAAA,cAAG,YAAsB,krBAWzEsnB,KAAAA,IACJtnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gGAGCykB,KAAAA,IACJxnB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yOAKC4kB,KAAAA,IAEJ3nB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qBAAqBmmB,KAAAA,IACzB1nB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0HAE8C/C,EAAAA,EAAAA,GAAA,cAAG,aAAuB,OACvE4nB,KAAAA,IACJ5nB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,sRAKC+kB,KAAAA,IACJ9nB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6mBAUC8kB,KAAAA,IAEJ7nB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,+BAA+BymB,KAAAA,IACnChoB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+qBAWCmlB,KAAAA,IACJloB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,ojBASCqlB,KAAAA,IACJpoB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,qOAKCglB,KAAAA,IAEJ/nB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,mCAAmC+mB,KAAAA,IACvCtoB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oFAGCklB,KAAAA,IAEJjoB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,wCAAwCinB,KAAAA,IAC5CxoB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,2JAIC2lB,KAAAA,IACJ1oB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,snBAUColB,KAAAA,IAEJnoB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,sBAAsBqnB,KAAAA,IAC1B5oB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oQAKCslB,KAAAA,IAEJroB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qBAAqBsnB,KAAAA,IACzB7oB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,ofAQCwlB,KAAAA,IAEJvoB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qBAAqBwnB,KAAAA,IACzB/oB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,uLAG8B/C,EAAAA,EAAAA,GAAA,cAAG,8BAAwC,qyBAaxEyoB,KAAAA,IAEJzoB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,mDAAmD0nB,KAAAA,IACvDjpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4PAKCotB,KAAAA,IACJnwB,EAAAA,EAAAA,GAAC0C,GAAE,WACD1C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,yHAGF5C,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,yCAAkC,EAAC,+BAE7CnE,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,8LAKDsmB,KAAAA,IACLlpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4VAMC4lB,KAAAA,IAEJ3oB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,eAAe4nB,KAAAA,IACnBnpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yTAMCumB,KAAAA,IAEJtpB,EAAAA,EAAAA,GAAC+C,GAAC,WACA/C,EAAAA,EAAAA,GAAA,cAAG,sIAEDupB,KAAAA,IACJvpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,eAAgB/C,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,yCAAkC,EAAC,gCAC9DnE,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAAC6Z,GAAS,CACR1V,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFnR,OAAOC,SAAS1D,KAAO,SAAS,QAChC,EAEDX,EAAE,oBAGN,EAID4sB,GAASz1B,IAAS,IAAR,EAAC6I,GAAE7I,EACjB,OACE8F,EAAAA,cAAAA,EAAAA,SAAA,KAAAqoB,KAAAA,IACE9oB,EAAAA,EAAAA,GAACqB,GAAE,UAAC,iBAAiBooB,KAAAA,IACrBzpB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iCAAgCimB,KAAAA,IAEnChpB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,4BAA4BooB,KAAAA,IAChC3pB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,4CACuC/C,EAAAA,EAAAA,GAAA,cAAG,gBAAgB,gDAA4CA,EAAAA,EAAAA,GAAA,cAAG,SAAS,YAAQA,EAAAA,EAAAA,GAAA,cAAG,UAAU,mEAC5EA,EAAAA,EAAAA,GAAA,cAAG,UAAU,QAAIA,EAAAA,EAAAA,GAAA,cAAG,QAAQ,kCAA8BA,EAAAA,EAAAA,GAAA,cAAG,UAAU,gEACvEA,EAAAA,EAAAA,GAAA,cAAG,aAAa,OAC1E8pB,KAAAA,IACJ9pB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0EAECqmB,KAAAA,IAEJppB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qCAAqCwoB,KAAAA,IACzC/pB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oPAECinB,KAAAA,IACJhqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iJAECmnB,KAAAA,IACJlqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8HAECstB,KAAAA,IACJrwB,EAAAA,EAAAA,GAAC0C,GAAE,WACD1C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,8FAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,wUAGDymB,KAAAA,IAELrpB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,iBAAiB6oB,KAAAA,IACrBpqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,oZAECunB,KAAAA,IACJtqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,qaAECymB,KAAAA,IAEJxpB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,wBAAwBgpB,KAAAA,IAC5BvqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,kUAEC0nB,KAAAA,IACJzqB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,qCAAoCutB,KAAAA,IACvCtwB,EAAAA,EAAAA,GAAC0C,GAAE,WACD1C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,wDACJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,6LAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,uGAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,yMAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,sLAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,kEACJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,iGAGD8mB,KAAAA,IAEL1pB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,+CAA+CmpB,KAAAA,IACnD1qB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8gBAEC6mB,KAAAA,IAEJ5pB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,wBAAwBopB,KAAAA,IAC5B3qB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,uXAEC8mB,KAAAA,IAEJ7pB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,4BAA4BqpB,KAAAA,IAChC5qB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,0XAECwtB,KAAAA,IACJvwB,EAAAA,EAAAA,GAAC0C,GAAE,WACD1C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,sHAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,wGAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,4EAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,iFAGJ5C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,8GAGDqnB,KAAAA,IAELjqB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,6BAA6BwpB,KAAAA,IACjC/qB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,yGACoG/C,EAAAA,EAAAA,GAAA,cAAG,UAAU,wnBAChHgrB,KAAAA,IACJhrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,wEAECkoB,KAAAA,IACJjrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,sMAEConB,KAAAA,IAEJnqB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,oBAAoB2pB,KAAAA,IACxBlrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+GAC0G/C,EAAAA,EAAAA,GAAA,cAAG,aAAa,OACzHmrB,KAAAA,IACJnrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iPAECuoB,KAAAA,IACJtrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+jBAECsnB,KAAAA,IAEJrqB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,iCAAiCiqB,KAAAA,IACrCxrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8lBAEC0oB,KAAAA,IACJzrB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,ifAEC2oB,KAAAA,IACJ1rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,gPAECynB,KAAAA,IAEJxqB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,kCAAkCqqB,KAAAA,IACtC5rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+DAEC+nB,KAAAA,IAEJ9qB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,yCAAyCsqB,KAAAA,IAC7C7rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,sJAEC+oB,KAAAA,IACJ9rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,8FACyF/C,EAAAA,EAAAA,GAAA,cAAG,uBAAuB,yaAAqaA,EAAAA,EAAAA,GAAA,cAAG,wBAAwB,aACljBorB,KAAAA,IAEJprB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qBAAqBwqB,KAAAA,IACzB/rB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,iPAECsoB,KAAAA,IAEJrrB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qBAAqB0qB,KAAAA,IACzBjsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,ygBAECwoB,KAAAA,IAEJvrB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,qBAAqB2qB,KAAAA,IACzBlsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,ozBAEC4oB,KAAAA,IAEJ3rB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,4CAA4C6qB,KAAAA,IAChDpsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,6OAECytB,KAAAA,IACJxwB,EAAAA,EAAAA,GAAC0C,GAAE,WACD1C,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,gHAGF5C,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,yCAAkC,EAAC,+BAE7CnE,EAAAA,EAAAA,GAAC4C,GAAE,UAAC,qJAGD0pB,KAAAA,IACLtsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,+VAECipB,KAAAA,IAEJhsB,EAAAA,EAAAA,GAACuB,GAAE,UAAC,iBAAiBirB,KAAAA,IACrBxsB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,uSAEC2pB,KAAAA,IAEJ1sB,EAAAA,EAAAA,GAAC+C,GAAC,WACA/C,EAAAA,EAAAA,GAAA,cAAG,8HACD4sB,KAAAA,IACJ5sB,EAAAA,EAAAA,GAAC+C,GAAC,UAAC,YAAQ/C,EAAAA,EAAAA,GAAA,KAAGmE,KAAK,yCAAkC,EAAC,gCAEtDnE,EAAAA,EAAAA,GAAC4T,GAAc,WACb5T,EAAAA,EAAAA,GAAC6Z,GAAS,CACR1V,KAAK,IACL4O,QAAUqB,IACRA,EAAE2E,iBACFnR,OAAOC,SAAS1D,KAAO,SAAS,QAChC,EAEDX,EAAE,oBAGN,EAIDkX,IAAmBrgB,EAAAA,EAAAA,SAAOmD,EAAS;;;oBAGF,EAAnB1D,EAASC;;IAEzBlC,EAAMnB,MAAO;;;;;;;EASXikB,GAAiBtgB,EAAAA,QAAOC,GAAI,GAE5BsZ,GAAiBvZ,EAAAA,QAAOC,GAAI;IAC9BqD,EAAgBxD;;EAId0f,IAAYxf,EAAAA,EAAAA,SAAOiI,GAAM;YACA,EAAnBxI,EAASC;EAGrB,OAjmBkB02B,KAChB,MAAM,OAAE/xB,GAAWH,MACb,EAAEiF,IAAMC,EAAAA,EAAAA,KAGd,OAFAjE,GAAgB,eAGdQ,EAAAA,EAAAA,GAACJ,GAAW,CACVC,OAAMgb,KAAAA,IAAE7a,EAAAA,EAAAA,GAAC2X,GAAM,KACf7X,SACEE,EAAAA,EAAAA,GAAC0a,GAAgB,WACf1a,EAAAA,EAAAA,GAAC2a,GAAc,UACZjc,IAAWd,GAAcoC,EAAAA,EAAAA,GAAC+vB,GAAM,CAACvsB,EAAGA,KAAQxD,EAAAA,EAAAA,GAACowB,GAAM,CAAC5sB,EAAGA,MAI9DzD,OAAM+a,KAAAA,IAAE9a,EAAAA,EAAAA,GAACuD,GAAM,MACf,E,oCCrBN,MAAMmtB,GAAe/hB,EAAAA,iBAAkB;IACnCgiB,GAAAA;IACAC,GAAAA;;;iBAGajwB,GvDpBM;;;;;;;;;;;wBuD+BCN,GAAMC,OAAOE;aACxBH,GAAMC,OAAOC;;;;;;;iBAOTI,GvDvCM;;;;;;;MuD8CjBM;;;;MAIAA;;;;MAIAA;;;;MAIAA;;;;MAIAA;;;;MAIAA;;;;MAIA6B;;;;MAIAT;;;;;;;;;cASQ1B,GAAI;wBACMN,GAAMC,OAAO4B;cACvBvB,GAAI7G,EAASC,QAAU;;;;;;;;;;;;;uBAadsG,GAAMC,OAAOsB;oCACAvB,GAAMC,OAAO0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;wBA8BzB3B,GAAMC,OAAOE;aACxBH,GAAMC,OAAOC;;;iBAGTI,GvDrIM;;;;;;euD2IRhB;;EAIf,OAAec,EAAAA,KAAWiwB,I,mCC1I1B,MAAMG,GAAW,CACfC,OAAQ,QACRC,QAAS,QACTC,KAAM,SACN,gBAAiB,SACjBC,OAAQ,OACRC,MAAO,OACPC,KAAM,KACNC,OAAQ,QAMJC,GAAuBA,KAC3B,MAAM,EAAE7tB,IAAMC,EAAAA,EAAAA,MACP6tB,EAAWC,IAAgBnnB,EAAAA,EAAAA,UAAS,MACrConB,GAAcrb,EAAAA,EAAAA,QAAO,MACrBsb,GAAiBtb,EAAAA,EAAAA,QAAO,MA0B9B,OAbA1W,EAAAA,EAAAA,YAAU,KACR,IAAkB,IAAd6xB,IAAoC,IAAdA,EAAqB,OAE/C,MAAMI,GAAUC,EAAAA,GAAAA,MACZD,GACEA,EAAQngB,MAAQmgB,EAAQE,UAC1BJ,EAAYvkB,QAAUykB,EAAQngB,KAC9BkgB,EAAexkB,QAAUykB,EAAQE,QACjCL,EAnBoBG,OACnBA,IACAA,EAAQngB,MACRsf,GAASa,EAAQngB,OAGhBsgB,KAAIH,EAAQE,QAASf,GAASa,EAAQngB,OAAS,GAapCugB,CAAiBJ,IAElC,GACC,CAACH,IAGF9wB,EAAAA,cAAAA,EAAAA,SAAA,MACiB,IAAd6wB,IACCtxB,EAAAA,EAAAA,GAAC6D,GAAS,UACPL,EAAE,wBAAwBsJ,QACzB,iBACA,CAACilB,EAAOv1B,KACN,MAAMD,EAAMC,EAAMw1B,OACZzqB,EAAO,CACXgK,KAAMigB,EAAYvkB,QAClB2kB,QAASH,EAAexkB,SAE1B,YAAqB1G,IAAdgB,EAAKhL,GAAqB,GAAKgL,EAAKhL,EAAI,KAKtD,EAIDsH,IAAYxJ,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;;eAGrCuG,GAAI;WACRlG,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAOwB,QAAQ;sBACzBnH,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAO8B,OAAO;ECrEnD6vB,GAAoBA,KACxB,MAAOC,EAAQC,IAAa/nB,EAAAA,EAAAA,WAAS,GAYrC,OAVA3K,EAAAA,EAAAA,YAAU,KACR,IAAe,IAAXyyB,EAAkB,MAMtB,GACC,CAACC,IAGF1xB,EAAAA,cAAAA,EAAAA,SAAA,MACc,IAAXyxB,IACClyB,EAAAA,EAAAA,GAAC6D,GAAS,UAAC,WAAU,QAEtB,EAIDA,IAAYxJ,EAAAA,EAAAA,SAAOsZ,EAAgBvZ,UAAW;;eAErCuG,GAAI;;WAERlG,IAAA,IAAC,MAAE4F,GAAO5F,EAAA,OAAK4F,EAAMC,OAAO0B,KAAK;sBACtBrH,IAAA,IAAC,MAAE0F,GAAO1F,EAAA,OAAK0F,EAAMC,OAAOsB,OAAO;8BCzBzD,O,SACKwwB,ECXHC,MAAO,CACLC,OAAQ,CACNC,OAAQ,CACNC,SAAU,WACVC,aAAc,SACdC,cAAe,UACfC,cAAe,UACfC,gBAAiB,UACjBC,eAAgB,WAChBC,iBAAkB,cAClBC,WAAY,OACZC,aAAc,SACdC,KAAM,CACJlf,SAAU,WACVmf,aAAc,UACdC,eAAgB,qBAChBC,gBAAiB,uBAEnB3qB,QAAS,cAEX4qB,cAAe,CACbC,QAAS,CACPhpB,QAAS,sCACTipB,QAAS,yBAEXC,UAAW,CACTlpB,QAAS,sCACTipB,QAAS,yBAEXE,SAAU,CACRnpB,QAAS,uCACTipB,QAAS,yBAEXG,WAAY,CACVppB,QAAS,yCACTipB,QAAS,yBAEXI,YAAa,CACXrpB,QAAS,wCACTipB,QAAS,yBAEXK,cAAe,CACbtpB,QAAS,wCACTipB,QAAS,yBAEX,OAAU,CACRtoB,MAAO,gCACPsoB,QAAS,yBAEXM,OAAQ,CACNN,QAAS,yBAEX10B,SAAU,CACRyL,QAAS,8CACTipB,QAAS,4DAEX9qB,QAAS,CACP6B,QAAS,+CAGb/J,KAAM,CACJuzB,aAAc,CACZlQ,MAAO,iBACP1c,KAAM,gCAER6sB,YAAa,CACXnQ,MAAO,oBACP1c,KAAM,oDAGVgL,OAAQ,CACN8hB,eAAgB,yBAChBC,kBAAmB,yBACnBC,mBAAoB,iDACpBC,oBAAqB,mHACrBC,kBAAmB,2BAGvBC,UAAW,CACTzQ,MAAO,kBACP2O,OAAQ,CACN+B,iBAAkB,0BAEpBC,QAAS,CACPC,cAAe,CACbC,YAAa,yBAEfC,SAAU,CACRD,YAAa,iBAEfE,QAAS,CACPC,SAAU,kBACVC,UAAW,mBACXC,UAAW,mBACXC,IAAK,YAEPxC,OAAQ,CACNyC,UAAW,YACXC,YAAa,cACbC,MAAO,QAGXC,cAAe,CACbvR,MAAO,yBACP2O,OAAQ,CACN6C,aAAc,uBAMtBC,UAAW,CACT,GAAM,UACN,GAAM,YAGRC,UAAW,CACTC,WAAY,CACVhkB,KAAM,2BACNikB,OAAQ,CACN,eAAgB,OAChB,YAAa,SAGjBC,WAAY,CACVlkB,KAAM,4BACNikB,OAAQ,CACNhf,MAAO,SACPsG,WAAY,aACZ1T,UAAW,YACXssB,UAAW,YACX72B,SAAU,WACVsJ,SAAU,WACVwtB,iBAAkB,uBAClBC,SAAU,WACVC,aAAc,iBAEhBC,KAAM,CACJvD,OAAQ,CACNwD,eAAgB,aAGpB9C,KAAM,CACJrP,MAAO,CACL7pB,QAAS,2BACTi8B,OAAQ,oBAGZC,OAAQ,CACNC,aAAc,uCAEhBhkB,OAAQ,CACNsE,MAAO,kCAGXxJ,UAAW,CACTuE,KAAM,0BACNikB,OAAQ,CACNI,SAAU,WACV,sBAAuB,cACvB,mBAAoB,cACpB1oB,kBAAmB,WACnBhC,MAAO,QACPG,OAAQ,cACR8qB,cAAe,YACfC,cAAe,WACfC,IAAK,eACLC,UAAW,SACXC,eAAgB,iCAElBtD,KAAM,CACJrP,MAAO,CACL7pB,QAAS,0BACTi8B,OAAQ,mBAEVzD,OAAQ,CACNiE,WAAY,aACZC,eAAgB,mBAGpBX,KAAM,CACJvD,OAAQ,CACNmE,KAAM,eACNC,OAAQ,WAGZV,OAAQ,CACNC,aAAc,sCAEhBhkB,OAAQ,CACNqkB,eAAgB,qDAChBK,QAAS,8BAGbC,SAAU,CACRtlB,KAAM,wBACNikB,OAAQ,CACNI,SAAU,WACVO,cAAe,YACf3f,MAAO,SACPsG,WAAY,aACZ1T,UAAW,YACXssB,UAAW,YACXxQ,KAAM,iBACN4R,UAAW,WACXj4B,SAAU,WACVsJ,SAAU,WACVwtB,iBAAkB,wBAEpB1C,KAAM,CACJrP,MAAO,CACL7pB,QAAS,yBACTi8B,OAAQ,iBAEVzD,OAAQ,CACNwE,MAAO,kBAETC,YAAa,CACXpT,MAAO,uBACP2O,OAAQ,CACN6C,aAAc,OACd6B,UAAW,8BACXC,eAAgB,6BAGpBC,QAAS,CACPC,KAAM,sBAGVllB,OAAQ,CACNsE,MAAO,iCAET6gB,QAAS,CACPC,aAAc,aACdC,MAAO,QACPC,UAAW,YACXC,WAAY,cAEdnF,OAAQ,CACNpN,KAAM,CACJ,EAAK,OACL,EAAK,SAEPwS,MAAO,CACL,KAAQ,MACR,MAAS,OAGbzB,OAAQ,CACNC,aAAc,qCAEhB7C,cAAe,CACb0D,MAAO,CACL/S,IAAK,CACH1Z,QAAS,oCACTipB,QAAS,0BAGb/c,MAAO,CACL9L,KAAM,CACJJ,QAAS,oCACTipB,QAAS,uDAKjBwD,MAAO,CACLxlB,KAAM,sCACNikB,OAAQ,CACNjkB,KAAM,OACN,eAAgB,OAChB,YAAa,OACb,sBAAuB,cACvB,mBAAoB,cACpB4kB,cAAe,YACfP,SAAU,WACV+B,aAAc,oBACdC,UAAW,mBACXtB,UAAW,SACXuB,WAAY,aACZC,SAAU,WACVrsB,SAAU,CACRssB,YAAa,cACb7qB,kBAAmB,WACnBhC,MAAO,QACPG,OAAQ,gBAGZyqB,KAAM,CACJvD,OAAQ,CACNyF,gBAAiB,YACjBtB,KAAM,eACNrE,MAAO,YACPsE,OAAQ,WAGZsB,KAAM,CACJrU,MAAO,iCAET3C,KAAM,CACJ2C,MAAO,iCAETqS,OAAQ,CACNC,aAAc,4CAEhBjD,KAAM,CACJiF,gBAAiB,CACftU,MAAO,kBACP2O,OAAQ,CACN6C,aAAc,CACZ+C,SAAU,WACVC,aAAc,eACd3sB,SAAU,cACV4sB,yBAA0B,SAIhCzU,MAAO,CACL7pB,QAAS,gCACTi8B,OAAQ,wBAEVzD,OAAQ,CACNiE,WAAY,aACZxpB,UAAW,YACXsrB,kBAAmB,wDCpU3BC,KAAM,CACJC,cAAe,qBACfC,SAAU,iBACVC,QAAS,sBCHXC,IAAK,CACH1wB,MAAO,UACPS,OAAQ,SAERgC,KAAM,OAENkuB,qBAAsB,wBACtBC,WAAY,gBAEZ5tB,MAAO,oBACPwtB,SAAU,uBACVK,eAAgB,QAChBttB,QAAS,sBACTutB,iBAAkB,WAClBC,eAAgB,QAChBC,cAAe,OACfC,cAAe,OACfC,UAAW,YAEXC,OAAQ,SACRnqB,MAAO,QACPiF,KAAM,OACNmlB,OAAQ,SACRtf,KAAM,OACN6H,QAAS,MCxBX0X,KAAM,CACJC,MAAO,CACL/iB,MAAO,CACL/T,MAAO,sBACPmU,YAAa,kBAEfzO,SAAU,CACR1F,MAAO,gBACPmU,YAAa,YAEfR,YAAa,CACX3T,MAAO,gBACPmU,YAAa,IAEfP,gBAAiB,CACf5T,MAAO,4BACPmU,YAAa,IAEfV,YAAa,CACXzT,MAAO,eACPmU,YAAa,IAEfzU,MAAO,CACLq3B,cAAe,6CACfC,cAAe,yBACfC,cAAe,yBACfC,IAAK,mBACLC,WAAY,6BACZznB,SAAU,2BAIdlK,MAAO,CACL2b,MAAO,SAGTuP,eAAgB,CACdvP,MAAO,sBACPtZ,QAAS,iDAGXuvB,gBAAiB,CACfjW,MAAO,wBACPkW,aACE,yFACFxvB,QACE,yHC9CNvK,OAAQ,CACN6jB,MAAO,8BACPmW,UAAW,kCACXC,QAAS,iBACTC,WAAY,eACZC,QAAS,WCLXC,MAAO,CACLvW,MAAO,iBACPkW,aAAc,iKACdM,YACE,4DAEJrd,WAAY,CACV6G,MAAO,aACPkW,aACE,+GACFM,YACE,kGCXJ3uB,SAAU,CACR8F,KAAM,WACNE,KAAM,4BACNnG,SAAU,qBACV+uB,IAAK,yHACLC,MAAO,mGCLT7B,SAAU,CACR7U,MAAO,WACP2W,IAAK,CACHlF,UAAW,WACXmF,MAAO,gBCJXC,IAAK,CACHnwB,QAAS,CACPowB,gBAAiB,iDACjBC,eAAgB,8CAElBx4B,MAAO,CACLy4B,QAAS,wBACTC,cAAe,yCACfC,YAAa,6BTcjBC,iBAAkB,CAChBt4B,MAAO,yCAGTu4B,eAAgB,CACdv4B,MAAO,6CAGTkhB,IAAK,CACHC,MAAO,kBACPZ,QAAS,CACPd,SAAU,WACVC,SAAU,WACVC,MAAO,SAETmQ,OAAQ,CACNrQ,SAAU,CACRrc,EAAG,eACHC,EAAG,eACHgc,EAAG,sBAELK,SAAU,CACRtc,EAAG,IACHC,EAAG,IACHgc,EAAG,SAELM,MAAO,CACLvc,EAAG,iBACHC,EAAG,eACHgc,EAAG,MAGP6W,IAAK,CACHlwB,QAAS,iBACT1O,QAAS,kBAEX6nB,QAAS,CACPgC,MAAO,mDUjDb,MAAMqX,GAAuB,I,SAAKC,GAClCD,GAAqBE,GAAGC,OAAOna,KAAO,OACtCga,GAAqBE,GAAGC,OAAOnD,KAAO,WACtCgD,GAAqBE,GAAGE,aAAaC,QACnC,qFACFL,GAAqBE,GAAGE,aAAaE,QAAU,2BAE/C,WACKN,GClBH5I,MAAO,CACLC,OAAQ,CACNC,OAAQ,CACNC,SAAU,WACVC,aAAc,UACdC,cAAe,YACfC,cAAe,WACfC,gBAAiB,cACjBC,eAAgB,UAChBC,iBAAkB,aAClBC,WAAY,SACZC,aAAc,WACdC,KAAM,CACJlf,SAAU,WACVmf,aAAc,SACdC,eAAgB,gCAChBC,gBAAiB,yBAEnB3qB,QAAS,cAEX4qB,cAAe,CACbC,QAAS,CACPhpB,QAAS,8BACTipB,QAAS,2BAEXC,UAAW,CACTlpB,QAAS,iCACTipB,QAAS,2BAEXE,SAAU,CACRnpB,QAAS,6BACTipB,QAAS,2BAEXG,WAAY,CACVppB,QAAS,gCACTipB,QAAS,2BAEXI,YAAa,CACXrpB,QAAS,gCACTipB,QAAS,2BAEXK,cAAe,CACbtpB,QAAS,mCACTipB,QAAS,2BAEX,OAAU,CACRtoB,MAAO,yCACPsoB,QAAS,2BAEXM,OAAQ,CACNN,QAAS,2BAEX10B,SAAU,CACRyL,QAAS,6CACTipB,QAAS,gEAEX9qB,QAAS,CACP6B,QAAS,8CAGb/J,KAAM,CACJuzB,aAAc,CACZlQ,MAAO,gCACP1c,KAAM,uCAER6sB,YAAa,CACXnQ,MAAO,wBACP1c,KAAM,sCAGVgL,OAAQ,CACN8hB,eAAgB,sBAChBC,kBAAmB,yCACnBC,mBAAoB,yDACpBC,oBAAqB,wHACrBC,kBAAmB,wBAGvBC,UAAW,CACTzQ,MAAO,oBACP2O,OAAQ,CACN+B,iBAAkB,2BAEpBC,QAAS,CACPC,cAAe,CACbC,YAAa,qCAEfC,SAAU,CACRD,YAAa,oBAEfE,QAAS,CACPC,SAAU,uBACVC,UAAW,wBACXC,UAAW,wBACXC,IAAK,YAEPxC,OAAQ,CACNyC,UAAW,wBACXC,YAAa,0BACbC,MAAO,WAGXC,cAAe,CACbvR,MAAO,0BACP2O,OAAQ,CACN6C,aAAc,yBAMtBC,UAAW,CACT,GAAM,UACN,GAAM,YAGRC,UAAW,CACTC,WAAY,CACVhkB,KAAM,4BACNikB,OAAQ,CACN,eAAgB,MAChB,YAAa,OAEfjD,OAAQ,CACN4F,SAAU,YACVC,aAAc,mBAGlB3C,WAAY,CACVlkB,KAAM,oCACNikB,OAAQ,CACNhf,MAAO,WACPsG,WAAY,SACZ1T,UAAW,cACXssB,UAAW,MACX72B,SAAU,SACVsJ,SAAU,eACVwtB,iBAAkB,4BAClBC,SAAU,WACVC,aAAc,kBAEhBC,KAAM,CACJvD,OAAQ,CACNwD,eAAgB,aAGpB9C,KAAM,CACJrP,MAAO,CACL7pB,QAAS,+BACTi8B,OAAQ,gCAGZC,OAAQ,CACNC,aAAc,iDAEhBhkB,OAAQ,CACNsE,MAAO,mCAGXxJ,UAAW,CACTuE,KAAM,0BACNikB,OAAQ,CACNI,SAAU,WACV,sBAAuB,cACvB,mBAAoB,cACpB1oB,kBAAmB,QACnBhC,MAAO,QACPG,OAAQ,cACR8qB,cAAe,gBACfC,cAAe,YACfC,IAAK,iBACLC,UAAW,UACXC,eAAgB,iCAElBtD,KAAM,CACJrP,MAAO,CACL7pB,QAAS,0BACTi8B,OAAQ,uBAEVzD,OAAQ,CACNiE,WAAY,mBACZC,eAAgB,mBAGpBX,KAAM,CACJvD,OAAQ,CACNmE,KAAM,gBACNC,OAAQ,YAGZV,OAAQ,CACNC,aAAc,uCAEhBhkB,OAAQ,CACNqkB,eAAgB,2DAChBK,QAAS,+BAGbC,SAAU,CACRtlB,KAAM,8BACNikB,OAAQ,CACNI,SAAU,WACVO,cAAe,gBACf3f,MAAO,WACPsG,WAAY,SACZ1T,UAAW,cACXssB,UAAW,MACXxQ,KAAM,gBACN4R,UAAW,cACXj4B,SAAU,SACVsJ,SAAU,eACVwtB,iBAAkB,6BAEpB1C,KAAM,CACJrP,MAAO,CACL7pB,QAAS,4BACTi8B,OAAQ,4BAEVzD,OAAQ,CACNwE,MAAO,wBAETC,YAAa,CACXpT,MAAO,iCACP2O,OAAQ,CACN6C,aAAc,MACd6B,UAAW,uCACXC,eAAgB,gCAGpBC,QAAS,CACPC,KAAM,oBAGVllB,OAAQ,CACNsE,MAAO,kCAET6gB,QAAS,CACPC,aAAc,kBACdC,MAAO,cACPC,UAAW,gBACXC,WAAY,cAEdnF,OAAQ,CACNpN,KAAM,CACJ,EAAK,SACL,EAAK,SAEPwS,MAAO,CACL,KAAQ,MACR,MAAS,QAGbzB,OAAQ,CACNC,aAAc,8CAEhB7C,cAAe,CACb0D,MAAO,CACL/S,IAAK,CACH1Z,QAAS,yCACTipB,QAAS,4BAGb/c,MAAO,CACL9L,KAAM,CACJJ,QAAS,8BACTipB,QAAS,6DAKjBwD,MAAO,CACLxlB,KAAM,gDACNikB,OAAQ,CACNjkB,KAAM,MACN,eAAgB,MAChB,YAAa,MACb,sBAAuB,4BACvB,mBAAoB,4BACpB4kB,cAAe,gBACfP,SAAU,WACV+B,aAAc,0BACdC,UAAW,kBACXtB,UAAW,UACXuB,WAAY,gBACZC,SAAU,cACVrsB,SAAU,CACRssB,YAAa,cACb7qB,kBAAmB,QACnBhC,MAAO,QACPG,OAAQ,gBAGZyqB,KAAM,CACJvD,OAAQ,CACNyF,gBAAiB,YACjBtB,KAAM,cACNrE,MAAO,UACPsE,OAAQ,YAGZsB,KAAM,CACJrU,MAAO,sCAET3C,KAAM,CACJ2C,MAAO,sCAETqS,OAAQ,CACNC,aAAc,mDAEhBjD,KAAM,CACJiF,gBAAiB,CACftU,MAAO,sBACP2O,OAAQ,CACN6C,aAAc,CACZ+C,SAAU,YACVC,aAAc,iBACd3sB,SAAU,cACV4sB,yBAA0B,YAIhCzU,MAAO,CACL7pB,QAAS,qCACTi8B,OAAQ,kCAEVzD,OAAQ,CACNiE,WAAY,mBACZxpB,UAAW,YACXsrB,kBAAmB,wECxU3BC,KAAM,CACJC,cAAe,gCACfC,SAAU,sCACVC,QAAS,0BCHXC,IAAK,CACH1wB,MAAO,eACPS,OAAQ,iBACRgC,KAAM,UAENkuB,qBAAsB,uBACtBC,WAAY,iCAEZ5tB,MAAO,sBACPwtB,SAAU,qBACVK,eAAgB,YAChBttB,QAAS,cACTutB,iBAAkB,YAClBC,eAAgB,QAChBC,cAAe,SACfC,cAAe,UACfC,UAAW,YAEXC,OAAQ,UACRnqB,MAAO,SACPiF,KAAM,cACNmlB,OAAQ,WACRtf,KAAM,SACN6H,QAAS,MCvBX0X,KAAM,CACJC,MAAO,CACL/iB,MAAO,CACL/T,MAAO,yBACPmU,YAAa,oBAEfzO,SAAU,CACR1F,MAAO,qBACPmU,YAAa,gBAEfR,YAAa,CACX3T,MAAO,qBACPmU,YAAa,IAEfP,gBAAiB,CACf5T,MAAO,eACPmU,YAAa,IAEfV,YAAa,CACXzT,MAAO,uBACPmU,YAAa,IAEfzU,MAAO,CACLq3B,cAAe,4CACfC,cAAe,4BACfC,cAAe,2CACfC,IAAK,+FACLC,WAAY,iCACZznB,SAAU,wBAIdlK,MAAO,CACL2b,MAAO,aAGTuP,eAAgB,CACdvP,MAAO,yCACPtZ,QAAS,iDAGXuvB,gBAAiB,CACfjW,MAAO,uBACPkW,aACE,2GACFxvB,QACE,6JC9CNvK,OAAQ,CACN6jB,MAAO,4BACPmW,UAAW,mCACXC,QAAS,aACTC,WAAY,2BACZC,QAAS,WCLXC,MAAO,CACLvW,MAAO,mBACPkW,aACE,kMACFM,YACE,gEAEJrd,WAAY,CACV6G,MAAO,aACPkW,aACE,uIACFM,YACE,qHCZJ3uB,SAAU,CACR8F,KAAM,WACNE,KAAM,2BACNnG,SAAU,oBACV+uB,IAAK,gKACLC,MAAO,iICLT7B,SAAU,CACR7U,MAAO,aACP2W,IAAK,CACHlF,UAAW,SACXmF,MAAO,gBCJXC,IAAK,CACHnwB,QAAS,CACPowB,gBAAiB,gDACjBC,eAAgB,sDAElBx4B,MAAO,CACLy4B,QAAS,mCACTC,cAAe,wDACfC,YAAa,oCTqBjBC,iBAAkB,CAChBt4B,MAAO,qDAGTu4B,eAAgB,CACdv4B,MAAO,+CAGTkhB,IAAK,CACHC,MAAO,4BACPZ,QAAS,CACPd,SAAU,WACVC,SAAU,WACVC,MAAO,WAETmQ,OAAQ,CACNrQ,SAAU,CACRrc,EAAG,kBACHC,EAAG,aACHgc,EAAG,mBAELK,SAAU,CACRtc,EAAG,IACHC,EAAG,IACHgc,EAAG,SAELM,MAAO,CACLvc,EAAG,iBACHC,EAAG,eACHgc,EAAG,MAGP6W,IAAK,CACHlwB,QAAS,oBACT1O,QAAS,sBAEX6nB,QAAS,CACPgC,MAAO,0DU1DbhlB,EAAAA,EACG48B,IAAIC,GAAAA,GACJD,IAAIE,GAAAA,IACJnW,KAAK,CACJoW,YAAa,KACbrG,UAAW,CAAEsG,GAAE,GAAEC,GAAEA,IACnBC,MAAO,CACL1wB,MAAM,GAER2wB,UAAW,CACTC,MAAO,CAAC,eAAgB,UACxBC,mBAAoB,cAInB,MAAMC,GAAY7/B,OAAO8/B,OAAO,CAACv+B,EAAaA,KACrD,I,eAAA,GAAegB,EAAI,ECJnB,MAmBMoc,GAAQ/X,IACZ,MAAM,OAAEvE,EAAM,UAAEI,GAAcP,KACxBsJ,GAAWu0B,EAAAA,EAAAA,MAejB,OAbA38B,EAAAA,EAAAA,YAAU,KACRmI,OAAOy0B,SAAS,EAAG,EAAE,GACpB,CAACx0B,KAEJpI,EAAAA,EAAAA,YAAU,KACR,MACMR,EADU,IAAIic,gBAAgBtT,OAAOC,SAASsT,QAC/B9T,IAAI,KAErBpI,IAASP,GAAUw9B,GAAUnvB,SAAS9N,IACxCH,EAAUG,EACZ,GACC,KAEIe,EAAAA,EAAAA,GAAA,iBAAOiD,EAAM4I,SAAgB,EAGhCywB,GAAmBjiC,EAAAA,QAAOC,GAAI;;;;;aAKvBqF;EAGb,OA/CkBvF,GACT,SAAkB6I,GACvB,OACEjD,EAAAA,EAAAA,GAACu8B,GAAe,UAAAC,KAAAA,IACdx8B,EAAAA,EAAAA,GAAC0wB,GAAY,MACb1wB,EAAAA,EAAAA,GAACgb,GAAI,WACHhb,EAAAA,EAAAA,GAACs8B,GAAgB,UACdx0B,KAAe4T,KAAAA,IAAI1b,EAAAA,EAAAA,GAAC+a,GAAqB,MAAG0hB,KAAAA,IAC7Cz8B,EAAAA,EAAAA,GAACiyB,GAAiB,KAAGyK,KAAAA,IACrB18B,EAAAA,EAAAA,GAACqxB,GAAoB,MAEvB5wB,EAAAA,cAACrG,EAAc6I,GAAS05B,KAAAA,IACxB38B,EAAAA,EAAAA,GAAC48B,GAAAA,EAAY,MAIrB,E,uEC1BF,MAAMC,GAAmBpiC,IAAwB,IAAvB,OAAEqiC,EAAM,OAAEp+B,GAAQjE,EAC1C,MAAM4F,GAAQ08B,EAAAA,GAAAA,KACd,OACE/8B,EAAAA,EAAAA,GAAA,OACE0E,MAAO,CACLC,QAAS,cACTq4B,SAAU,OACVthC,IAAK2E,EAAM48B,QAAQ,UACnB,EAEDH,EAAOvG,eAAel7B,KAAK6hC,IAC1Bl9B,EAAAA,EAAAA,GAACm9B,GAAAA,EAAI,CAAsB16B,MAAOy6B,EAAYt+B,KAAK2S,KAAK7S,IAA7Cw+B,EAAYh9B,MAErB,EAIGk9B,GAAeA,MAChBC,EAAAA,GAAAA,KAAV,MACM,OAAE3+B,GAAWH,KAEnB,OACEyB,EAAAA,EAAAA,GAACs9B,GAAAA,EAAI,CACHC,YAAY,EACZC,KAAM,CAAEjE,MAAQ,aAAY76B,IAAUs9B,MAAO,OAC7CyB,oBAAqB,CACnB5+B,SAAUH,GAEZy4B,SAAS,QAAM,GAEfn3B,EAAAA,EAAAA,GAAC09B,GAAAA,EAAQ,CACPC,mBAAmB,EACnBC,QAAQ59B,EAAAA,EAAAA,GAAC68B,GAAgB,CAACn+B,OAAQA,UAAW,GAE7CsB,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAS,aAAY/K,OAE7B,E,4HC7CX,MAAMo/B,GAAoBA,CAAC76B,EAAO86B,EAAaC,KAC7C,MAAMC,EAAiB,IAAIh7B,GAgB3B,OAdI+6B,EACFD,EAAYG,SAAQC,IACdF,EAAet0B,eAAew0B,WACzBF,EAAeE,EACxB,IAGF9hC,OAAOC,KAAK2G,GAAOi7B,SAAQC,IACpBJ,EAAYhxB,SAASoxB,WACjBF,EAAeE,EACxB,IAIGF,CAAc,ECfVG,GAAOn7B,IAClB,MAIMg7B,EAAiBH,GAAkB76B,EAJtB,CACjB,WACA,cAE0D,GAC5D,OACExC,EAAAA,cAAA,MAASw9B,EAAiBh7B,EAAM4I,SAAe,EAItCwyB,GAAa5jC,IAA2B,IAA1B,UAAC6jC,KAAcr7B,GAAMxI,EAC9C,MAYMwjC,EAAiBH,GAAkB76B,EAZtB,CACjB,WACA,QACA,QACA,UACA,eACA,SACA,YACA,UACA,iBACA,OAE0D,GAO5D,OANIq7B,IACFL,EAAmB,GAAI,IAClBA,GAAgBM,IAAM,CAAC,EAC1B15B,UAAW,SAIbpE,EAAAA,cAAC+9B,GAAAA,EAAkBP,EAChBh7B,EAAM4I,SACO,ECXpB,OAtBgB4yB,KAEd,MAAMj7B,GAAI65B,EAAAA,GAAAA,KAEV,MAAO,CACL3F,MAAO,CACL,CAAEx3B,GAAI,QAASqR,KAAM/N,EAAE,0CACvB,CAAEtD,GAAI,OAAQqR,KAAM/N,EAAE,0CAGxB6xB,UAAW6G,GAAU7gC,KAAKwD,IAAQ,CAC9BqB,GAAIrB,EAAU0S,KAAM/N,EAAG,aAAY3E,SAGvC6/B,MAAO,CACL,CAAEx+B,GAAI,EAAGqR,KAAM/N,EAAE,qCACjB,CAAEtD,GAAI,EAAGqR,KAAM/N,EAAE,sCAGpB,E,YCvBH,MAAMm7B,GAA0BC,IAC9B,MAEMC,EAAQ,IAAI7nB,OAAQ,6EAE1B,GAAK4nB,EAIL,OAAIA,EAAa3mC,OARMuM,IASd,CACL0O,QAAS,yCACT4rB,KAAM,CAAElF,WAXWp1B,MAelBq6B,EAAME,KAAKH,QAAhB,EACS,yCAGO,EAiBLI,GAAyBA,CAACxiC,EAAOsgC,EAAQp+B,EAAQ66B,KAC5D,IAAK/8B,IACEsgC,EAAOl+B,KAAK26B,GAAO76B,GACtB,MAAO,oCAGK,EAGLugC,GAAgB,EAAC9sB,EAAAA,GAAAA,OAAYqE,EAAAA,GAAAA,OAC7B0oB,GAAoB,EAAC/sB,EAAAA,GAAAA,OAAY2E,EAAAA,GAAAA,IAAU,IAC3CqoB,GAAmB,EAAChtB,EAAAA,GAAAA,OACpBitB,GAAmB,EAACjtB,EAAAA,GAAAA,OAAY2E,EAAAA,GAAAA,IAAU,IAC1CuoB,GAAiB,EAACltB,EAAAA,GAAAA,MApBN3V,IACvB,GAAIA,EAAQ,EACV,MAAO,6BAEO,GAiBL8iC,GAA2B,CAACX,IAC5BY,GAA2B,CA7BRX,GACzBA,EAGED,GAAuBC,GAFrB,yCA4BEY,GAAoBA,CAAC7J,EAAkBmH,KAClD,IAAKA,EAAO8B,cAAgBjJ,IAAqBmH,EAAO8B,eAAiBjJ,EACvE,MAAO,uCAEO,E,sQCoClB,I,SAAA,GA9E4Bl7B,IAMtB,IANuB,SAC3BglC,EAAQ,OACR3C,EAAM,UACNve,EAAS,UACTmhB,KACGjuB,GACJhX,EACC,MAAMub,GAASC,EAAAA,GAAAA,KACTzS,GAAI65B,EAAAA,GAAAA,KACJsC,GAAUC,EAAAA,GAAAA,KACVC,GAAWC,EAAAA,GAAAA,MACVC,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,GACtDx9B,EAAQi9B,EACV5C,EAAOlH,SACL,sCACA,oCACF,IACGsK,GAAa,OAAEC,KAAYC,EAAAA,GAAAA,GAAmBX,IAW9CY,GAAe,UAAEvqB,KAAewqB,EAAAA,GAAAA,GACrCb,EACA,CACEv/B,GAAI48B,EAAO58B,GACXqH,KAAM,CAAEquB,UAAWkH,EAAOlH,UAC1B2K,aAAczD,GAEhB,CACE0D,UAAWA,KACT,MAAMC,EAAiB3D,EAAOlH,SAC1B,+CACA,6CACAmK,GACIA,GAA2B,aAAbN,IAChBO,GAAc,GACdH,EAASJ,IAGfE,IACA3pB,EAAOyqB,EAAgB,CAAE7zB,KAAM,SAC/BuzB,EAAO,GAAG,EAEZO,QAAUv+B,IACR,MAAMs+B,EAAiB3D,EAAOlH,SAC1B,+CACA,6CACJ5f,EAAOyqB,EAAgB,CAAE7zB,KAAM,SAAU,IAK/C,OACEnM,EAAAA,cAACgN,GAAAA,GAAMpE,EAAAA,GAAAA,GAAA,CACL5G,MAAOe,EAAEf,GACTsQ,QA5CyBqB,IAC3BA,EAAE2E,iBAEF,MAAM4nB,EAAiBT,EAAYU,QAAQ1gC,GAAOA,IAAO48B,EAAO58B,KAC5DygC,IAAmBT,GACrBC,EAAOQ,GAGTN,GAAe,EAqCbzyB,SAAUkI,EACVyI,UAAWA,GACPuf,GACFrsB,EACA,CAAC,YAAa,iBACd,GACD,CACDovB,QAASpvB,EAAKovB,QACdC,MAAOrvB,EAAKqvB,QAEVhE,EAAOlH,SAA0BmL,KAAAA,IAAG/gC,EAAAA,EAAAA,GAACghC,GAAAA,EAAa,KAAnCC,KAAAA,IAAGjhC,EAAAA,EAAAA,GAACkhC,GAAAA,EAAW,KACzB,EC7Db,MAAMC,IAAYC,EAAAA,GAAAA,IAAY/gC,IACrB,CACLghC,QAAS,CACP18B,QAAS,OACT3I,eAAgB,iBAElBy2B,aAAc,CACZ6O,YAAajhC,EAAM48B,QAAQ,QAkHjC,I,eAAA,GA7G0BxiC,IAAkB,IAAjB,SAAEsZ,GAAUtZ,EACrC,MAAM+I,GAAI65B,EAAAA,GAAAA,KACJh9B,GAAQ08B,EAAAA,GAAAA,KACRwE,EAAUJ,KACVrE,GAAS0E,EAAAA,GAAAA,KACT3B,GAAWC,EAAAA,GAAAA,KACXL,GAAWgC,EAAAA,GAAAA,MACX,QAAEC,IAAYC,EAAAA,GAAAA,OACb/f,EAASggB,GAAcnhC,EAAAA,UAAe,IACtCs/B,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,IACrD4B,EAAcC,IAAmBC,EAAAA,GAAAA,MAClCC,GAAaC,EAAAA,GAAAA,GAAc5hC,EAAM6hC,YAAYC,KAAK,OAClDC,GAAkBzjC,EAAAA,EAAAA,UAAQ,KACb,IAAboV,GAGGA,GAAUsiB,MAAQyG,GAAQ58B,IAChC,CAAC6T,EAAU+oB,IAYRuF,EAAcA,KAClBT,GAAW,EAAM,EASbU,GAAiB3jC,EAAAA,EAAAA,UAAQ,IACxByjC,EAOKrC,GAA2B,aAAbN,EACjB,aAAYM,SACZ,IAAGN,IARJoC,EAAax6B,IAAI,QACZk7B,mBAAmBV,EAAax6B,IAAI,SAEpC,KAOV,CAAC+6B,IAEJ,OACEpiC,EAAAA,EAAAA,GAACwiC,GAAAA,EAAO,CAACjkB,UAAWgjB,EAAQF,cAAQ,GAClCrhC,EAAAA,EAAAA,GAACo+B,GAAG,WACFp+B,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLoD,KAAK,QACLgwB,QAAQ,YACRC,MAAM,YACNviB,UAAWgjB,EAAQ9O,aACnB1f,QA1CiBqB,IAEvB,GADAA,EAAE2E,iBACE2oB,EACFE,GAAW,OACN,CACL,MAAMa,EAAcH,EACpBtC,GAAc,GACdH,EAAS4C,EACX,SAkC+B,EAExBj/B,EAAE,sCAELxD,EAAAA,EAAAA,GAAC0iC,GAAAA,EAAM,CAACV,WAAYA,EAAYtxB,KAAMkR,EAAS+gB,QAASN,QAAY,GAClEriC,EAAAA,EAAAA,GAAC4iC,GAAAA,EAAW,UAAEp/B,EAAE,0CAChBxD,EAAAA,EAAAA,GAAC6iC,GAAAA,EAAa,WACZ7iC,EAAAA,EAAAA,GAAC8iC,GAAAA,EAAiB,UACft/B,EAAE,0CAGPxD,EAAAA,EAAAA,GAAC+iC,GAAAA,EAAa,WACZ/iC,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QAASsvB,EACTW,WAAS,EACTnyB,KAAK,QACLgwB,QAAQ,YACRC,MAAM,YACNmC,UAASC,KAAAA,IAAEljC,EAAAA,EAAAA,GAACmjC,GAAAA,EAAgB,WAAI,EAE/B3/B,EAAE,sCAELxD,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QAnDeqwB,KACzB,MAAMX,EAAcH,EACpBtC,GAAc,GACdH,EAAS4C,EAAY,EAiDX3B,MAAM,UACND,QAAQ,YACRoC,UAASI,KAAAA,IAAErjC,EAAAA,EAAAA,GAACsjC,GAAAA,EAAW,WAAI,EAE1B9/B,EAAE,wCAGA+/B,KAAAA,IACTvjC,EAAAA,EAAAA,GAACwjC,GAAAA,EAAU,CAAC3yB,KAAK,YAElBuxB,GAAmBtF,GAAUA,GAAQ58B,KACpCF,EAAAA,EAAAA,GAACyjC,GAAmB,CAClBhE,SAAUA,EACV3C,OAAQA,EACRve,UAAU,GACVmhB,WAAW,EACXgE,cAAc,EACd7C,QAAQ,aAGJ,ECtHd,MAAMM,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjCsjC,KAAM,CACJ9mC,MAAO,OACP8H,QAAS,OACT3I,eAAgB,gBAChB,UAAW,CACT4nC,KAAM,gBAKCC,GAAkBA,KAC7B,MAAMC,GAAerC,EAAAA,GAAAA,KACfj+B,GAAI65B,EAAAA,GAAAA,KACJkE,EAAUJ,KACVrsB,EAAU2pB,KACVzoB,GAASC,EAAAA,GAAAA,KAaf,OACEjW,EAAAA,EAAAA,GAAC+jC,GAAAA,EAAM,CAACC,gBAAiB,CAAEtD,QAbZv+B,IACf,IAAI+Q,EAAU,GACV/Q,GAAO+E,KACT7K,OAAO4nC,QAAQ9hC,EAAM+E,MAAMg3B,SAAQzjC,IAAmB,IAAjB8B,EAAK2nC,GAAOzpC,EAC/CyY,GAAW1P,EAAG,aAAYsgC,YAAuBvnC,IAAM,IAGzD2W,EAAU1P,EAAE,qBAEdwS,EAAO9C,EAAS,CAAEtG,KAAM,SAAU,GAIaizB,SAAS,aAAM,GAC5D7/B,EAAAA,EAAAA,GAACmkC,GAAAA,EAAU,CAAC9C,QAAO+C,KAAAA,IAAEpkC,EAAAA,EAAAA,GAACqkC,GAAiB,CAACtwB,UAAU,WAAU,GAC1D/T,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,uCAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,EAAAa,KAAAA,IAC7BxkC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CACRh7B,OAAO,aACPi7B,WAAS,EACTztB,SAAUioB,MACVyF,KAAAA,IACF3kC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,YAAYi7B,WAAS,EAACztB,SAAUmoB,QAEpDp/B,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,EAAAiB,KAAAA,IAC7B5kC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,QAAQi7B,WAAS,EAACztB,SAAUgoB,QAEhDj/B,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,2CAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,WACPkrB,QAAS7f,EAAQugB,UACjBqP,WAAS,EACTztB,SAAUkoB,KACV2F,KAAAA,IACF9kC,EAAAA,EAAAA,GAAC+kC,GAAAA,EAAY,CAACt7B,OAAO,oBAEvBzJ,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,8CAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAACglC,GAAAA,EAAa,CACZviC,MAAOe,EAAE,wCACTiG,OAAO,eACPwN,SAAUguB,GACVP,WAAS,KAEX1kC,EAAAA,EAAAA,GAACglC,GAAAA,EAAa,CACZviC,MAAOe,EAAE,gDACTiG,OAAO,mBACPwN,SAAUuoB,GACVkF,WAAS,MAIR,E,iFC9Fb,MAAMQ,GAAmB9wB,GAAMA,EAAE8wB,kBAmDjC,I,MAAA,GAjDoBjiC,IAClB,MAAM,MACJR,GAAQ,EAAK,OACbq6B,EAAM,YACNqI,GAAc,EAAI,KAClBv4B,EAAO,OAAM,MACbk0B,EAAQ,UAAS,QACjBD,KACGpvB,GACDxO,EAEEw8B,EAAWhuB,EAAKguB,WAAYgC,EAAAA,GAAAA,KAE5B79B,GADawhC,EAAAA,GAAAA,IACNC,CAAW,CAACz4B,KAAMA,EAAM6yB,SAAUA,EAAUv/B,GAAI48B,EAAO58B,KAC9DwN,EAAgB,SAATd,EAAe04B,KAAAA,IAAGtlC,EAAAA,EAAAA,GAACulC,GAAAA,EAAQ,KAAGC,KAAAA,IAAGxlC,EAAAA,EAAAA,GAACylC,GAAAA,EAAa,KACtDp4B,EAAQ,CAAEq4B,aAAcP,GACxBQ,EACJl0B,EAAK9H,eAAe,YAAc8H,EAAKk0B,QACnC,IAAKt4B,KAAUpK,EAAM0iC,SACrBt4B,EACAyT,EAAcrP,EAAKqP,aAAeokB,GAClCr9B,EAAW4J,EAAK9H,eAAe,YACjC1G,EAAM4E,SACNi1B,EACEl5B,EACA,GAEN,OACEnD,EAAAA,cAACgN,GAAAA,GAAMpE,EAAAA,GAAAA,GAAA,CACLu8B,UAAWC,GAAAA,GACXC,IAAInnC,EAAAA,EAAAA,UACF,KAAM,CACJonC,SAAUl+B,EACVwF,MAAOs4B,KAET,CAAC99B,EAAU89B,IAEb5yB,QAAS+N,EACTggB,MAAOA,EACPD,QAASA,EACToC,WAAqB,IAAVxgC,GAAmBiL,GAC1BowB,GAAkBrsB,EAAM,CAAC,YAAY,KAE9B,IAAVhP,GAAmBA,GACT,IAAVA,GAAmBiL,EACb,E,oCC0Bb,OAvEsBzK,IACpB,MAAM,YACJi9B,EAAc,GAAE,YAChBiF,GAAc,EAAI,UAClBzF,GAAY,EAAI,MAChBoB,EAAQ,UAAS,QACjBD,EAAmB,KACnBhwB,EAAO,QAAO,aACdm1B,EAAe,CAAC,KACbv0B,GACDxO,EAEEw8B,EAAWhuB,EAAKguB,WAAYgC,EAAAA,GAAAA,KAC5Bj+B,GAAI65B,EAAAA,GAAAA,MACJ,OAAE3+B,GAAWH,KACbyX,GAASC,EAAAA,GAAAA,KACTgwB,GAAcC,EAAAA,GAAAA,GAAezG,GAC7Bh9B,EAAQi9B,EAAYl8B,EAAE,oCAAsC,GAC5D2iC,GAAiBpnC,EAAAA,EAAAA,cACpBwJ,IACC,MAAMhB,EAAO,IACRy+B,EACE9F,YAAaA,EACbrhC,SAAUH,EACV8E,EAAG+E,GAGJ69B,EAAK,IAAIlrB,gBAAgB3T,GAAM2J,WACrC,MAAQ,WAA8BuuB,aAAoB2G,GAAI,GAEhE,CAAClG,EAAa8F,EAActnC,IA0B9B,OACE+B,EAAAA,cAACgN,GAAAA,GAAMpE,EAAAA,GAAAA,GAAA,CACL0J,QAzBiBqB,IACnBA,EAAE8wB,mBAIFmB,EAAAA,GAAAA,wBAFa,iBAEe,CAC1B7/B,OAAQ,OACRU,KAAM,sBAEL+V,MAAMlW,IACLiP,EAAO,0CAA2C,CAAEpJ,KAAM,SAC1DhF,OAAOC,SAAS1D,KAAOgiC,EAAep/B,EAASS,KAAY,MAAE,IAE9D0V,OAAM,KACLlH,EAAO,4CAA6C,CAAEpJ,KAAM,SAAU,IAEvE05B,SAAQ,KACPh5B,YAAW,KACL4yB,EAAYjoC,QAAUwnC,GAAUwG,EAAYxG,EAAS,GACxD,IAAI,GACP,EAMFqB,MAAOA,EACPD,QAASA,EACThwB,KAAMA,EACNoyB,UAAWvD,IAAS6G,KAAAA,IAAIvmC,EAAAA,EAAAA,GAACwmC,GAAAA,EAAY,OACjC/0B,GAEHiuB,GAAaj9B,GACZi9B,IAAS+G,KAAAA,IAAIzmC,EAAAA,EAAAA,GAACwmC,GAAAA,EAAY,MACrB,ECxBb,I,SAAA,GA9CoBvjC,IAClB,MAAMO,GAAI65B,EAAAA,GAAAA,KACJP,GAAS0E,EAAAA,GAAAA,KACf,IAAImE,GAAU,EAMd,OAJI1iC,EAAM88B,aACR4F,EAAU,CAAE5F,WAAY98B,EAAM88B,aAG3BjD,GAAQ58B,IAAO+C,GAAO8Q,UAAUsiB,MAAQyG,GAAQ58B,IAKnDF,EAAAA,EAAAA,GAAC0mC,GAAAA,EAAY,UACVzjC,EAAM0jC,aACL3mC,EAAAA,EAAAA,GAAC4mC,GAAY,CACX1G,YAAa,CAACpD,EAAO58B,IACrB2gC,QAAQ,aAGX59B,EAAM4jC,UACL7mC,EAAAA,EAAAA,GAAC8mC,GAAU,CACThK,OAAQA,EACRlwB,KAAK,OACLnK,MAAOe,EAAE,kBACTmiC,QAASA,EACT90B,KAAK,QACLgwB,QAAQ,aAGX59B,EAAM8jC,UACL/mC,EAAAA,EAAAA,GAAC8mC,GAAU,CACThK,OAAQA,EACRlwB,KAAK,OACLnK,MAAOe,EAAE,kBACTmiC,QAASA,EACT90B,KAAK,QACLgwB,QAAQ,cA5BPpgC,EAAAA,cAAAA,EAAAA,SAAA,KA+BQ,ECjBnB,MAAM0gC,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjCsjC,KAAM,CACJ9mC,MAAO,OACP8H,QAAS,OACT3I,eAAgB,gBAChB,UAAW,CACT4nC,KAAM,gBAKNoD,GAAavsC,IAA6C,IAA5C,SAAEsZ,EAAQ,gBAAEgC,KAAoB9S,GAAOxI,EACzD,MAAMqiC,GAAS0E,EAAAA,GAAAA,KACf,OAAIzrB,GAAmBhC,GAAUsiB,MAAQyG,GAAQ58B,IAGxC+C,EAAM4I,QACf,EAGWo7B,GAAgBA,KAC3B,MAAMzjC,GAAI65B,EAAAA,GAAAA,MACJ,QAAE0J,IAAYG,EAAAA,GAAAA,MACd,SAAEnzB,EAAU+B,UAAWC,EAAe,QAAEoxB,IAAYnzB,EAAAA,GAAAA,KACpDyrB,GAAWgC,EAAAA,GAAAA,KACX5B,GAAWC,EAAAA,GAAAA,MACV+B,EAAcC,IAAmBC,EAAAA,GAAAA,MAClCR,EAAUJ,KACVnrB,GAASC,EAAAA,GAAAA,KACTnB,EAAU2pB,KA+BhB,OACEz+B,EAAAA,EAAAA,GAAConC,GAAAA,EAAI,CACHC,aAAa,cACbrD,gBAAiB,CAAExD,UAtBJj5B,IACjB,GAAIwM,GAAUsiB,MAAQ9uB,EAAKrH,GAAI,CAC7B,MAAMonC,EAAU/E,mBAAmBV,EAAax6B,IAAI,SAC9CoB,EAAUtB,KAAKgC,MAAMxC,aAAaC,QAAQ,YAEhD6B,EAAQqU,WAAavV,EAAKuV,WAC1BrU,EAAQitB,UAAYnuB,EAAKmuB,UACzBjtB,EAAQW,UAAa,GAAEX,EAAQqU,cAAcrU,EAAQitB,YACrDjtB,EAAQ+N,MAAQjP,EAAKiP,MACrB7P,aAAa6B,QAAQ,UAAWrB,KAAKC,UAAUqB,IAC/C0+B,IACAtH,EAASyH,GACTtxB,EAAO,6CAA8C,CAAEpJ,KAAM,QAC/D,MACEizB,EAAU,IAAGJ,KACbzpB,EAAO,0BAA2B,CAAEpJ,KAAM,OAAQ26B,YAAa,CAAEC,YAAa,IAChF,EAM2C9G,QAjC5Bv+B,IACf,IAAI+Q,EAAU,GACV/Q,GAAO+E,KACT7K,OAAO4nC,QAAQ9hC,EAAM+E,MAAMg3B,SAAQvjC,IAAmB,IAAjB4B,EAAK2nC,GAAOvpC,EAC/CuY,GAAW1P,EAAG,aAAYsgC,uBAAuBvnC,IAAM,IAGzD2W,EAAU1P,EAAE,qBAEdwS,EAAO9C,EAAS,CAAEtG,KAAM,SAAU,GAyBhCuqB,SAASn3B,EAAAA,EAAAA,GAACynC,GAAU,CAACV,QAASA,EAAShzB,SAAUA,IACjD8rB,SAAS,aAAM,GAEf7/B,EAAAA,EAAAA,GAACmkC,GAAAA,EAAU,CACT9C,SAASrhC,EAAAA,EAAAA,GAACqkC,GAAiB,CAACtwB,SAAUA,UAAa,GAEnD/T,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,uCAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,EAAAa,KAAAA,IAC7BxkC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CACRh7B,OAAO,aACPi7B,WAAS,EACTztB,SAAUioB,MACVyF,KAAAA,IACF3kC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,YAAYi7B,WAAS,EAACztB,SAAUmoB,QAEpDp/B,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,EAAAiB,KAAAA,IAC7B5kC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,QAAQi7B,WAAS,EAACztB,SAAUgoB,QAEhDj/B,EAAAA,EAAAA,GAACgnC,GAAU,CAACjzB,SAAUA,EAAUgC,gBAAiBA,QAAgB,GAC/D/V,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,2CAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,WACPhH,MAAOe,EAAE,wCACTmxB,QAAS7f,EAAQugB,UACjBqP,WAAS,EACTztB,SAAUkoB,MAEZn/B,EAAAA,EAAAA,GAAC+kC,GAAAA,EAAY,CACXtiC,MAAOe,EAAE,4CACTiG,OAAO,oBAIbzJ,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,6CAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAACglC,GAAAA,EAAa,CACZviC,MAAOe,EAAE,wCACTiG,OAAO,eACPwN,SAAUguB,GACVP,WAAS,KAEX1kC,EAAAA,EAAAA,GAACglC,GAAAA,EAAa,CACZviC,MAAOe,EAAE,gDACTiG,OAAO,mBACPwN,SAAUuoB,GACVkF,WAAS,MAIV,E,+DCnJX,MAAMgD,GAAejtC,IAA8B,IAA7B,KAAE8M,EAAI,MAAEogC,KAAUl2B,GAAMhX,EAC5C,MAAM,aAAEurC,IAAiB4B,EAAAA,GAAAA,KACnBC,EAAYtgC,EAAKq5B,QAAQ38B,GACzBA,EAAK2xB,UAAYoQ,EAAapQ,WA0BpC,OAAOn1B,EAAAA,cAACqnC,GAAAA,GAAcz+B,EAAAA,GAAAA,GAAA,CAAC9B,KAAMsgC,EAAWF,MAAOE,EAAU5vC,QAAYwZ,GAAQ,EAe/E,I,GAAA,GAZkBxO,IAChB,MAAM,kBAAE06B,EAAiB,aAAEqI,EAAY,KAAEz+B,KAASkK,GAASxO,EAC3D,OACExC,EAAAA,cAACsnC,GAAAA,GAAU1+B,EAAAA,GAAAA,GAAA,GACLoI,EAAI,CACRu0B,aAAcA,EACdrI,kBAAmBA,EACnBz2B,MAAMlH,EAAAA,EAAAA,GAAC0nC,GAAY,CAACngC,KAAMA,MAC1B,E,YCnCN,OAR0BtE,GAExBxC,EAAAA,cAACunC,GAAAA,EAAW/kC,EAAK6hC,KAAAA,IACf9kC,EAAAA,EAAAA,GAAC+kC,GAAAA,EAAY,CAACl0B,KAAK,QAAQpH,OAAO,WAAWw+B,UAAQ,M,0DCJzD,MAAMC,GAAiBA,CAACpL,EAAQp+B,KAC9B,IAAIkY,EAAckmB,EAAO58B,GACzB,GAAI48B,EAAOnzB,eAAe,aACxBiN,EAAckmB,EAAO1zB,eAErB,GAAI0zB,EAAOl+B,MAAM2S,MAAM5H,eAAejL,GACpCkY,EAAckmB,EAAOl+B,KAAK2S,KAAK7S,QAC1B,GAAIo+B,EAAOl+B,MAAMm5B,aAAapuB,eAAejL,GAAS,CAC3D,MAAMq5B,EAAc+E,EAAOl+B,KAAKm5B,YAAYr5B,GAC5CkY,EAAcmhB,EAAY9/B,QAAU,GAChC8/B,EACC,GAAEA,EAAY5mB,UAAU,EAAG,QAClC,CAEF,OAAOyF,CAAW,E,kCCyEpB,I,MAAA,GA1E2Bnc,IAOrB,IAPsB,SAC1BglC,EAAQ,OACR3C,EAAM,UACNve,EAAS,UACTmhB,EAAS,iBACTyI,KACG12B,GACJhX,EACC,MAAMub,GAASC,EAAAA,GAAAA,KACTzS,GAAI65B,EAAAA,GAAAA,KACJsC,GAAUC,EAAAA,GAAAA,KACVC,GAAWC,EAAAA,GAAAA,KACXr9B,EAAQi9B,EACV5C,EAAOlH,SACL,uCACA,oCACF,IACGsK,GAAa,OAAEC,KAAYC,EAAAA,GAAAA,GAAmBX,GAC/C2I,GAAiBjyB,EAAAA,EAAAA,WAWhBkqB,GAAe,UAAEvqB,KAAewqB,EAAAA,GAAAA,GACrCb,EACA,CACEv/B,GAAI48B,EAAO58B,GACXqH,KAAM,CAAE8gC,QAASvL,EAAOuL,QACxB9H,aAAczD,GAEhB,CACE0D,UAAWA,KACT,MAAMC,EAAiB3D,EAAOuL,OAC1B,gDACA,8CACAD,EAAen7B,SACjB4yB,EAASuI,EAAen7B,SAE1B0yB,IACA3pB,EAAOyqB,EAAgB,CAAE7zB,KAAM,QAAS,EAE1C8zB,QAAUv+B,IACR,MAAMs+B,EAAiB3D,EAAOuL,OAC1B,gDACA,8CACJryB,EAAOyqB,EAAgB,CAAE7zB,KAAM,SAAU,IAM/C,OAFAw7B,EAAen7B,QAAUk7B,EAGvB1nC,EAAAA,cAACgN,GAAAA,GAAMpE,EAAAA,GAAAA,GAAA,CACL5G,MAAOe,EAAEf,GACTsQ,QAzCyBqB,IAC3BA,EAAE2E,iBAEF,MAAM4nB,EAAiBT,EAAYU,QAAQ1gC,GAAOA,IAAO48B,EAAO58B,KAC5DygC,IAAmBT,GACrBC,EAAOQ,GAGTN,GAAe,EAkCbzyB,SAAUkI,EACVyI,UAAWA,GACPuf,GACFrsB,EACA,CAAC,YAAa,UAAW,iBACzB,IAGAqrB,EAAOuL,OAAiCC,KAAAA,IAAGtoC,EAAAA,EAAAA,GAACuoC,GAAAA,EAAqB,KAApDC,KAAAA,IAAGxoC,EAAAA,EAAAA,GAACyoC,GAAAA,EAAoB,KAChC,EChEb,MAAMC,IAA4BtH,EAAAA,GAAAA,GAAW,CAC3CC,QAAS,CACPsH,UAAW,QACXC,WAAY,UAEdC,mBAAoB,CAClBC,SAAU,QACVC,QAAS,UACT,QAAS,CAAEnjC,SAAU,sBACrB,yBAA0B,CAAE07B,YAAa,IAE3C0H,uBAAwB,CACtBlI,MAAO,MACPgI,SAAU,QACVC,QAAS,UACT,QAAS,CAAEnjC,SAAU,sBACrB,yBAA0B,CAAE07B,YAAa,MA4H7C,I,GAAA,GAxHyB7mC,IAAoD,IAAnD,SAAEwuC,EAAQ,UAAEC,EAAS,YAAEnhC,KAAgB9E,GAAOxI,EACtE,MAAM+I,GAAI65B,EAAAA,GAAAA,KACJP,GAAS0E,EAAAA,GAAAA,KACT/B,GAAWgC,EAAAA,GAAAA,MACX,OAAE/iC,GAAWH,KACbgjC,EAAUmH,KACVxS,EAAe1yB,EAAE,aAAei8B,EAAW,uBAAwB,CACvE7oB,YAAasxB,GAAepL,EAAQp+B,KAEhCyqC,EAAerM,EAAOlH,SACxB,sCACA,oCACEwT,EAActM,EAAOuL,OACvB,uCACA,qCAIEgB,IADWvM,EAAOnzB,eAAe,cAAgBmzB,EAAOxG,YAChB,UAAhBvuB,EACxB49B,EAAU1iC,EAAM0G,eAAe,YAAc1G,EAAM0iC,QAEzD,OACE3lC,EAAAA,EAAAA,GAAA,OAAKue,UAAWgjB,EAAQF,cAAQ,GAC9BrhC,EAAAA,EAAAA,GAACspC,GAAAA,EAAO,CAAC1lB,MAAOpgB,EAAE,kBAAmB+lC,OAAK,WACxCvpC,EAAAA,EAAAA,GAAA,kBACEA,EAAAA,EAAAA,GAAC8mC,GAAU,CACTrH,SAAUx8B,EAAMumC,aAAe/J,EAC/B3C,OAAQA,EACRve,UAAWgjB,EAAQsH,mBACnBj8B,KAAK,OACLiE,KAAK,QACL80B,QAASA,EACT7E,MAAM,gBAIXuI,IACCrpC,EAAAA,EAAAA,GAACspC,GAAAA,EAAO,CAAC1lB,MAAOpgB,EAAE2lC,GAAeI,OAAK,WACpCvpC,EAAAA,EAAAA,GAAA,kBACEA,EAAAA,EAAAA,GAACyjC,GAAmB,CAClBhE,SAAUx8B,EAAMumC,aAAe/J,EAC/B3C,OAAQA,EACRve,UAAWgjB,EAAQsH,mBACnBnJ,WAAW,EACX7uB,KAAK,QACLiwB,MAAM,gBAKbuI,IAAavM,EAAOlH,WACnB51B,EAAAA,EAAAA,GAACspC,GAAAA,EAAO,CAAC1lB,MAAOpgB,EAAE,kBAAmB+lC,OAAK,WACxCvpC,EAAAA,EAAAA,GAAA,kBACEA,EAAAA,EAAAA,GAAC8mC,GAAU,CACTrH,SAAUx8B,EAAMumC,aAAe/J,EAC/B3C,OAAQA,EACRve,UAAWgjB,EAAQsH,mBACnBj8B,KAAK,OACL+4B,QAASA,EACT90B,KAAK,QACLiwB,MAAM,gBAKbmI,IACCjpC,EAAAA,EAAAA,GAACspC,GAAAA,EAAO,CACN1lB,MAEMpgB,EADJmiC,EACM,uCACA,mBAER4D,OAAK,WAELvpC,EAAAA,EAAAA,GAAA,kBACEA,EAAAA,EAAAA,GAACypC,GAAAA,EAAW,CACVhnC,MAAM,GACNq6B,OAAQA,EACR2C,SAAUx8B,EAAMumC,aAAe/J,EAC/BlhB,UAAWgjB,EAAQsH,mBACnBh4B,KAAK,QACLnD,KAAMi4B,EAAO+D,KAAAA,IAAG1pC,EAAAA,EAAAA,GAAC2pC,GAAAA,EAAY,KAAGC,KAAAA,IAAG5pC,EAAAA,EAAAA,GAAC6pC,GAAAA,EAAK,KACzC/I,MAAM,gBAKboI,IAAcpM,EAAOlH,WACpB51B,EAAAA,EAAAA,GAACspC,GAAAA,EAAO,CAAC1lB,MAAOpgB,EAAE4lC,GAAcG,OAAK,WACnCvpC,EAAAA,EAAAA,GAAA,kBACEA,EAAAA,EAAAA,GAAC8pC,GAAkB,CACjBrK,SAAUx8B,EAAMumC,aAAe/J,EAC/B3C,OAAQA,EACRve,UAAWgjB,EAAQsH,mBACnBnJ,WAAW,EACX7uB,KAAK,QACLiwB,MAAM,gBAKG,UAAhB/4B,GAA2B+0B,EAAOlH,WACjC51B,EAAAA,EAAAA,GAACspC,GAAAA,EAAO,CAAC1lB,MAAOpgB,EAAE,oBAAqB+lC,OAAK,WAC1CvpC,EAAAA,EAAAA,GAAA,kBACEA,EAAAA,EAAAA,GAAC+pC,GAAAA,EAAuB,CACtB7T,aAAcA,EACdmR,aAAa,cACb5H,SAAUx8B,EAAMumC,aAAe/J,EAC/Bh9B,MAAM,GACNq6B,OAAQA,EACRve,UAAWgjB,EAAQyH,uBACnBlI,MAAM,gBAKV,E,YCnIV,I,MAAA,GAtBoBrmC,IAA8B,IAA7B,WAAEksC,KAAe1jC,GAAOxI,EAC3C,MAAMqpC,GAAerC,EAAAA,GAAAA,KACrB,OACEzhC,EAAAA,EAAAA,GAACynC,GAAAA,EAAU,UACRd,IACC3mC,EAAAA,EAAAA,GAAC4mC,GAAY,CACXnH,SAAUqE,EACVjD,QAAQ,WACRtC,GAAI,CACF+C,YAAa,CACXrnC,GAAI,MACJ9C,GAAI,IAGR6uC,aAAc/iC,EAAM+iC,eAEvBgE,KAAAA,IACDhqC,EAAAA,EAAAA,GAACiqC,GAAAA,EAAY,CAACpJ,QAAQ,cACX,E,uBC8DjB,OApDgCpmC,IAK1B,IAL2B,SAC/BglC,EAAQ,YACRS,EAAW,oBACXgK,KACGz4B,GACJhX,EACC,MAAM+I,GAAI65B,EAAAA,GAAAA,KACJsI,EA1BYuE,KACX,CACLC,UAAWD,EACXE,aAAcF,EACdx8B,KAAMw8B,EAAmBnJ,KAAAA,IAAG/gC,EAAAA,EAAAA,GAACghC,GAAAA,EAAa,KAAGC,KAAAA,IAAGjhC,EAAAA,EAAAA,GAACkhC,GAAAA,EAAW,KAC5D7N,cAAe,CACb/oB,QAAS4/B,EACL,mDACA,iDACJ3W,QAAS2W,EACL,mDACA,kDAENG,YAAaH,EACT,sCACA,sCAWUI,CAAWJ,IACpBK,GAAY,UAAEz0B,KAAe00B,EAAAA,GAAAA,GAClC/K,EACA,CACEgL,IAAKvK,EACL34B,KAAM,CAAEquB,SAAU+P,EAAQwE,WAE5B,CACE3J,UAAWA,KACTxqB,EAAO2vB,EAAQtS,cAAc/oB,QAAS,CAAEsC,KAAM,SAC9C+yB,GAAS,EAEXe,QAAUv+B,IACR6T,EAAO2vB,EAAQtS,cAAcE,QAAS,CAAE3mB,KAAM,SAAU,IAIxDoJ,GAASC,EAAAA,GAAAA,KACT0pB,GAAUC,EAAAA,GAAAA,KACVqG,GAAcC,EAAAA,GAAAA,GAAezG,IAC7B,KAAEl4B,IAASqgC,EAAAA,GAAAA,KAOX8C,EAAiBluC,IACrB,MAAMmuC,EAAcpjC,EAAKqjC,WAAW9N,GAAWA,EAAO58B,KAAO1D,IAC7D+K,EAAKojC,GAAa/U,SAAW+P,EAAQwE,QAAQ,EAG/C,OACEnqC,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLhL,MAAOe,EAAEmiC,EAAQ0E,aACjBz8B,SAAUkI,EACV/C,QAfgB+N,KAClBof,EAAYhC,QAAQwM,GACpBH,IACAtE,IACAtG,GAAS,EAYPkB,QAASpvB,EAAKovB,QACdC,MAAOrvB,EAAKqvB,YAAM,EAEjB6E,EAAQj4B,KACF,ECjCb,I,YAAA,GA1C2BjT,IAA2C,IAA1C,YAAEsN,EAAW,WAAE4+B,KAAe1jC,GAAOxI,EAC/D,MAAMurC,EAAe/iC,EAAM+iC,aACrBlC,GAAerC,EAAAA,GAAAA,KAErB,QACEuE,EAAar8B,eAAe,eAC5Bq8B,EAAa1P,WACG,UAAhBvuB,KAKE/H,EAAAA,EAAAA,GAAC6qC,EAAAA,SAAQ,UACNlE,IACC3mC,EAAAA,EAAAA,GAAC4mC,GAAY,CACXnH,SAAUqE,EACVjD,QAAQ,YACRC,MAAM,UACNp8B,MAAO,CAAE48B,YAAa,QACtBpB,YAAaj9B,EAAMi9B,YACnB8F,aAAc/iC,EAAM+iC,eAGxBvlC,EAAAA,cAACqqC,IAAuBzhC,EAAAA,GAAAA,GAAA,CACtB6gC,oBAAqBlE,EAAapQ,SAClCiL,QAAQ,YACRC,MAAM,WACF79B,IAEW,UAAhB8E,GAA2Bi+B,EAAapQ,UACvCn1B,EAAAA,cAACsqC,GAAAA,GAAgB1hC,EAAAA,GAAAA,GAAA,CACfw3B,QAAQ,WACRn8B,MAAO,CAAEsmC,WAAY,IAAKC,WAAY,OAAQC,YAAa,OAC3D7D,aAAa,eACTpkC,IAKd,EC3BK,MAAMkoC,GAAgBA,KAC3B,MAAM,YAAEpjC,IAAgBqjC,EAAAA,GAAAA,KAClB5nC,GAAI65B,EAAAA,GAAAA,MAEH0C,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,GAK5D,OAJAxgC,EAAAA,EAAAA,YAAU,KACRugC,GAAc,EAAM,GACnB,KAGDhgC,EAAAA,EAAAA,GAACs9B,GAAAA,EAAI,CACHE,KAAM,CAAEjE,MAAO,aAAcyC,MAAO,OACpC3E,QAAOgU,KAAAA,IAAErrC,EAAAA,EAAAA,GAACsrC,GAAgB,KAC1B7N,oBAAqB,CAAE7H,UAAU,EAAO2V,IAAI,GAC5CC,QAAS,GACTrU,QAAOsU,KAAAA,IAAEzrC,EAAAA,EAAAA,GAAC0rC,GAAW,WAAG,GAExB1rC,EAAAA,EAAAA,GAAC09B,GAAQ,CAACC,mBAAmB39B,EAAAA,EAAAA,GAAC2rC,GAAiB,CAAC5jC,YAAaA,UAAgB,EAAA6jC,KAAAA,IAC3E5rC,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,eAAcoiC,KAAAA,IAChC7rC,EAAAA,EAAAA,GAAC8rC,GAAAA,EAAY,CACXnD,UAAU,SACVl/B,OAAO,mBAETzJ,EAAAA,EAAAA,GAAC+rC,GAAAA,EAAa,CACZtpC,MAAOe,EAAE,mDACTiY,OAASqhB,GAAWA,EAAOjG,SAAS5+B,OACpC0wC,UAAU,YAEZ3oC,EAAAA,EAAAA,GAACgsC,GAAgB,CAACjkC,YAAaA,KAE5B,E,0CCTX,I,GAAA,GA5BmBkkC,KACjB,MAAMpM,GAAWC,EAAAA,GAAAA,KACXt8B,GAAI65B,EAAAA,GAAAA,KACJoC,GAAWgC,EAAAA,GAAAA,MACV1B,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,GAW5D,OACEjgC,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLw1B,UAASiJ,KAAAA,IAAElsC,EAAAA,EAAAA,GAACmsC,GAAAA,EAAgB,KAC5Bt7B,KAAK,QACLkC,QAbgBqB,IAClB,IAAIquB,EAAe,IAAGhD,IAClBM,GAA2B,aAAbN,IAChBgD,EAAe,aAAY1C,SAC3BC,GAAc,IAEhBH,EAAS4C,EAAY,EAQnB3B,MAAM,YACND,QAAQ,kBAAW,EAElBr9B,EAAE,kCACI,EC7Bb,MAAM29B,IAAYC,EAAAA,GAAAA,IAAY/gC,IACrB,CACLghC,QAAS,CACP18B,QAAS,OACT3I,eAAgB,gBAChB6I,UAAWxE,EAAM48B,QAAQ,QAc/B,OAToBmP,KAClB,MAAM7K,EAAUJ,KAChB,OACEnhC,EAAAA,EAAAA,GAAA,OAAKue,UAAWgjB,EAAQF,cAAQ,EAAAgL,KAAAA,IAC9BrsC,EAAAA,EAAAA,GAACisC,GAAU,KACP,E,wBCnBH,MAAMK,GAAuB,CAAEzvC,MAAO,uBAEhC0vC,GAA0B,CACnC,SAAU,CACRC,aAAc,SAKPC,IAAiBrL,EAAAA,GAAAA,IAAY/gC,IAAK,CAC7CsjC,KAAM,CACJh/B,QAAS,OACT9H,MAAO,QAET6vC,UAAW,CACTC,WAAY,gBAEdC,WAAY,CACVC,cAAe,SACfjJ,KAAM,UACNkJ,SAAU,IACV9wC,eAAgB,SAChB+wC,aAAc,OACdC,aAAc,OACdC,YAAa,aACb3L,YAAa,QAEf4L,YAAa,CACXtJ,KAAM,UACNiJ,cAAe,SACfC,SAAU,KAEZK,YAAa,CACXxoC,QAAS,OACTyoC,WAAY,aACZpxC,eAAgB,SAChBqxC,YAAa,OACb,gBAAiB,CACfA,YAAa,IAGjBC,WAAY,CACVzwC,MAAO,OAET0wC,WAAY,CACV5oC,QAAS,OACT9H,MAAO,OACPb,eAAgB,iBAElBwxC,eAAgB,CACd7oC,QAAS,Y,+BCpBN,MAAM8oC,GAAgBA,KAC3B,MAAM,QAAE5G,IAAYK,EAAAA,GAAAA,KAEpB,OACElnC,EAAAA,EAAAA,GAAC0tC,GAAAA,EAAI,CAACvW,SAASn3B,EAAAA,EAAAA,GAACynC,GAAU,CAACZ,QAASA,UAAY,EAAA8G,KAAAA,IAC9C3tC,EAAAA,EAAAA,GAAC4tC,GAAmB,KACf,EAKEA,GAAsBA,KACjC,MAAM9Q,GAAS0E,EAAAA,GAAAA,KACf,IAAK1E,EAAQ,OAAO,KACpB,MAAMyE,EAAUkL,KAEhB,OACEzsC,EAAAA,EAAAA,GAAC6tC,GAAAA,gBAAe,CAACtvB,UAAWgjB,EAAQmL,gBAAU,GAC5C1sC,EAAAA,EAAAA,GAAC8tC,GAAmB,CAAChR,OAAQA,IACb,EAKTgR,GAAsBrzC,IAAgB,IAAf,OAAEqiC,GAAQriC,EAC5C,MAAM+I,GAAI65B,EAAAA,GAAAA,KACJrnB,GAASC,EAAAA,GAAAA,KACTsrB,EAAUkL,MACTsB,EAAiBC,IAAsB5jC,EAAAA,EAAAA,WAAS,GA+BvD,OACIpK,EAAAA,EAAAA,GAAC6tC,GAAAA,gBAAe,CAACtvB,UAAWgjB,EAAQmL,gBAAU,GAC5C1sC,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,uCAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,WACJvkC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ4L,kBAAY,GACpCntC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ+L,iBAAW,EAAA1B,KAAAA,IACnC5rC,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,iBAClBzJ,EAAAA,EAAAA,GAAA,gBAAAiuC,KAAAA,IACEjuC,EAAAA,EAAAA,GAACkuC,GAAAA,EAAU,CAACzkC,OAAO,YACnBzJ,EAAAA,EAAAA,GAACmuC,GAAAA,EAAU,CACTt9B,KAAK,QACLnM,MAAO,CAAEumC,WAAY,SACrBl4B,QA3Ceq7B,IAC7BJ,GAAmB,EAAK,QA0CqB,EAAAK,KAAAA,IAE/BruC,EAAAA,EAAAA,GAACsuC,GAAAA,EAAe,OAElBtuC,EAAAA,EAAAA,GAAC0iC,GAAAA,EAAM,CAAChyB,KAAMq9B,QAAgB,GAC5B/tC,EAAAA,EAAAA,GAAC4iC,GAAAA,EAAW,UACTp/B,EAAE,yCAELxD,EAAAA,EAAAA,GAAC6iC,GAAAA,EAAa,WACZ7iC,EAAAA,EAAAA,GAAC8iC,GAAAA,EAAiB,UACft/B,EAAE,yCAGPxD,EAAAA,EAAAA,GAAC+iC,GAAAA,EAAa,WACZ/iC,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QAtDYq7B,IAC9BJ,GAAmB,EAAM,EAsDPhL,WAAS,EACTnyB,KAAK,QACLgwB,QAAQ,YACRC,MAAM,YACNmC,UAASC,KAAAA,IAAEljC,EAAAA,EAAAA,GAACmjC,GAAAA,EAAgB,WAAI,EAE/B3/B,EAAE,sCAELxD,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QA5DUq7B,IAC5BJ,GAAmB,GACnB,MAAMO,EAAO,sBAAyCzR,EAAO58B,cAE7DmmC,EAAAA,GAAAA,wBAAuBkI,EAAK,CAC1B/nC,OAAQ,OACRU,KAAMC,KAAKC,UAAU,CAAE,SAAW,MAEjC6V,MAAK,KACJjH,EAAO,sDAAuD,CAC5DpJ,KAAM,QACN,IAEHsQ,OAAO9I,IACN4B,EAAO,sDAAuD,CAC5DpJ,KAAM,SACN,IAEH05B,SAAQ,QAAS,EA2CFxF,MAAM,UACND,QAAQ,YACRoC,UAASI,KAAAA,IAAErjC,EAAAA,EAAAA,GAACsjC,GAAAA,EAAW,WAAI,EAE1B9/B,EAAE,2CAMbxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ+L,iBAAW,EAAAkB,KAAAA,IACnCxuC,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,mBAIxBzJ,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,2CAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,WACJvkC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ4L,kBAAY,GACpCntC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ+L,iBAAW,GACnCttC,EAAAA,EAAAA,GAAC+rC,GAAAA,EAAa,CACZtpC,MAAOe,EAAE,wCACTiY,OAASqhB,GAAWt5B,EAAG,aAAYs5B,EAAOj+B,gBAG9CmB,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ+L,iBAAW,EAAAzB,KAAAA,IACnC7rC,EAAAA,EAAAA,GAAC8rC,GAAAA,EAAY,CAACriC,OAAO,qBAGnBglC,KAAAA,IAERzuC,EAAAA,EAAAA,GAACosC,GAAW,KACI,E,+HC/JxB,MAAMjL,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjCsjC,KAAM,CACJh/B,QAAS,OACTyoC,WAAY,SACZpxC,eAAgB,SAChB+sC,QAAS,OACT,YAAa,CACXkC,WAAY5qC,EAAM48B,QAAQ,IAE5BpgC,MAAO,OACPnC,OAAQ,YAcZ,I,MAAA,GAVgBg0C,KACd,MAAMnN,EAAUJ,KAEhB,OACEnhC,EAAAA,EAAAA,GAAA,OAAKue,UAAWgjB,EAAQoC,WAAK,EAAAgL,KAAAA,IAC3B3uC,EAAAA,EAAAA,GAAC4uC,GAAAA,EAAgB,KACb,E,wBCHV,MAAMzN,IAAYC,EAAAA,GAAAA,IAAY/gC,IACrB,CACLwuC,YAAa,CACXC,OAAQzuC,EAAM48B,QAAQ,GACpB6L,SAAU,KAEdiG,YAAa,CACXlqC,UAAWxE,EAAM48B,QAAQ,IAE3B+R,OAAQ,CACN,WAAY,CACV3B,YAAa,OACX,WAAY,CACZ1nC,WAAYtF,EAAM4uC,WAAWtpC,YAE/B,UAAW,CACThB,QAAS,cACPE,UAAW,WAInBqqC,mBAAoB,CAClB,oBAAqB,CAAEC,WAAY,OAAQvpC,SAAU,SACrD,0BAA2B,CAAEmjC,QAAS,EAAGnjC,SAAU,cAKnDwpC,GAA4B,CAChCC,gBAAiB,OACjBC,OAAQ,oBACRvG,QAAS,SACTpjC,WAAY,QACZ4pC,aAAc,KACdC,aAAc,GAIHC,GAAkBh1C,IAAc,IAAb,OAACu0C,GAAOv0C,EACtC,MAAM+I,GAAI65B,EAAAA,GAAAA,KACJkE,EAAUJ,MACT32B,EAASC,IAAcL,EAAAA,EAAAA,WAAS,IAChC7C,EAAM4C,IAAWC,EAAAA,EAAAA,UAAS,KAC1BslC,EAAWC,IAAgBvlC,EAAAA,EAAAA,UAAS,aACpCwlC,EAAcC,IAAmBzlC,EAAAA,EAAAA,UAAS,MAmBjD3K,EAAAA,EAAAA,YAAU,KAlBQ2G,WAChBqE,GAAW,GACX,MAKM27B,EAAK,IAAIlrB,gBALC,CACd40B,SAAU,YACVla,UAAU,EACVma,WAAYL,IAE0Bx+B,WAClCq9B,EAAO,4BAA+CS,MAAW5I,IAEjE7+B,SADiB8+B,EAAAA,GAAAA,wBAAuBkI,EAAK,CAAC,IAC9B/mC,KACtB2C,EAAQ5C,GACRkD,GAAW,GACXolC,EAAgB7+B,KAAK3a,IAAkB,GAAdkR,EAAKtP,OAAa,KAAK,EAMhDkO,EAAW,GACV,CAACupC,IAEJ,MAAMM,EAAgBr1C,IAA+B,IAA9B,OAACq0C,EAAM,OAAE3G,EAAM,QAAE/hC,GAAQ3L,EAG9C,OAFAs1C,QAAQC,IAAI,UAAW5pC,GAElBA,GAAYA,EAAQrO,QAIrBowC,GAEAroC,EAAAA,EAAAA,GAAA,OAAKue,UAAWgjB,EAAQ2N,yBAAmB,GACzClvC,EAAAA,EAAAA,GAAA,cAAIsG,EAAQ,GAAGA,QAAQ8C,YACvBpJ,EAAAA,EAAAA,GAAA,cAAK,GAAEsG,EAAQ,GAAGiL,UAAUjL,EAAQ,GAAG9J,QAC3B,aAAXwyC,IACChvC,EAAAA,EAAAA,GAAA,iBAAAuZ,KAAAA,IAAMvZ,EAAAA,EAAAA,GAAA,UAAQ,GAAEsG,EAAQ,GAAGiL,UAAUjL,EAAQ,GAAG9J,WAT/C,IAeE,EAGb,OACEwD,EAAAA,EAAAA,GAACmwC,GAAAA,EAAI,CAAC5xB,UAAWgjB,EAAQyN,aAAO,GAC9BhvC,EAAAA,EAAAA,GAAA,oBACEA,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKvC,WAAW,EAAMgG,cAAY,UACnD9gC,EAAG,2BAA0BwrC,mBAEhChvC,EAAAA,EAAAA,GAAA,iBAAOwD,EAAG,0CACVxD,EAAAA,EAAAA,GAAA,iBACEA,EAAAA,EAAAA,GAACowC,GAAAA,EAAW,CAACvP,QAAQ,SAAStiB,UAAWgjB,EAAQsN,kBAAY,GAC3D7uC,EAAAA,EAAAA,GAACqwC,GAAAA,EAAY,CACX7zC,MAAOkzC,EACPv7B,SAxCUi6B,IACpBuB,EAAavB,EAAMhqC,OAAO5H,MAAM,EAwCtB+hB,UAAWgjB,EAAQwN,kBAAY,GAE/B/uC,EAAAA,EAAAA,GAAA,UAAQxD,MAAM,iBAAU,EACrBgH,EAAE,8CAELxD,EAAAA,EAAAA,GAAA,UAAQxD,MAAM,kBAAW,EACtBgH,EAAE,+CAELxD,EAAAA,EAAAA,GAAA,UAAQxD,MAAM,kBAAW,EACtBgH,EAAE,+CAELxD,EAAAA,EAAAA,GAAA,UAAQxD,MAAM,YAAK,EAChBgH,EAAE,6CAObxD,EAAAA,EAAAA,GAACswC,GAAAA,EAAW,WACVtwC,EAAAA,EAAAA,GAAA,OAAK0E,MAAO,CAAE7H,MAAO,OAAQnC,OAAQk1C,SAAe,EACjDplC,IAAO+lC,KAAAA,IAAIvwC,EAAAA,EAAAA,GAAC0uC,GAAO,OAClBlkC,IACAxK,EAAAA,EAAAA,GAACwwC,GAAAA,EAAmB,CAAC3zC,MAAM,MAAMnC,OAAQk1C,QAAa,GACpD5vC,EAAAA,EAAAA,GAACywC,GAAAA,EAAQ,CACPlpC,KAAMA,EACNunC,OAAQ,CACN5xC,IAAK,EACLwzC,MAAO,GACP1zC,KAAM,GACN2zC,OAAQ,GAEVC,OAAO,iBAAU,GAEjB5wC,EAAAA,EAAAA,GAAC6wC,GAAAA,EAAK,CACJjkC,KAAK,SACLkkC,OAAQ,CAAC,EAAGC,GAAYA,GAAW,EAAIA,EAAU,GACjDrsC,MAAO,CAAEiB,WAAY,YAEvB3F,EAAAA,EAAAA,GAACgxC,GAAAA,EAAK,CACJpkC,KAAK,WACLqkC,QAAQ,SACRvsC,MAAO,CAAEiB,WAAY,SACrB9I,MAAO,OAETmD,EAAAA,EAAAA,GAACspC,GAAAA,EAAO,CACN4H,mBAAmB,EACnBC,aAAc/B,GACdgC,aAAc,CAAC/B,gBAAiB,SAChCgC,UAAW,CAAChC,gBAAiB,UAC7BvvC,SAASE,EAAAA,EAAAA,GAACgwC,EAAa,CAAChB,OAAQA,OAElChvC,EAAAA,EAAAA,GAAC8f,GAAAA,EAAG,CACFvO,KAAM/N,EAAE,4CACRytC,QAAQ,YACR3rC,KAAK,YAEK,aAAX0pC,IACChvC,EAAAA,EAAAA,GAAC8f,GAAAA,EAAG,CACFvO,KAAM/N,EAAE,8CACRytC,QAAQ,cACR3rC,KAAK,YAGG,aAAX0pC,IACChvC,EAAAA,EAAAA,GAACsxC,GAAAA,EAAM,CACLH,aAAc,CAAExrC,WAAY,QAASC,SAAU,eASxD,E,+EClMJ,MAAM2rC,GAActuC,GACzBuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,oBAAa,GAC5BhK,EAAAA,EAAAA,GAAA,KAAGE,GAAG,gBAAS,GACbF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,uuBACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,kDACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,+CACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,iDACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,6CACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,+GACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,+GACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,0BACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,+GACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,gKACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,mK,gBCWhB,MAAM07B,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjC82B,QAAS,CACPn7B,eAAgB,SAChB,CAACqE,EAAM6hC,YAAYC,KAAK,OAAQ,CAC9Bt9B,UAAW,EACXkkC,QAAS,EACT/L,SAAU,OACV,WAAY,CACV+P,aAAc,QACdloC,UAAW,QACXomC,WAAY,qBAMPyG,GAAUA,KACrB,MAAMnQ,EAAUJ,KACV39B,GAAI65B,EAAAA,GAAAA,MACJ,OAAE3+B,GAAWH,KACbyX,GAASC,EAAAA,GAAAA,MACPH,UAAWC,IAAoB/B,EAAAA,GAAAA,MAChC29B,EAAiBC,IAAsBxnC,EAAAA,EAAAA,WAAS,IAChDynC,EAAYC,IAAiB1nC,EAAAA,EAAAA,WAAS,IACtC2nC,EAAiBC,IAAsB5nC,EAAAA,EAAAA,eAAS7D,IAkCjD,KAAEgB,EAAMuO,UAAWm8B,IAAoBC,EAAAA,GAAAA,GAAW,WAAY,CAClE3U,WAAY,CAAE4U,KAAM,EAAG3G,QAAS,MAChChO,KAAM,CAAEjE,MAAO,YAAayC,MAAO,OACnC4E,OAAQ,CACN/hC,SAAUH,EACVk3B,UAAU,KAIRiB,GAAWl4B,EAAAA,EAAAA,UAAQ,IACnB4I,EACKlL,OAAO6nC,OAAO38B,GAAMlM,KAAK+2C,IAAO,CACrC7gC,KAAM6gC,EAAQhpC,UACdlJ,GAAIkyC,EAAQlyC,OAGP,IAER,CAACqH,IAEJ,OAAIwO,EAAwBtV,EAAAA,cAAAA,EAAAA,SAAA,OAG1BT,EAAAA,EAAAA,GAACmwC,GAAAA,EAAI,WACHnwC,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAAC1tC,QAAQ,aAAM,GACjB3E,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAACzO,KAAK,UAAG,GACX5jC,EAAAA,EAAAA,GAACsyC,GAAAA,EAAW,CAAC/zB,UAAWgjB,EAAQpK,cAAQ,GACtCn3B,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLozB,QAAQ,YACR9tB,QA9Daw/B,KACvBT,GAAc,EAAK,EA8DT7O,UAASuP,KAAAA,IAAExyC,EAAAA,EAAAA,GAACuxC,GAAU,KACtBzQ,MAAM,kBAAW,EAEhBt9B,EAAE,6CAELxD,EAAAA,EAAAA,GAAC0iC,GAAAA,EAAM,CAAChyB,KAAMmhC,QAAW,GACvB7xC,EAAAA,EAAAA,GAAC4iC,GAAAA,EAAW,UACTp/B,EAAE,yCAELxD,EAAAA,EAAAA,GAAC6iC,GAAAA,EAAa,WACZ7iC,EAAAA,EAAAA,GAACyyC,GAAAA,EAAY,CACX39B,QAAS+hB,EACT6b,eAAa,EACbloC,QAASynC,EACT99B,SAvEiBw+B,CAACvE,EAAOgE,KACvCJ,EAAmBI,GACnBR,GAAmBQ,EAAuB,EAsE5BQ,eAAiBC,GAAWA,EAAOthC,KACnCuhC,YAAcC,GACZtyC,EAAAA,cAACuyC,GAAAA,GAAY3pC,EAAAA,GAAAA,GAAA,GACP0pC,EAAM,CACVtwC,MAAOe,EACL,qDAEFq9B,QAAQ,SACRoS,WAAY,IACPF,EAAOE,WACVC,cACElzC,EAAAA,EAAAA,GAAC6qC,EAAAA,SAAQ,UACNoH,EAAetD,KAAAA,IACd3uC,EAAAA,EAAAA,GAAC4uC,GAAAA,EAAgB,CAAC9N,MAAM,UAAUjwB,KAAM,MACtC,KACHkiC,EAAOE,WAAWC,sBAQjClzC,EAAAA,EAAAA,GAAC+iC,GAAAA,EAAa,WACZ/iC,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QApGUogC,KACxBrB,GAAc,EAAM,EAoGN9O,WAAS,EACTlC,MAAM,YACND,QAAQ,YACRoC,UAASC,KAAAA,IAAEljC,EAAAA,EAAAA,GAACmjC,GAAAA,EAAgB,WAAI,EAE/B3/B,EAAE,sCAELxD,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLqzB,MAAM,UACND,QAAQ,YACRoC,UAASI,KAAAA,IAAErjC,EAAAA,EAAAA,GAACsjC,GAAAA,EAAW,KACvB11B,SAAU+jC,EACV5+B,QA1GYqB,IAC1BA,EAAE8wB,mBAIFmB,EAAAA,GAAAA,wBAFa,iBAEe,CAC1B7/B,OAAQ,OACRU,KAAO,qCAAoC6qC,EAAgB7xC,SAE1D+c,MAAMlW,IACL,MAGMqsC,EAAa,KAHR,IAAIl4B,gBAAgB,CAC7Bm4B,GAAItsC,EAASS,KAAY,QACxB0J,oBAEH4gC,GAAc,GACdE,OAAmBzrC,GACnBqrC,GAAmB,GACnBhqC,OAAO8I,KAAK0iC,EAAW,SAAU,aAAa,IAE/Cl2B,OAAM,KACLlH,EAAO,4CAA6C,QAAQ,GAC5D,QAqFsC,EAE3BxS,EAAE,2CAOV,E,sBCzHX,OAlDkB8vC,KAChB,MAAMC,GAAUtR,EAAAA,GAAAA,IAAe5hC,GAAUA,EAAM6hC,YAAYC,KAAK,SAC1D,YAAEp6B,IAAgBqjC,EAAAA,GAAAA,KAClBoI,EAAS,CACb5P,KAAM,CAAEj/B,QAAS,QACjB8uC,WAAY,CAAE9uC,QAAS,OAAQkoC,cAAe,UAC9C6G,QAAS,CACP/uC,QAAS,OACTkoC,cAAe,MACf7wC,eAAgB,gBAChB,UAAW,CAAEa,MAAO,QAEtB82C,QAAS,CAAE/P,KAAM,EAAGtC,YAAa,SACjCsS,SAAU,CAAEhQ,KAAM,EAAGqH,WAAY,SACjC4I,UAAW,CAAEhvC,UAAW,MAAOkoC,aAAc,QAGzC+G,EAAmBA,KAAM9zC,EAAAA,EAAAA,GAAA,QAAM0E,MAAO,CAAEhK,OAAQ,SAEtD,MAAI,CAAC,QAAS,SAASqS,SAAShF,GACvBwrC,GACLvzC,EAAAA,EAAAA,GAAA,iBACEA,EAAAA,EAAAA,GAAA,OAAK0E,MAAO8uC,EAAOC,iBAAW,EAAAM,KAAAA,IAC5B/zC,EAAAA,EAAAA,GAAC0xC,GAAO,MACR1xC,EAAAA,EAAAA,GAAC8zC,EAAgB,IAAGE,KAAAA,IACpBh0C,EAAAA,EAAAA,GAACyvC,GAAe,CAACT,OAAO,oBACxBhvC,EAAAA,EAAAA,GAAC8zC,EAAgB,IAAGG,KAAAA,IACpBj0C,EAAAA,EAAAA,GAACyvC,GAAe,CAACT,OAAO,iBAI5BhvC,EAAAA,EAAAA,GAAA,OAAK0E,MAAO8uC,EAAOC,iBAAW,GAC5BzzC,EAAAA,EAAAA,GAAA,OAAK0E,MAAO8uC,EAAOK,gBAAU,EAAAK,KAAAA,IAC3Bl0C,EAAAA,EAAAA,GAAC0xC,GAAO,OAEV1xC,EAAAA,EAAAA,GAAA,OAAK0E,MAAO8uC,EAAO5P,WAAK,GACtB5jC,EAAAA,EAAAA,GAAA,OAAK0E,MAAO8uC,EAAOG,cAAQ,EAAAQ,KAAAA,IACzBn0C,EAAAA,EAAAA,GAACyvC,GAAe,CAACT,OAAO,qBAE1BhvC,EAAAA,EAAAA,GAAA,OAAK0E,MAAO8uC,EAAOI,eAAS,EAAAQ,KAAAA,IAC1Bp0C,EAAAA,EAAAA,GAACyvC,GAAe,CAACT,OAAO,iBAMzBvuC,EAAAA,cAAAA,EAAAA,SAAA,KACT,E,4DCrCF,OAfyBhG,IAKnB,IALoB,yBACxB45C,EAAwB,cACxBC,EAAa,KACb/sC,KACGtE,GACJxI,EACKk6B,EAAU,GAMd,OALI0f,EAAyB1qC,eAAe1G,EAAMwG,QAChDkrB,EAAU2f,EAAcD,EAAyBpxC,EAAMwG,SAC9ClC,EAAoB,gBAC7BotB,EAAU2f,EAAc/sC,EAAoB,gBAEvC9G,EAAAA,cAACokC,GAAAA,GAAWx7B,EAAAA,GAAAA,GAAA,CAACsrB,QAASA,GAAa1xB,GAAS,ECb9C,MAAMsxC,GAAUA,CAACzX,EAAQp+B,KAE9B,IAAI81C,EAAuB,GAE3B,IACEA,EAAuB1X,EAAOl+B,KAAKm5B,YAAYr5B,EACjD,CAAE,MAAO0V,GAAI,CAsBb,OAlBA8nB,GAAUgC,SAASr/B,IACjB,IAAK21C,EACH,IACEA,EAAuB1X,EAAOl+B,KAAKm5B,YAAYl5B,EACjD,CAAE,MAAOuV,GACT,CACF,IAIF8nB,GAAUgC,SAASr/B,IACZi+B,EAAOl+B,KAAKm5B,YAAYpuB,eAAe9K,IAAci+B,EAAOl+B,KAAKm5B,YAAYl5B,KAChFi+B,EAAOl+B,KAAKm5B,YAAYl5B,GAAa,IAAGA,EAAS41C,oBAAoBD,IACvE,IAIF1X,EAAOlH,UAAW,EACXkH,CAAM,EC1BF4X,IAAkBtT,EAAAA,GAAAA,IAAY/gC,IAAK,CAC9Cs0C,QAAS,CACPhwC,QAAS,OACT3I,eAAgB,QAChBoxC,WAAY,SACZ1xC,IAAK,MACL,UAAW,CACTotC,SAAU,OACVjsC,MAAO,aAKA+3C,IAAyBxT,EAAAA,GAAAA,IAAY/gC,IACzC,CACLsjC,KAAM,CACJ9mC,MAAO,sBACP8H,QAAS,OACT3I,eAAgB,QAChB+wC,aAAc1sC,EAAM48B,QAAQ,GAC5B,QAAS,CACPpgC,MAAO,QACP,gBAAiB,CACfykC,YAAajhC,EAAM48B,QAAQ,UCxBxB4X,GAAmB,EAAC1iC,EAAAA,GAAAA,OACpB2iC,GAAsB,EAAC3iC,EAAAA,GAAAA,OACvB4iC,GAAwB,EAAC5iC,EAAAA,GAAAA,O,UCkC/B,MAAM6iC,GAAiBA,KAC5B,MAAM,YAAEjtC,IAAgBqjC,EAAAA,GAAAA,KAClB5nC,GAAI65B,EAAAA,GAAAA,KACJ4X,EAAgBP,MAChB,OAAEh2C,GAAWH,MACZ81C,EAA0Ba,IAA+B9qC,EAAAA,EAAAA,UAAS,CAAC,GAC1E,IAAImrB,EAAa,GACb+e,EAAgB,CAAC,EACrB,MAAMxQ,GAAerC,EAAAA,GAAAA,MACf,KAAEl6B,EAAI,UAAEuO,IAAco8B,EAAAA,GAAAA,GAC1B,aACA,CACE3U,WAAY,CAAE4U,KAAM,EAAG3G,QAAS,MAChChO,KAAM,CAAEjE,MAAO,aAAcyC,MAAO,QAEtC,CAAEn9B,SAAUH,IAyBToX,GACHvO,EAAK22B,SAAS/F,IACZ5C,EAAW71B,KAAK,CACd,GAAMy4B,EAASj4B,GACf,KAAQi4B,EAASv5B,KAAK2S,KAAK7S,KAE7B41C,EAAcnc,EAASj4B,IAAMi4B,EAAS5B,eAAel7B,KAClD6hC,IACQ,CACL,GAAMA,EAAYh9B,GAClB,KAAQg9B,EAAYt+B,KAAK2S,KAAK7S,MAGnC,IAgBL,OACEsB,EAAAA,EAAAA,GAAC+jC,GAAAA,EAAM,CAACoR,UA/CSrY,GACVyX,GAAQzX,EAAQp+B,GA8COslC,gBAAiB,CAAEtD,QAblCv+B,IACf,IAAI+Q,EAAU,GACV/Q,GAAO+E,KACT7K,OAAO4nC,QAAQ9hC,EAAM+E,MAAMg3B,SAAQzjC,IAAmB,IAAjB8B,EAAK2nC,GAAOzpC,EAC/CyY,GAAW1P,EAAG,aAAYsgC,YAAuBvnC,IAAM,IAGzD2W,EAAU1P,EAAE,qBAEdwS,OAAO9C,EAAS,CAAEtG,KAAM,SAAU,GAImCizB,SAAS,aAAM,GAClF7/B,EAAAA,EAAAA,GAACmkC,GAAAA,EAAU,CAAC9C,QAAO+C,KAAAA,IAAEpkC,EAAAA,EAAAA,GAACqkC,GAAiB,CAACtwB,UAAU,WAAU,GAC1D/T,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,gDAELxD,EAAAA,EAAAA,GAACo1C,GAAAA,EAAkB,CACjBC,QAASnZ,GACToZ,cAAe52C,EACf6/B,GAAI+N,SAAqB,GAEzBtsC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CACRh7B,OAAO,mBACP8rC,WAAW,EACX7Q,WAAW,EACXztB,SAlEWu+B,CAACh5C,EAAOsgC,IACpBkC,GAAuBxiC,EAAOsgC,EAAQp+B,EAAQ,kBAoEhC,UAAhBqJ,IAAuB+8B,KAAAA,IAAI9kC,EAAAA,EAAAA,GAAC+kC,GAAAA,EAAY,CAACt7B,OAAO,iBACjDzJ,EAAAA,EAAAA,GAACo+B,GAAG,CAAC7f,UAAW02B,EAAcN,cAAQ,GACpC30C,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAO,oBACPwN,SAAUooB,GACV58B,MAAOe,EAAE,mDAEXxD,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAO,QACPwN,SAAUooB,GACV58B,MAAOe,EAAE,uCAEXxD,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAO,SACPwN,SAAUooB,GACV58B,MAAOe,EAAE,yCAGbxD,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,oDAEHsS,IACA9V,EAAAA,EAAAA,GAAC01C,GAAAA,GAAU,CACTjsC,OAAO,iBACPwN,SAAU89B,GACVrQ,WAAW,QAAM,GAEjB1kC,EAAAA,EAAAA,GAAC21C,GAAAA,EAAkB,CACjBpX,GAAIgO,GACJqJ,mBAAmB,EACnBC,QAAM,WAEN71C,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVpiC,MAAM,WACNgH,OAAO,gBACPkrB,QAASY,EACTphB,SA/FQi6B,IACpB,MAAM0H,EAAgB1H,EAAMhqC,OACtB2xC,EAAU,CAAC,EAEjBA,EAAQD,EAAcvkC,KAAKzE,QAAQ,aAAc,KAAOgpC,EAAct5C,MACtE04C,EAA4B,IACvBb,KACA0B,GACH,EAwFU9+B,SAAU49B,MAEZ70C,EAAAA,EAAAA,GAACg2C,GAAAA,EAAgB,WACdr7C,IAAA,IAAC,eAAEs7C,EAAc,UAAEC,KAAczkC,GAAM9W,EAAA,OACtCs7C,GACEj2C,EAAAA,EAAAA,GAACm2C,GAAgB,CACf1zC,MAAM,eACNgH,OAAQysC,EAAU,OAClB3uC,KAAM0uC,EACN5B,yBAA0BA,EAC1BC,cAAeA,EACfr9B,SAAU69B,KAEV,IAAI,OAOb,E,yBChJN,MAAMsB,GAAeA,KAC1B,MAAM5yC,GAAI65B,EAAAA,GAAAA,MACJ,YAAEt1B,IAAgBqjC,EAAAA,GAAAA,MAClB,QAAErE,IAAYG,EAAAA,GAAAA,KACd+N,EAAgBP,MAChB,OAAEh2C,GAAWH,MACZ81C,EAA0Ba,IAA+B9qC,EAAAA,EAAAA,UAAS,CAAC,GAC1E,IAAImrB,EAAa,GACb+e,EAAgB,CAAC,EACrB,MAAM,KAAE/sC,EAAI,UAAEuO,IAAco8B,EAAAA,GAAAA,GAAW,aAAc,CACnD3U,WAAY,CAAE4U,KAAM,EAAG3G,QAAS,MAChChO,KAAM,CAAEjE,MAAO,aAAcyC,MAAO,OACpC4E,OAAQ,CAAE/hC,SAAUH,KAuBjBoX,GACHvO,EAAK22B,SAAS/F,IACZ5C,EAAW71B,KAAK,CACd,GAAMy4B,EAASj4B,GACf,KAAQi4B,EAASv5B,KAAK2S,KAAK7S,KAE7B41C,EAAcnc,EAASj4B,IAAMi4B,EAAS5B,eAAel7B,KAClD6hC,IACQ,CACL,GAAMA,EAAYh9B,GAClB,KAAQg9B,EAAYt+B,KAAK2S,KAAK7S,MAGnC,IAgBL,OACEsB,EAAAA,EAAAA,GAAConC,GAAAA,EAAI,CACH+N,UA/CerY,GACVyX,GAAQzX,EAAQp+B,GA+CrBy4B,SAASn3B,EAAAA,EAAAA,GAACynC,GAAU,CAACV,QAASA,IAC9B/C,gBAAiB,CAAEtD,QAhBNv+B,IACf,IAAI+Q,EAAU,GACV/Q,GAAO+E,KACT7K,OAAO4nC,QAAQ9hC,EAAM+E,MAAMg3B,SAAQzjC,IAAmB,IAAjB8B,EAAK2nC,GAAOzpC,EAC/CyY,GAAW1P,EAAG,aAAYsgC,uBAAuBvnC,IAAM,IAGzD2W,EAAU1P,EAAE,qBAEdwS,OAAO9C,EAAS,CAAEtG,KAAM,SAAU,GAQhCy6B,aAAa,oBAAa,GAE1BrnC,EAAAA,EAAAA,GAACmkC,GAAAA,EAAU,CACTtE,SAAS,OACTwB,QAAO+C,KAAAA,IAAEpkC,EAAAA,EAAAA,GAACqkC,GAAiB,CAACtwB,UAAU,WAAU,GAEhD/T,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,+CAEY,UAAhBuE,IAAuBsuC,KAAAA,IACtBr2C,EAAAA,EAAAA,GAACs2C,GAAAA,GAAc,CACb7sC,OAAO,gBACP8sC,UAAU,aACV3yC,KAAK,aAAM,GAEX5D,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,kBAGtBzJ,EAAAA,EAAAA,GAACo1C,GAAAA,EAAkB,CACjBC,QAASnZ,GACToZ,cAAe52C,EACf6/B,GAAI+N,SAAqB,GAEzBtsC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CACRh7B,OAAO,mBACP8rC,WAAW,EACX7Q,WAAW,EACXztB,SAjFWu+B,CAACh5C,EAAOsgC,IACpBkC,GAAuBxiC,EAAOsgC,EAAQp+B,EAAQ,kBAmFhC,UAAhBqJ,IAAuB+8B,KAAAA,IAAI9kC,EAAAA,EAAAA,GAAC+kC,GAAAA,EAAY,CAACt7B,OAAO,iBACjDzJ,EAAAA,EAAAA,GAACo+B,GAAG,CAAC7f,UAAW02B,EAAcN,cAAQ,GACpC30C,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAO,oBACPwN,SAAUooB,GACV58B,MAAOe,EAAE,mDAEXxD,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAO,QACPwN,SAAUooB,GACV58B,MAAOe,EAAE,uCAEXxD,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAO,SACPwN,SAAUooB,GACV58B,MAAOe,EAAE,yCAGbxD,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,oDAEHsS,IACA9V,EAAAA,EAAAA,GAAC01C,GAAAA,GAAU,CACTjsC,OAAO,iBACPwN,SAAU89B,GACVrQ,WAAW,QAAM,GAEjB1kC,EAAAA,EAAAA,GAAC21C,GAAAA,EAAkB,CACjBpX,GAAIgO,GACJqJ,mBAAmB,EACnBC,QAAM,WAEN71C,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVpiC,MAAOe,EAAE,wCACTiG,OAAO,gBACPkrB,QAASY,EACTphB,SA/GQi6B,IACpB,MAAM0H,EAAgB1H,EAAMhqC,OACtB2xC,EAAU,CAAC,EAEjBA,EAAQD,EAAcvkC,KAAKzE,QAAQ,aAAc,KAAOgpC,EAAct5C,MACtE04C,EAA4B,IACvBb,KACA0B,GACH,EAwGU9+B,SAAU49B,MAEZ70C,EAAAA,EAAAA,GAACg2C,GAAAA,EAAgB,WACdr7C,IAAA,IAAC,eAAEs7C,EAAc,UAAEC,KAAczkC,GAAM9W,EAAA,OACtCs7C,GACEj2C,EAAAA,EAAAA,GAACm2C,GAAgB,CACf1zC,MAAOe,EAAE,4CACTiG,OAAQysC,EAAU,OAClB3uC,KAAM0uC,EACN5B,yBAA0BA,EAC1BC,cAAeA,EACfr9B,SAAU69B,KAEV,IAAI,OAOf,E,uGC/LJ,MAAM0B,GAAgBvzC,GAC3BuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,kBAAW,GAC1BhK,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,qd,OCHP,MAAMgxC,GAAiBxzC,GAC5BuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,kBAAW,GAC1BhK,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,+5C,OCHP,MAAMixC,GAAgBzzC,GAC3BuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,kBAAW,GAC1BhK,EAAAA,EAAAA,GAAA,QAAM22C,SAAS,UAAUC,SAAS,UAAUnxC,EAAE,k/C,OCH7C,MAAMoxC,GAAY5zC,GACvBuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,kBAAW,GAC1BhK,EAAAA,EAAAA,GAAA,QAAM22C,SAAS,UAAUC,SAAS,UAAUnxC,EAAE,krN,OCH7C,MAAMqxC,GAAa7zC,GACxBuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,kBAAW,GAC1BhK,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,kX,OCHP,MAAMsxC,GAAmB9zC,GAC9BuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,kBAAW,GAC1BhK,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,8VACRzF,EAAAA,EAAAA,GAAA,QAAMyF,EAAE,qG,OCJP,MAAMuxC,GAAY/zC,GACvBuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,kBAAW,GAC1BhK,EAAAA,EAAAA,GAAA,QAAM22C,SAAS,UAAUC,SAAS,UAAUnxC,EAAE,8M,OCH7C,MAAMwxC,GAAqBh0C,GAChCuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,kBAAW,GAC1BhK,EAAAA,EAAAA,GAAA,QAAM22C,SAAS,UAAUC,SAAS,UAAUnxC,EAAE,oRCcpD,OAlB0B/G,IACxB,MAAM,KAAE6I,EAAI,UAAEuO,IAAco8B,EAAAA,GAAAA,GAAW,aAAc,CACnD3U,WAAY,CAAE4U,KAAM,EAAG3G,QAAS,MAChChO,KAAM,CAAEjE,MAAO,aAAcyC,MAAO,OACpC4E,OAAQ,CAAE/hC,SAAUH,KAEtB,OAAOC,EAAAA,EAAAA,UAAQ,IACT4I,EACKlL,OAAO6nC,OAAO38B,GAAMlM,KAAK88B,IAAQ,CACtC5mB,KAAM4mB,EAASv5B,KAAK2S,KAAK7S,GACzBwB,GAAIi4B,EAASj4B,OAGR,IAER,CAACqH,EAAMuO,GAAW,ECwBvB,OAtC0B/N,IACxB,MAAOmvC,EAAQC,IAAa/sC,EAAAA,EAAAA,WAAS,IAC9BI,EAASC,IAAcL,EAAAA,EAAAA,WAAS,IAChC7C,EAAM4C,IAAWC,EAAAA,EAAAA,UAAS,IAuBjC,OANA3K,EAAAA,EAAAA,YAAU,KACY,UAAhBsI,GAjBY3B,WAChBqE,GAAW,GACX0sC,GAAU,GACV,MAMM5I,EAAO,uBADF,IAAIrzB,gBALC,CACd40B,SAAU,YACVla,UAAU,EACVwhB,UAAW,OAE2BlmC,aAElCnK,QAAiBs/B,EAAAA,GAAAA,wBAAuBkI,EAAK,CAAC,GACpDpkC,EAAQpD,EAASS,KAAK6vC,SACtB5sC,GAAW,GACX0sC,GAAU,EAAK,EAKbhxC,EACF,GACC,CAAC4B,KAEGpJ,EAAAA,EAAAA,UAAQ,KACN,CACL4I,KAAMlL,OAAO6nC,OAAO38B,GAAMlM,KAAKi8C,IAAS,CACtC/lC,KAAM+lC,EAAUluC,UAChBlJ,GAAIo3C,EAAUp3C,OAEhBsK,QAASA,EACT0sC,OAAQA,KAET,CAAC3vC,EAAMiD,EAAS0sC,GAAQ,ECZ7B,OAxB6Bx4C,IAC3B,MAAM,KAAE6I,EAAI,UAAEuO,IAAco8B,EAAAA,GAAAA,GAAW,aAAc,CACnD3U,WAAY,CAAE4U,KAAM,EAAG3G,QAAS,MAChChO,KAAM,CAAEjE,MAAO,aAAcyC,MAAO,OACpC4E,OAAQ,CAAE/hC,SAAUH,KAEtB,OAAOC,EAAAA,EAAAA,UAAQ,KACb,GAAI4I,EAAM,CACR,MAAMgwC,EAAqBl7C,OAAO6nC,OAAO38B,GAAMlM,KAAK88B,GAAa,CAC/DA,EAASj4B,GACTi4B,EAAS5B,eAAel7B,KAAK6hC,IACpB,CACL,GAAMA,EAAYh9B,GAClB,KAAQg9B,EAAYt+B,KAAK2S,KAAK7S,UAIpC,OAAOrC,OAAOm7C,YAAYD,EAC5B,CACE,MAAO,EACT,GACC,CAAChwC,EAAMuO,GAAW,E,YCpBvB,MAGa2hC,IAAQC,EAAAA,GAAAA,IAAYr3C,IAAK,CACpCsjC,KAAM,CACJ,CAACtjC,EAAM6hC,YAAYyV,GAAG,OAAQ,CAC5B3b,OAAQ,EACR8M,SAAU,OACVjsC,MAAO,OACPykC,YAAa,MACbz8B,UAAW,OACXkoC,aAAc,QAEhB,CAAC1sC,EAAM6hC,YAAYC,KAAK,OAAQ,CAC9Bx9B,QAAS,QAEX,yBAA0B,CACxBm8B,MAjBQ,UAkBR,qCAAsC,CACpCuM,YAAahtC,EAAM48B,QAAQ,IAE7B,iBAAkB,CAChBoS,gBAAiB,wBAGrB,iBAAkB,CAChBvO,MAzBO,UA0BP,6BAA8B,CAC5B0L,aAAc,SAGlB,kBAAmB,CACjBoL,cAAev3C,EAAM48B,QAAQ,GAC7BuP,aAAc,yBA9BCkL,CAiCjBG,GAAAA,G,gBC8DJ,I,eAAA,GA/E0Bp9C,IAAmB,IAAlB,YAACsN,GAAYtN,EACtC,MAAM,OAAEiE,GAAWH,MACZu5C,EAAkBC,IAAuB3tC,EAAAA,EAAAA,WAAU,IAClD7C,KAAMkuB,EAAU,UAAE3f,GAAckiC,GAAiBjwC,GACnDwtB,EAAa0iB,GAAiBv5C,GAC9B41C,EAAgB4D,GAAoBx5C,IACpC,aAAEsnC,EAAY,WAAEmS,IAAeC,EAAAA,GAAAA,KAerC,OAdA34C,EAAAA,EAAAA,YAAU,KACJumC,GAAgBA,EAAa5P,cAC/B2hB,EAAoB/R,EAAa5P,gBAEjC2hB,EAAoB,OAChB/R,GAAgBA,EAAaqS,mBAC/BF,EAAW,IACNnS,EACH,uBAAqBz/B,IAG3B,GACC,CAACy/B,KAGFhmC,EAAAA,EAAAA,GAACy3C,GAAK,WACJz3C,EAAAA,EAAAA,GAACswC,GAAAA,EAAW,UAAAgI,KAAAA,IACVt4C,EAAAA,EAAAA,GAACu4C,GAAAA,EAAgB,CAAC9uC,OAAO,sBAEzBzJ,EAAAA,EAAAA,GAACw4C,GAAAA,EAAU,CACT/1C,MAAM,2CACNiL,KAAI+qC,KAAAA,IAAEz4C,EAAAA,EAAAA,GAACw2C,GAAY,WAAG,EAGpBjhB,EAAWl6B,KAAK88B,IACdn4B,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAO01B,EAAS5mB,KAEhB/U,MAAO,CAAE45B,cAAe+B,EAASj4B,KAD5Bi4B,EAASj4B,OAOrBo0C,EAAc3qC,eAAemuC,KAC5B93C,EAAAA,EAAAA,GAACw4C,GAAAA,EAAU,CACT/1C,MAAM,iCACNiL,KAAIirC,KAAAA,IAAE34C,EAAAA,EAAAA,GAAC+2C,GAAe,WAAG,EAGvBzC,EAAcwD,GAAkBz8C,KAAK+8B,IACnCp4B,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAO21B,EAAa7mB,KAEpB/U,MAAO,CAAC67C,kBAAmBjgB,EAAal4B,KADnCk4B,EAAal4B,OAQX,UAAhB6H,IACC/H,EAAAA,EAAAA,GAACw4C,GAAAA,EAAU,CACT/1C,MAAM,2CACNiL,KAAIkrC,KAAAA,IAAE54C,EAAAA,EAAAA,GAACy2C,GAAa,WAAI,GAEtB3gC,GACA2f,EAAWp6B,KAAKi8C,IACdt3C,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAO60C,EAAU/lC,KAEjB/U,MAAO,CAAE25B,cAAemhB,EAAUp3C,KAD7Bo3C,EAAUp3C,QAQrB,EC1EZ,MAAM24C,GAAO,CACX,CAAE34C,GAAI,OAAQo2B,WAAW,GACzB,CAAEp2B,GAAI,SAAUo2B,WAAW,IAGvBwiB,GAAmBr+C,IAAuC,IAAtC,OAAEiE,EAAM,YAAEqJ,KAAgB9E,GAAOxI,EACzD,OACEgG,EAAAA,cAACi9B,GAAAA,GAAQr0B,EAAAA,GAAAA,GAAA,GACHpG,EAAK,CACT06B,mBAAmB39B,EAAAA,EAAAA,GAAC2rC,GAAiB,CAAC5jC,YAAaA,OAEnD/H,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAS,oBAAmB/K,MACtB,UAAhBqJ,IAAuBsuC,KAAAA,IACtBr2C,EAAAA,EAAAA,GAACs2C,GAAAA,GAAc,CAAC7sC,OAAO,gBAAgB8sC,UAAU,mBAAY,GAC3Dv2C,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,kBAGtBzJ,EAAAA,EAAAA,GAACgsC,GAAgB,CAACjkC,YAAaA,EAAakhC,UAAU,IAC7C,EAIT8P,GAAiBp+C,IAA+B,IAA9B,YAAEoN,KAAgB9E,GAAOtI,EAC/C,MAAMq+C,GAAcpR,EAAAA,GAAAA,MACd,OAAElpC,GAAWH,KACbiF,GAAI65B,EAAAA,GAAAA,KACJoC,GAAWgC,EAAAA,GAAAA,MACX,KAAEl6B,EAAI,aAAEy+B,EAAY,WAAEmS,EAAU,iBAAEc,EAAgB,UAAEnjC,GACxDkjC,GACKE,EAAiBC,IAAsB/uC,EAAAA,EAAAA,UAAS,KAChDgvC,EAAmBC,IAAwBjvC,EAAAA,EAAAA,UAAS,KACpD5N,EAAO2Y,IAAY/K,EAAAA,EAAAA,UAAS,QA4BnC,OAlBA3K,EAAAA,EAAAA,YAAU,KACR,GAAIumC,EAAa1P,WAKf,GAHc,SAAV95B,GACF2Y,EAAS,UAEP5N,EAAM,CACR,IAAIkjC,EAAMljC,EAAKlM,KAAKoQ,GAAaA,EAASvL,KAC1Cm5C,EAAqB5O,EACvB,OAEA,GAAIljC,EAAM,CACR,IAAIkjC,EAAMljC,EAAKlM,KAAKoQ,GAAaA,EAASvL,KAC1Ci5C,EAAmB1O,EACrB,CACF,GACC,CAACljC,EAAMy+B,EAAa1P,aAGrBt2B,EAAAA,EAAAA,GAAC6qC,EAAAA,SAAQ,WACP7qC,EAAAA,EAAAA,GAACs5C,GAAAA,EAAI,CAAC98C,MAAOA,EAAO+8C,eAAe,UAAUplC,SA7B5BqlC,CAACpL,EAAOjE,KAC3Bh1B,EAASg1B,GACTgO,GACEA,EACE,IAAKnS,EAAc1P,UAAwB,SAAb6T,GAC9B8O,EACD,QAuBmE,EACjEJ,GAAKx9C,KAAKo+C,IACTz5C,EAAAA,EAAAA,GAAC05C,GAAAA,EAAG,CAEFj3C,MAAOe,EAAG,aAAYi8B,iBAAwBga,EAAOv5C,MACrD1D,MAAOi9C,EAAOv5C,IAFTu5C,EAAOv5C,OAKXy5C,KAAAA,IACP35C,EAAAA,EAAAA,GAAC45C,GAAAA,EAAO,MACR55C,EAAAA,EAAAA,GAAA,gBACG8V,IAASy6B,KAAAA,IAAIvwC,EAAAA,EAAAA,GAAC0uC,GAAO,OACpB54B,IAAwC,IAA3BkwB,EAAa1P,YAC1Bt2B,EAAAA,EAAAA,GAAC65C,GAAAA,EAAmB,CAACr9C,MAAO,IAAKw8C,EAAavO,IAAKyO,SAAkB,EACnEz4C,EAAAA,cAACq4C,IAAgBzvC,EAAAA,GAAAA,GAAA,CACf3K,OAAQA,EACRqJ,YAAaA,GACT9E,MAIR6S,IAAwC,IAA3BkwB,EAAa1P,YAC1Bt2B,EAAAA,EAAAA,GAAC65C,GAAAA,EAAmB,CAClBr9C,MAAO,IAAKw8C,EAAavO,IAAK2O,SAAoB,EAElD34C,EAAAA,cAACq4C,IAAgBzvC,EAAAA,GAAAA,GAAA,CACf3K,OAAQA,EACRqJ,YAAaA,GACT9E,MAKH,EAIF62C,GAAeA,KAC1B,MAAM,YAAE/xC,IAAgBqjC,EAAAA,GAAAA,MAClB,OAAE1sC,GAAWH,MAEZwhC,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,GAM5D,OALAxgC,EAAAA,EAAAA,YAAU,KACRugC,GAAc,EAAM,GACnB,KAIDhgC,EAAAA,EAAAA,GAACs9B,GAAAA,EAAI,CACHG,oBAAqB,CACnB7H,UAAU,EACVU,WAAW,EACXz3B,SAAUH,GAEZ24B,QAAOgU,KAAAA,IAAErrC,EAAAA,EAAAA,GAACsrC,GAAgB,KAC1ByO,OAAO/5C,EAAAA,EAAAA,GAACg6C,GAAiB,CAACjyC,YAAaA,IACvCy1B,KAAM,CAAEjE,MAAQ,oBAAmB76B,IAAUs9B,MAAO,OACpDwP,QAAS,GACTrU,QAAOsU,KAAAA,IAAEzrC,EAAAA,EAAAA,GAAC0rC,GAAW,WAAI,GAEzB1rC,EAAAA,EAAAA,GAAC+4C,GAAc,CAAChxC,YAAaA,IACxB,E,uCC7GX,I,YAAA,GA5B2BtN,IAAwB,IAAvB,KAAEwmB,KAAShe,GAAOxI,EAC5C,MAAMqpC,GAAerC,EAAAA,GAAAA,KACfj+B,GAAI65B,EAAAA,GAAAA,KAEV,OAAIpc,GAEAjhB,EAAAA,EAAAA,GAACi6C,GAAAA,EAAO,WACNj6C,EAAAA,EAAAA,GAACs2C,GAAAA,GAAc,CACbxZ,OAAQ75B,EAAM65B,OACd2C,SAAUqE,EACVrhC,MAAOe,EAAE,2CACTiG,OAAO,gBACP8sC,UAAU,aACV3yC,KAAK,aAAM,GAEX5D,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CACRf,OAAQ75B,EAAM65B,OACd2C,SAAUqE,EACVr6B,OAAO,gBAMRhJ,EAAAA,cAAAA,EAAAA,SAAA,KACT,ECNF,MAAMy5C,GAAiBj3C,IACrB,MAAMs+B,EAAUqT,KACV9X,GAAS0E,EAAAA,GAAAA,KACf,OAAK1E,EACEA,EAAOvG,eAAel7B,KAAK6hC,IAChCl9B,EAAAA,EAAAA,GAAA,OAEE,YAAU,WACVue,UAAWgjB,EAAQoC,MAFb,GAAEzG,EAAY7G,OAAO6G,EAAY9G,iBAIvCp2B,EAAAA,EAAAA,GAACm9B,GAAAA,EAAI,CACH2D,MAAM,YACNr+B,MAAOQ,EAAMsyB,WAAW2H,EAAY9G,kBAEtCp2B,EAAAA,EAAAA,GAACm9B,GAAAA,EAAI,CACH2D,MAAM,YACNr+B,MAAOQ,EAAMqxC,cAAcpX,EAAY7G,KACvCwK,QAAQ,gBAdM,IAiBlB,EAGSsZ,GAAeA,KAC1B,MAAM,YAAEpyC,IAAgBqjC,EAAAA,GAAAA,MAClB,QAAEvE,IAAYK,EAAAA,GAAAA,KACd1jC,GAAI65B,EAAAA,GAAAA,MACJ,OAAE3+B,GAAWH,KACbg3B,EAAa,CAAC,EACd+e,EAAgB,CAAC,GACjB,KAAE/sC,EAAI,UAAEuO,IAAco8B,EAAAA,GAAAA,GAAW,aAAc,CACnD3U,WAAY,CAAE4U,KAAM,EAAG3G,QAAS,MAChChO,KAAM,CAAEjE,MAAO,aAAcyC,MAAO,OACpC4E,OAAQ,CAAE/hC,SAAUH,KAWtB,OARKoX,GACHvO,EAAK22B,SAAS/F,IACZ5C,EAAW4C,EAASj4B,IAAMi4B,EAASv5B,KAAK2S,KAAK7S,GAC7Cy5B,EAAS5B,eAAe2H,SAAShB,IAC/BoX,EAAcpX,EAAYh9B,IAAMg9B,EAAYt+B,KAAK2S,KAAK7S,EAAO,GAC7D,KAIJsB,EAAAA,EAAAA,GAAC0tC,GAAAA,EAAI,CAACvW,SAASn3B,EAAAA,EAAAA,GAACynC,GAAU,CAACZ,QAASA,UAAY,GAC9C7mC,EAAAA,EAAAA,GAAC6tC,GAAAA,gBAAe,WACd7tC,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,gDAELxD,EAAAA,EAAAA,GAACo6C,GAAkB,CAACn5B,KAAsB,UAAhBlZ,KAC1B/H,EAAAA,EAAAA,GAACq6C,GAAAA,EAAkB,CACjBhF,QAASnZ,GACToZ,cAAe52C,EACf6/B,GAAI+N,SAAqB,EAAAV,KAAAA,IAEzB5rC,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,mBAAmBi7B,WAAW,MAC7B4V,KAAAA,IACrBt6C,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,WACJvkC,EAAAA,EAAAA,GAACu6C,GAAAA,EAAW,CACV9wC,OAAO,uBAETzJ,EAAAA,EAAAA,GAACu6C,GAAAA,EAAW,CAAC9wC,OAAO,WACpBzJ,EAAAA,EAAAA,GAACu6C,GAAAA,EAAW,CAAC9wC,OAAO,cAEtBzJ,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,oDAELxD,EAAAA,EAAAA,GAACk6C,GAAa,CAAC3kB,WAAYA,EAAY+e,cAAeA,IAAiBzI,KAAAA,IACvE7rC,EAAAA,EAAAA,GAAC8rC,GAAAA,EAAY,CAACriC,OAAO,eAAcglC,KAAAA,IACnCzuC,EAAAA,EAAAA,GAACosC,GAAW,MAET,E,eCjGJ,MAAMoO,GAAgB,EAACroC,EAAAA,GAAAA,OACjBsoC,GAAoB,EAACtoC,EAAAA,GAAAA,OACrBuoC,GAAe,EAACvoC,EAAAA,GAAAA,O,gBC0B7B,MAAMgvB,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjCsjC,KAAM,CACJ9mC,MAAO,OACP8H,QAAS,OACT3I,eAAgB,gBAChB,UAAW,CACT4nC,KAAM,gBAKC+W,GAAgBA,KAC3B,MAAM7W,GAAerC,EAAAA,GAAAA,KACfj+B,GAAI65B,EAAAA,GAAAA,KACJkE,EAAUJ,KACVrsB,EAAU2pB,KACVzoB,GAASC,EAAAA,GAAAA,MACT,YAAElO,IAAgBqjC,EAAAA,GAAAA,KAaxB,OACEprC,EAAAA,EAAAA,GAAC+jC,GAAAA,EAAM,CAACC,gBAAiB,CAAEtD,QAbZv+B,IACf,IAAI+Q,EAAU,GACV/Q,GAAO+E,KACT7K,OAAO4nC,QAAQ9hC,EAAM+E,MAAMg3B,SAAQzjC,IAAmB,IAAjB8B,EAAK2nC,GAAOzpC,EAC/CyY,GAAW1P,EAAG,aAAYsgC,YAAuBvnC,IAAM,IAGzD2W,EAAU1P,EAAE,qBAEdwS,EAAO9C,EAAS,CAAEtG,KAAM,SAAU,GAIaizB,SAAS,aAAM,GAC5D7/B,EAAAA,EAAAA,GAACmkC,GAAAA,EAAU,CAAC9C,QAAO+C,KAAAA,IAAEpkC,EAAAA,EAAAA,GAACqkC,GAAiB,CAACtwB,UAAU,WAAU,GAC1D/T,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,uCAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,EAAAa,KAAAA,IAC7BxkC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CACRh7B,OAAO,aACPi7B,WAAS,EACTztB,SAAUioB,MACVyF,KAAAA,IACF3kC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,YAAYi7B,WAAS,EAACztB,SAAUmoB,QAEpDp/B,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,EAAAiB,KAAAA,IAC7B5kC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,QAAQi7B,WAAS,EAACztB,SAAUgoB,QAEhDj/B,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,2CAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,YACPwN,SAAUujC,GACV7lB,QAAS7f,EAAQ4iB,MACjBgN,WAAS,KAEX1kC,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,OACPwN,SAAUyjC,GACV/lB,QAAS7f,EAAQ4pB,MACjBgG,WAAS,KAGI,UAAhB38B,IACC/H,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAAC46C,GAAAA,EAAc,CACbnxC,OAAO,gBACP8sC,UAAU,aACVt/B,SAAUwjC,GACVjP,QAAS,KACThO,KAAM,CAAEjE,MAAO,YAAayC,MAAO,aAAQ,GAE3Ch8B,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CAACgW,WAAW,YAAYn2C,MAAO,CAAE7H,MAAO,YAEtDmD,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,WACPkrB,QAAS7f,EAAQugB,UACjBqP,WAAS,EACTztB,SAAUkoB,MAIC,UAAhBp3B,IACC/H,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,WACPkrB,QAAS7f,EAAQugB,UACjBqP,WAAS,EACTztB,SAAUkoB,OAIhBn/B,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,8CAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAACglC,GAAAA,EAAa,CACZviC,MAAOe,EAAE,sCACTiG,OAAO,eACPwN,SAAUguB,GACVP,WAAS,KAEX1kC,EAAAA,EAAAA,GAACglC,GAAAA,EAAa,CACZviC,MAAOe,EAAE,8CACTiG,OAAO,mBACPwN,SAAUuoB,GACVkF,WAAS,MAIR,E,gBC7Gb,MAAMvD,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjCsjC,KAAM,CACJ9mC,MAAO,OACP8H,QAAS,OACT3I,eAAgB,gBAChB,UAAW,CACT4nC,KAAM,gBAKCkX,GAAcA,KACzB,MAAMhX,GAAerC,EAAAA,GAAAA,MACf,QAAEsF,IAAYG,EAAAA,GAAAA,KACd1jC,GAAI65B,EAAAA,GAAAA,KACJkE,EAAUJ,KACVrsB,EAAU2pB,KACVzoB,GAASC,EAAAA,GAAAA,MACT,YAAElO,IAAgBqjC,EAAAA,GAAAA,KAcxB,OACEprC,EAAAA,EAAAA,GAAConC,GAAAA,EAAI,CACHpD,gBAAiB,CAAEtD,QAdNv+B,IACf,IAAI+Q,EAAU,GACV/Q,GAAO+E,KACT7K,OAAO4nC,QAAQ9hC,EAAM+E,MAAMg3B,SAAQzjC,IAAmB,IAAjB8B,EAAK2nC,GAAOzpC,EAC/CyY,GAAW1P,EAAG,aAAYsgC,YAAuBvnC,IAAM,IAGzD2W,EAAU1P,EAAE,qBAEdwS,EAAO9C,EAAS,CAAEtG,KAAM,SAAU,GAMhCuqB,SAASn3B,EAAAA,EAAAA,GAACynC,GAAU,CAACV,QAASA,IAC9BM,aAAa,oBAAa,GAE1BrnC,EAAAA,EAAAA,GAACmkC,GAAAA,EAAU,CACTtE,SAAS,OACTwB,QAAO+C,KAAAA,IAAEpkC,EAAAA,EAAAA,GAACqkC,GAAiB,CAACtwB,UAAU,WAAU,GAEhD/T,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,uCAELxD,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAAC9zB,UAAWgjB,EAAQoC,WAAK,EAAAa,KAAAA,IAC3BxkC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CACRh7B,OAAO,aACPi7B,WAAS,EACTztB,SAAUioB,MACVyF,KAAAA,IACF3kC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,YAAYi7B,WAAS,EAACztB,SAAUmoB,QAEpDp/B,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAAC9zB,UAAWgjB,EAAQoC,WAAK,EAAAiB,KAAAA,IAC3B5kC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,QAAQi7B,WAAS,EAACztB,SAAUgoB,QAEhDj/B,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,2CAELxD,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAAC9zB,UAAWgjB,EAAQoC,WAAK,GAC3B3jC,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,YACPkrB,QAAS7f,EAAQ4iB,MACjBgN,WAAS,EACTztB,SAAUujC,MAEZx6C,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,OACPkrB,QAAS7f,EAAQ4pB,MACjBgG,WAAS,EACTztB,SAAUyjC,MAGG,UAAhB3yC,IACC/H,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAAC9zB,UAAWgjB,EAAQoC,WAAK,GAC3B3jC,EAAAA,EAAAA,GAAC46C,GAAAA,EAAc,CACbnxC,OAAO,gBACP8sC,UAAU,aACVt/B,SAAUwjC,GACVjP,QAAS,KACThO,KAAM,CAAEjE,MAAO,YAAayC,MAAO,aAAQ,GAE3Ch8B,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CAACgW,WAAW,YAAYn2C,MAAO,CAAE7H,MAAO,YAEtDmD,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,WACPkrB,QAAS7f,EAAQugB,UACjBqP,WAAS,EACTztB,SAAUkoB,MAIC,UAAhBp3B,IACC/H,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAAC9zB,UAAWgjB,EAAQoC,WAAK,GAC3B3jC,EAAAA,EAAAA,GAAC6kC,GAAAA,EAAW,CACVp7B,OAAO,WACPkrB,QAAS7f,EAAQugB,UACjBqP,WAAS,EACTztB,SAAUkoB,OAIhBn/B,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,EAAChG,WAAW,QAAK,EACnD96B,EAAE,6CAELxD,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAAC9zB,UAAWgjB,EAAQoC,WAAK,GAC3B3jC,EAAAA,EAAAA,GAACglC,GAAAA,EAAa,CACZviC,MAAOe,EAAE,sCACTiG,OAAO,eACPwN,SAAUguB,GACVP,WAAS,KAEX1kC,EAAAA,EAAAA,GAACglC,GAAAA,EAAa,CACZviC,MAAOe,EAAE,8CACTiG,OAAO,mBACPi7B,WAAS,EACTztB,SAAUuoB,OAIX,E,uDChDX,I,YAAA,GAjFyB/kC,IAAmB,IAAlB,YAACsN,GAAYtN,EACrC,MAAQ8M,KAAMkuB,EAAU,OAAEyhB,GAAWc,GAAiBjwC,GAEtD,OACE/H,EAAAA,EAAAA,GAACy3C,GAAK,WACJz3C,EAAAA,EAAAA,GAACswC,GAAAA,EAAW,UAAAgI,KAAAA,IACVt4C,EAAAA,EAAAA,GAACu4C,GAAAA,EAAgB,CAAC9uC,OAAO,sBAEzBzJ,EAAAA,EAAAA,GAACw4C,GAAAA,EAAU,CACT/1C,MAAM,0CACNiL,KAAIqtC,KAAAA,IAAE/6C,EAAAA,EAAAA,GAACg3C,GAAQ,WAAI,GAEnBh3C,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAM,mCACNjG,MAAO,CACLw+C,iBAAiBC,EAAAA,GAAAA,KAAiBC,cAClCC,qBAAiB50C,MAGrBvG,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAM,uCACNjG,MAAO,CACLw+C,iBAAiBI,EAAAA,GAAAA,GAAY,IAAIC,MAAQH,cACzCC,qBAAiB50C,MAGrBvG,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAM,wCACNjG,MAAO,CACLw+C,iBAAiBM,EAAAA,GAAAA,GAAa,IAAID,MAAQH,cAC1CC,qBAAiB50C,OAKvBvG,EAAAA,EAAAA,GAACw4C,GAAAA,EAAU,CACT/1C,MAAM,iCACNiL,KAAI6tC,KAAAA,IAAEv7C,EAAAA,EAAAA,GAAC62C,GAAQ,WAAI,GAEnB72C,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAM,mCACNjG,MAAO,CAAE0oB,KAAM,MAEjBllB,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAM,mCACNjG,MAAO,CAAE0oB,KAAM,OAInBllB,EAAAA,EAAAA,GAACw4C,GAAAA,EAAU,CACT/1C,MAAM,sCACNiL,KAAI8tC,KAAAA,IAAEx7C,EAAAA,EAAAA,GAAC82C,GAAS,WAAI,GAEpB92C,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CAACj2C,MAAM,kBAAkBjG,MAAO,CAAEs6B,WAAW,MAC5D92B,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAM,mBACNjG,MAAO,CAAEs6B,WAAW,MAIP,UAAhB/uB,IACC/H,EAAAA,EAAAA,GAACw4C,GAAAA,EAAU,CACT/1C,MAAM,0CACNiL,KAAIkrC,KAAAA,IAAE54C,EAAAA,EAAAA,GAACy2C,GAAa,WAAI,EAEvBS,GACCzhB,EAAWp6B,KAAKi8C,IACdt3C,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAO60C,EAAU/lC,KAEjB/U,MAAO,CAAE25B,cAAemhB,EAAUp3C,KAD7Bo3C,EAAUp3C,QAQrB,EC1FL,MAAMu7C,GAAcA,KACzB,MAAM,YAAE1zC,IAAgBqjC,EAAAA,GAAAA,MAEjBrL,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,GAK5D,OAJAxgC,EAAAA,EAAAA,YAAU,KACRugC,GAAc,EAAM,GACnB,KAGDhgC,EAAAA,EAAAA,GAACs9B,GAAAA,EAAI,CACHE,KAAM,CAAEjE,MAAO,YAAayC,MAAO,OACnC3E,QAAOgU,KAAAA,IAAErrC,EAAAA,EAAAA,GAACsrC,GAAgB,KAC1B7N,oBAAqB,CAAE7H,UAAU,GACjCmkB,OAAO/5C,EAAAA,EAAAA,GAAC07C,GAAgB,CAAC3zC,YAAaA,IACtCyjC,QAAS,GACTrU,QAAOsU,KAAAA,IAAEzrC,EAAAA,EAAAA,GAAC0rC,GAAW,CAAC/E,YAAY,WAAS,GAE3C3mC,EAAAA,EAAAA,GAAC09B,GAAQ,CACPC,mBACE39B,EAAAA,EAAAA,GAAC2rC,GAAiB,CAAC5jC,YAAaA,EAAa4+B,YAAY,UAC1D,EAAAiF,KAAAA,IAED5rC,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,eACD,UAAhB1B,IAAuBsuC,KAAAA,IACtBr2C,EAAAA,EAAAA,GAACs2C,GAAAA,GAAc,CACb7sC,OAAO,gBACP8sC,UAAU,aACV3yC,KAAK,aAAM,GAEX5D,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,kBAGtBzJ,EAAAA,EAAAA,GAACgsC,GAAgB,CAACjkC,YAAaA,KAE5B,E,yGC8JX,I,2BAAA,GA9KsBtN,IAAoB,IAAnB,WAAEslC,GAAYtlC,EACnC,MAAM+I,GAAI65B,EAAAA,GAAAA,MACJ,OAAE3+B,GAAWH,KACbohC,GAAUC,EAAAA,GAAAA,KACV5pB,GAASC,EAAAA,GAAAA,KACT4pB,GAAWC,EAAAA,GAAAA,MACV6b,EAAqBC,IAA0BxxC,EAAAA,EAAAA,UAAS,aACxDunC,EAAiBC,IAAsBxnC,EAAAA,EAAAA,WAAS,IAChDyxC,EAAsBC,IAA2B1xC,EAAAA,EAAAA,WAAS,IAC1DynC,EAAYC,IAAiB1nC,EAAAA,EAAAA,WAAS,IACtC2xC,EAAcC,IAAmB5xC,EAAAA,EAAAA,UAAS,OAiD3C,KAAE7C,EAAI,UAAEuO,IAAco8B,EAAAA,GAAAA,GAAW,QAAS,CAC9C3U,WAAY,CAAE4U,KAAM,EAAG3G,QAAS,MAChChO,KAAM,CAAEjE,MAAO,aAAcyC,MAAO,OACpC4E,OAAQ,CACN/hC,SAAUH,EACVk3B,UAAU,EACVqmB,aAAa,KAIXC,GAAiBv9C,EAAAA,EAAAA,UAAQ,IACzB4I,EACKlL,OAAO6nC,OAAO38B,GAAMlM,KAAK8gD,IAAI,CAClC5qC,KAAM4qC,EAAKv9C,KAAK2S,KAAK7S,GACrBwB,GAAIi8C,EAAKj8C,OAGJ,IAER,CAACqH,EAAMuO,IAEV,OACErV,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACL/I,MAAO,CAAE03C,MAAO,SAChBnZ,UAASoZ,KAAAA,IAAEr8C,EAAAA,EAAAA,GAACs8C,GAAAA,EAAoB,KAChCvpC,QAnEmBw/B,KACvBT,GAAc,EAAK,EAmEfjhC,KAAK,QACLiwB,MAAM,gBAAS,EAEdt9B,EAAE,mBAELxD,EAAAA,EAAAA,GAAC0iC,GAAAA,EAAM,CAAChyB,KAAMmhC,QAAW,GACvB7xC,EAAAA,EAAAA,GAAC4iC,GAAAA,EAAW,UACTp/B,EAAE,+CAELxD,EAAAA,EAAAA,GAAC6iC,GAAAA,EAAa,WACZ7iC,EAAAA,EAAAA,GAACowC,GAAAA,EAAW,CAACxK,UAAU,iBAAU,GAC/B5lC,EAAAA,EAAAA,GAACu8C,GAAAA,EAAU,CACT,aAAW,iBACXhrC,KAAK,iBACL/U,MAAOm/C,EACPxnC,SAzFci6B,IACxB,MAAMoO,EAAapO,EAAMhqC,OAAO5H,MAChCo/C,EAAuBY,GACvBV,EAAuC,aAAfU,GACxB5K,EAAkC,aAAf4K,GAA8C,OAAjBT,EAAsB,QAqFjC,GAE3B/7C,EAAAA,EAAAA,GAACy8C,GAAAA,EAAgB,CACfjgD,MAAM,WACNkgD,QAAOC,KAAAA,IAAE38C,EAAAA,EAAAA,GAACmT,GAAAA,EAAK,KACf1Q,MAAOe,EACL,gEAGJxD,EAAAA,EAAAA,GAACyyC,GAAAA,EACC,CACA39B,QAASonC,EACTxJ,eAAa,EACbloC,QAASsL,EACTlI,SAAUiuC,EACV1nC,SA5FgByoC,CAACxO,EAAOyO,KACpCb,EAAgBa,GAChBjL,EAAgC,OAAbiL,EAAkB,EA2FzBjK,eAAiBC,GAAWA,EAAOthC,KACnCuhC,YAAcC,GACZtyC,EAAAA,cAACuyC,GAAAA,GAAY3pC,EAAAA,GAAAA,GAAA,GACP0pC,EAAM,CACVtwC,MAAOe,EACL,2DAEFq9B,QAAQ,SACRoS,WAAY,IACPF,EAAOE,WACVC,cACElzC,EAAAA,EAAAA,GAAC6qC,EAAAA,SAAQ,UACN/0B,EAAS64B,KAAAA,IACR3uC,EAAAA,EAAAA,GAAC4uC,GAAAA,EAAgB,CAAC9N,MAAM,UAAUjwB,KAAM,MACtC,KACHkiC,EAAOE,WAAWC,qBAO/BlzC,EAAAA,EAAAA,GAACy8C,GAAAA,EAAgB,CACfjgD,MAAM,MACNkgD,QAAOI,KAAAA,IAAE98C,EAAAA,EAAAA,GAACmT,GAAAA,EAAK,KACf1Q,MAAOe,EACL,8DAMVxD,EAAAA,EAAAA,GAAC+iC,GAAAA,EAAa,WACZ/iC,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QAlIgBogC,KACxBrB,GAAc,EAAM,EAkIZ9O,WAAS,EACTC,UAASC,KAAAA,IAAEljC,EAAAA,EAAAA,GAACmjC,GAAAA,EAAgB,KAC5BrC,MAAM,YACND,QAAQ,kBAAW,EAElBr9B,EAAE,sCAELxD,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLqzB,MAAM,UACND,QAAQ,YACRoC,UAASI,KAAAA,IAAErjC,EAAAA,EAAAA,GAACsjC,GAAAA,EAAW,KACvB11B,SAAU+jC,EACV5+B,QAxIiBgqC,KACzB,GAA4B,QAAxBpB,EACF9b,EAAS,SAAU,cAAUt5B,OAAWA,EAAW,CACjDw5B,WAAYA,QAET,CACL,MAAMid,EAAgB,CAAEC,mBAAoBlB,EAAa77C,IACnDquC,EAAO,oBAAuCxO,iBAEpD6R,GAAmB,IAGnBvL,EAAAA,GAAAA,wBAAuBkI,EAAK,CAC1B/nC,OAAQ,OACRU,KAAMC,KAAKC,UAAU41C,KAEpB//B,MAAK,KACJjH,EAAO,qDAAsD,QAC7D2pB,GAAS,IAEVziB,OAAO9I,IACN4B,EAAO,qDAAsD,QAAQ,IAEtEswB,SAAQ,KACPsL,GAAmB,GACnBE,GAAc,EAAM,GAG1B,SA4GoC,EAE3BtuC,EAAE,wCAIR,ECnJP,MAAM05C,IAAoB9b,EAAAA,GAAAA,IAAY/gC,IAAK,CACzCsjC,KAAM,CACJh/B,QAAS,eACTsmC,WAAY5qC,EAAM48B,QAAQ,QAIjBkgB,GAAcA,KACzB,MAAM,QAAEtW,IAAYK,EAAAA,GAAAA,KACpB,OACElnC,EAAAA,EAAAA,GAAC0tC,GAAAA,EAAI,CACHvW,SACEn3B,EAAAA,EAAAA,GAACynC,GAAU,CAACd,YAAY,EAAME,QAASA,EAASE,SAAS,UAC1D,EAAAqW,KAAAA,IAEDp9C,EAAAA,EAAAA,GAACq9C,GAAiB,KACb,EAIEA,GAAoBA,KAC/B,MAAMvgB,GAAS0E,EAAAA,GAAAA,KACf,IAAK1E,EAAQ,OAAO,KACpB,MAAOiD,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,cAAenD,EAAO58B,IAC7DqhC,EAAUkL,KAMhB,OAJAhtC,EAAAA,EAAAA,YAAU,KACRugC,EAAclD,EAAO58B,GAAG,GACvB,CAAC48B,KAGF98B,EAAAA,EAAAA,GAAC6tC,GAAAA,gBAAe,CAACtvB,UAAWgjB,EAAQmL,gBAAU,GAC5C1sC,EAAAA,EAAAA,GAACs9C,GAAiB,CAACxgB,OAAQA,IACX,EAITwgB,GAAoB7iD,IAAgB,IAAf,OAAEqiC,GAAQriC,EAC1C,MAAM+I,GAAI65B,EAAAA,GAAAA,MACJ,OAAE3+B,GAAWH,KACbyX,GAASC,EAAAA,GAAAA,KACTwpB,GAAWgC,EAAAA,GAAAA,MACX,YAAE15B,IAAgBqjC,EAAAA,GAAAA,KAClB7J,EAAUkL,KACV8Q,EAAwBL,MACvB1f,EAAMggB,IAAWpzC,EAAAA,EAAAA,UAAS,CAAEmvB,MAAO,aAAcyC,MAAO,UACxD+R,EAAiBC,IAAsB5jC,EAAAA,EAAAA,WAAS,IAChDooB,EAAUirB,IAAerzC,EAAAA,EAAAA,WAAS,IACnC,KAAE7C,EAAI,MAAEogC,EAAK,UAAE7xB,IAAco8B,EAAAA,GAAAA,GAAW,QAAS,CACrD3U,WAAY,CAAE4U,KAAM,EAAG3G,QAAS,MAChChO,KAAM,CAAEjE,MAAO,aAAcyC,MAAO,QACpC4E,OAAQ,CAAE/hC,SAAUH,EAAQg/C,WAAY5gB,EAAO58B,GAAI01B,SAAUpD,KAmC/D,OACExyB,EAAAA,EAAAA,GAAC6tC,GAAAA,gBAAe,CAACtvB,UAAWgjB,EAAQmL,gBAAU,GAC5C1sC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQoC,WAAK,GAC7B3jC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQqL,iBAAW,GACnC5sC,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,uCAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ4L,kBAAY,GACpCntC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ+L,iBAAW,EAAAqQ,KAAAA,IACnC39C,EAAAA,EAAAA,GAACi6C,GAAAA,EAAO,WACNj6C,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,kBAEpBzJ,EAAAA,EAAAA,GAAA,gBAAAiuC,KAAAA,IACEjuC,EAAAA,EAAAA,GAACkuC,GAAAA,EAAU,CAACzkC,OAAO,YACnBzJ,EAAAA,EAAAA,GAACmuC,GAAAA,EAAU,CACTt9B,KAAK,QACLnM,MAAO,CAAEumC,WAAY,SACrBl4B,QA9Ceq7B,IAC7BJ,GAAmB,EAAK,QA6CqB,EAAAK,KAAAA,IAE/BruC,EAAAA,EAAAA,GAACsuC,GAAAA,EAAe,OAElBtuC,EAAAA,EAAAA,GAAC0iC,GAAAA,EAAM,CAAChyB,KAAMq9B,QAAgB,GAC5B/tC,EAAAA,EAAAA,GAAC4iC,GAAAA,EAAW,UACTp/B,EAAE,yCAELxD,EAAAA,EAAAA,GAAC6iC,GAAAA,EAAa,WACZ7iC,EAAAA,EAAAA,GAAC8iC,GAAAA,EAAiB,UACft/B,EAAE,yCAGPxD,EAAAA,EAAAA,GAAC+iC,GAAAA,EAAa,WACZ/iC,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QAzDYq7B,IAC9BJ,GAAmB,EAAM,EAyDPhL,WAAS,EACTnyB,KAAK,QACLgwB,QAAQ,YACRC,MAAM,YACNmC,UAASC,KAAAA,IAAEljC,EAAAA,EAAAA,GAACmjC,GAAAA,EAAgB,WAAI,EAE/B3/B,EAAE,sCAELxD,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QA/DUq7B,IAC5BJ,GAAmB,GACnB,MAAMO,EAAO,oBAAuCzR,EAAO58B,cAE3DmmC,EAAAA,GAAAA,wBAAuBkI,EAAK,CAC1B/nC,OAAQ,OACRU,KAAMC,KAAKC,UAAU,CAAE,SAAW,MAEjC6V,MAAK,KACJjH,EAAO,sDAAuD,CAC5DpJ,KAAM,QACN,IAEHsQ,OAAO9I,IACN4B,EAAO,sDAAuD,CAC5DpJ,KAAM,SACN,IAEH05B,SAAQ,QAAS,EA8CFxF,MAAM,UACND,QAAQ,YACRoC,UAASI,KAAAA,IAAErjC,EAAAA,EAAAA,GAACsjC,GAAAA,EAAW,WAAI,EAE1B9/B,EAAE,2CAMbxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ+L,iBAAW,EAAAsQ,KAAAA,IACnC59C,EAAAA,EAAAA,GAACi6C,GAAAA,EAAO,WACNj6C,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,oBAM1BzJ,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ2L,kBAAY,GACpCltC,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,2CAELxD,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ4L,kBAAY,GACpCntC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ+L,iBAAW,GACnCttC,EAAAA,EAAAA,GAACi6C,GAAAA,EAAO,WACNj6C,EAAAA,EAAAA,GAAC+rC,GAAAA,EAAa,CACZtpC,MAAOe,EAAE,uCACTiY,OAASqhB,GACPt5B,EAAG,mCAAkCs5B,EAAOhG,iBAIlD92B,EAAAA,EAAAA,GAACi6C,GAAAA,EAAO,WACNj6C,EAAAA,EAAAA,GAAC+rC,GAAAA,EAAa,CACZtpC,MAAOe,EAAE,sCACTiY,OAASqhB,GAAWt5B,EAAG,aAAYs5B,EAAOj+B,iBAIhDmB,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQ+L,iBAAW,GACnCttC,EAAAA,EAAAA,GAACi6C,GAAAA,EAAO,WACNj6C,EAAAA,EAAAA,GAAC+rC,GAAAA,EAAa,CACZtpC,MAAOe,EAAE,kCACTiY,OAASqhB,GACPt5B,EAAG,kCAAiCs5B,EAAO5X,YAIjDllB,EAAAA,EAAAA,GAACo6C,GAAkB,CAACn5B,KAAsB,UAAhBlZ,SAMlC/H,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQgM,iBAAW,GACnCvtC,EAAAA,EAAAA,GAACukC,GAAAA,MAAK,CAAChmB,UAAWgjB,EAAQiM,qBAAe,GACvCxtC,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,0CAELxD,EAAAA,EAAAA,GAAC69C,GAAAA,EAAS,CAACtc,QAASgc,QAAsB,GACxCv9C,EAAAA,EAAAA,GAACy8C,GAAAA,EAAgB,CACfC,SACE18C,EAAAA,EAAAA,GAAC89C,GAAAA,EAAM,CACLC,QAASvrB,EACTre,SA5Ici6B,IAC5BqP,EAAYrP,EAAMhqC,OAAO25C,QAAQ,EA4InBjd,MAAM,YAGVr+B,MAAOe,EAAE,wCAIfxD,EAAAA,EAAAA,GAACg+C,GAAa,CAACje,WAAYjD,EAAO58B,OAEpCF,EAAAA,EAAAA,GAAA,gBACG8V,IAASy6B,KAAAA,IAAIvwC,EAAAA,EAAAA,GAAC0uC,GAAO,OACpB54B,IACA9V,EAAAA,EAAAA,GAAC65C,GAAAA,EAAmB,CAClBr9C,MAAO,CACL+K,KAAMA,EACNogC,QACAnK,KAAMA,EACNiC,SAAUA,EACVS,YAAa,UACb,GAEFlgC,EAAAA,EAAAA,GAAC09B,GAAAA,EAAQ,CAACC,mBAAmB,QAAM,GACjC39B,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CACRp7B,MAAOe,EAAE,+BACTiG,OAAS,aAAY/K,OAEvBsB,EAAAA,EAAAA,GAACu6C,GAAAA,EAAW,CACV5R,UAAU,SACVlmC,MAAOe,EAAE,uCACTiG,OAAO,kBAETzJ,EAAAA,EAAAA,GAAC+rC,GAAAA,EAAa,CACZpD,UAAU,SACVlmC,MAAOe,EAAE,+CACTiY,OAASqhB,GAAWA,EAAO9vB,UAAU/U,UAEvC+H,EAAAA,EAAAA,GAAC8rC,GAAAA,EAAY,CACXnD,UAAU,SACVlmC,MAAOe,EAAE,oCACTiG,OAAO,eAETzJ,EAAAA,EAAAA,GAACi+C,GAAAA,EAAS,CACRtV,UAAU,SACVlmC,MAAOe,EAAE,qCACTiG,OAAO,gBAETzJ,EAAAA,EAAAA,GAACi+C,GAAAA,EAAS,CACRtV,UAAU,SACVlmC,MAAOe,EAAE,mCACTiG,OAAO,cAETzJ,EAAAA,EAAAA,GAACgsC,GAAgB,CACfxC,YAAY,QACZ1M,OAAQA,EACR6I,QAAS,CAAE5F,WAAYjD,EAAO58B,IAC9BgpC,WAAW,EACXD,UAAU,OAKdwF,KAAAA,IAENzuC,EAAAA,EAAAA,GAACosC,GAAW,KACI,ECnTT8R,IAAwB9c,EAAAA,GAAAA,IAAY/gC,IAAK,CACpDsjC,KAAM,CACJmL,OAAQzuC,EAAM48B,QAAQ,QAIbyX,IAAkBtT,EAAAA,GAAAA,IAAY/gC,IAAK,CAC9Cs0C,QAAS,CACPhwC,QAAS,OACT3I,eAAgB,QAChBoxC,WAAY,SACZ1xC,IAAK,MACL,UAAW,CACTotC,SAAU,GACVjsC,MAAO,S,wCCTb,MAAMskC,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjCwuC,YAAa,CACXC,OAAQzuC,EAAM48B,QAAQ,GACtB6L,SAAU,SA2Bd,I,SAAA,GAvBiBruC,IAA0D,IAAzD,MAACgI,EAAK,aAAE07C,EAAY,QAAExpB,EAAO,SAAExgB,EAAQ,WAAEiqC,GAAW3jD,EACpE,MAAM8mC,EAAUJ,KACVz9B,EAAQixB,GAAW,GACnB0pB,IAAWD,EAEjB,OACEp+C,EAAAA,EAAAA,GAACowC,GAAAA,EAAW,CAACvP,QAAQ,SAAStiB,UAAWgjB,EAAQsN,kBAAY,GAC3D7uC,EAAAA,EAAAA,GAAC6R,GAAAA,EAAU,UAAEpP,IACbzC,EAAAA,EAAAA,GAACs+C,GAAAA,EAAM,CACL9hD,MAAO2hD,EACPhqC,SAAUA,QAAS,EAElBkqC,IACCr+C,EAAAA,EAAAA,GAACu+C,GAAAA,EAAQ,CAAU/hD,MAAM,IAAX,KAAe4hD,GAE9B16C,EAAMrI,KAAKo+C,IACRz5C,EAAAA,EAAAA,GAACu+C,GAAAA,EAAQ,CAAiB/hD,MAAOi9C,EAAOv5C,IAAzBu5C,EAAOv5C,GAAuBu5C,EAAOloC,SAG9C,ECiKlB,OAtKqBtO,IACnB,MAAMO,GAAI65B,EAAAA,GAAAA,MACJ,OAAE3+B,GAAWH,KACb02C,EAAgBP,KAChB8J,EAAsBN,MACrB7nB,EAAKooB,IAAUr0C,EAAAA,EAAAA,UAAS,KACxBs0C,EAAkBC,IAAuBv0C,EAAAA,EAAAA,UAAS,IAClDc,EAAO0zC,IAAYx0C,EAAAA,EAAAA,UAAS,IAC5BiB,EAAQwzC,IAAaz0C,EAAAA,EAAAA,UAAS,IAC9B2tB,EAAa+mB,IAAkB10C,EAAAA,EAAAA,UAAS,KACxCynC,EAAYC,IAAiB1nC,EAAAA,EAAAA,WAAS,IACtC+tB,EAAU4mB,IAAe30C,EAAAA,EAAAA,UAAS,OAClCkqC,EAAe0K,IAAoB50C,EAAAA,EAAAA,UAAS,KAC5C60C,EAAkBC,IAAuB90C,EAAAA,EAAAA,eAAS7D,IAClD44C,EAAiBC,IAAsBh1C,EAAAA,EAAAA,UAAS,IACjDkvB,GAAO+lB,EAAAA,GAAAA,MACPC,EAAel5C,MAAOm5C,EAAaC,KACvC,IAAIjR,EAAO,oEAAuF7vC,wBAC9F6gD,IACFhR,GAAQ,kBAAiBgR,KAEvBC,IACFjR,GAAQ,sBAAqBiR,KAE/BN,GAAoB,GACpB,MAAMn4C,QAAiBs/B,EAAAA,GAAAA,wBAAuBkI,EAAK,CAAC,GACpD6Q,EAAmBr4C,EAASS,KAAK6vC,SACjC6H,GAAoB,EAAM,EAsC5B,OACEl/C,EAAAA,EAAAA,GAAA,iBACEA,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CACR73B,KAAK,SACLnK,MAAM,GACNgH,OAAS,GAAExG,EAAMwG,YACjB/E,MAAO,CAACC,QAAS,WAEnB3E,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CACRh7B,OAAS,GAAExG,EAAMwG,2BAA2B/K,IAC5C+D,MAAOe,EAAE,+CACTuP,QA/CmBw/B,KACvBT,GAAc,EAAK,EA+CfyD,WAAW,EACX7Q,WAAW,EACXnG,GAAI,CAAEuK,SAAU,YAElB9oC,EAAAA,EAAAA,GAAA,OAAKue,UAAW02B,EAAcN,cAAQ,GACpC30C,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAS,GAAExG,EAAMwG,2BACjBwN,SAAUooB,GACV58B,MAAOe,EAAE,wDAEXxD,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAS,GAAExG,EAAMwG,eACjBwN,SAAUooB,GACV58B,MAAOe,EAAE,4CAEXxD,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CACVhsC,OAAS,GAAExG,EAAMwG,gBACjBwN,SAAUooB,GACV58B,MAAOe,EAAE,8CAGbxD,EAAAA,EAAAA,GAAC0iC,GAAAA,EAAM,CACLhyB,KAAMmhC,QAAW,GAEjB7xC,EAAAA,EAAAA,GAAC4iC,GAAAA,EAAW,UAAEp/B,EAAE,gDAChBxD,EAAAA,EAAAA,GAAC6iC,GAAAA,EAAa,WACZ7iC,EAAAA,EAAAA,GAAA,iBACEA,EAAAA,EAAAA,GAACy/C,GAAQ,CACP9qB,QAAS1xB,EAAMsyB,WACfphB,SAvEkBi6B,IAC5B,MAAMmR,EAAcnR,EAAMhqC,OAAO5H,MACjCuiD,EAAYQ,GACZP,EAAiB/7C,EAAMqxC,cAAciL,IACrCD,EAAaC,EAAY,EAoEf98C,MAAOe,EAAE,wEAEXxD,EAAAA,EAAAA,GAACy/C,GAAQ,CACP9qB,QAAS2f,EACTngC,SAtEqBi6B,IAC/B,MAAMoR,EAAiBpR,EAAMhqC,OAAO5H,MAChCgjD,EACFF,EAAa,KAAME,GAEnBF,EAAannB,EACf,EAiEU11B,MAAOe,EAAE,yEACT46C,WAAY56C,EAAE,wFAEhBxD,EAAAA,EAAAA,GAACyyC,GAAAA,EAAY,CACXlR,QAASid,EACT1pC,QAASqqC,EACTzM,eAAa,EACbloC,QAASy0C,EACT9qC,SAvEiBurC,CAACtR,EAAO3iC,KACnCqzC,EAAerzC,EAAS7M,KAAKm5B,YAAYr5B,IACzC+/C,EAAOhzC,EAASvL,IAChBy+C,EAAoBlzC,EAASyB,mBAC7B0xC,EAASnzC,EAASP,OAClB2zC,EAAUpzC,EAASJ,OAAO,EAmEhBunC,eAAiBC,GAAWA,EAAOj0C,KAAKm5B,YAAYr5B,GACpDo0C,YAAcC,GACZtyC,EAAAA,cAACuyC,GAAAA,GAAY3pC,EAAAA,GAAAA,GAAA,GAAK0pC,EAAM,CACtBtwC,MAAOe,EAAE,qEACTq9B,QAAQ,SACRoS,WAAY,IACPF,EAAOE,WACVC,cACElzC,EAAAA,EAAAA,GAAC6qC,EAAAA,SAAQ,UACNoU,EAAgBtQ,KAAAA,IAAG3uC,EAAAA,EAAAA,GAAC4uC,GAAAA,EAAgB,CAAC9N,MAAM,UAAUjwB,KAAM,MAAS,KACpEkiC,EAAOE,WAAWC,uBASnClzC,EAAAA,EAAAA,GAAC+iC,GAAAA,EAAa,WACZ/iC,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QA9GgBogC,KACxBrB,GAAc,EAAM,EA8GZ9O,WAAS,EACTnyB,KAAK,QACLiwB,MAAM,YACND,QAAQ,YACRoC,UAASC,KAAAA,IAAEljC,EAAAA,EAAAA,GAACmjC,GAAAA,EAAgB,WAAI,EAE/B3/B,EAAE,sCAELxD,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACLsF,QAhGmB4sC,KAC3BrmB,EAAKnkB,SAAU,GAAElS,EAAMwG,2BAA2B/K,IAAUq5B,GAC5DuB,EAAKnkB,SAAU,GAAElS,EAAMwG,2BAA4Bi1C,GACnDplB,EAAKnkB,SAAU,GAAElS,EAAMwG,eAAgByB,GACvCouB,EAAKnkB,SAAU,GAAElS,EAAMwG,gBAAiB4B,GACxCiuB,EAAKnkB,SAAU,GAAElS,EAAMwG,YAAa4sB,GACpCyb,GAAc,EAAM,EA2FZhR,MAAM,UACNjwB,KAAK,QACLgwB,QAAQ,YACRoC,UAASI,KAAAA,IAAErjC,EAAAA,EAAAA,GAACsjC,GAAAA,EAAW,WAAI,EAE1B9/B,EAAE,wCAIL,E,YCzLV,MAAM29B,IAAYC,EAAAA,GAAAA,IAAY/gC,IACrB,CACLsjC,KAAM,CACJoJ,aAAc1sC,EAAM48B,QAAQ,GAC5BpgC,MACE,2BAyBR,OApBsBpC,IAAc,IAAb,KAAE8M,GAAM9M,EAC7B,MAAM8mC,EAAUJ,KACV39B,GAAI65B,EAAAA,GAAAA,MACHuiB,EAAWC,IAAgBz1C,EAAAA,EAAAA,UAAS7C,EAAK+uB,WAKhD,OACE71B,EAAAA,cAAAA,EAAAA,SAAA,MACET,EAAAA,EAAAA,GAAC+kC,GAAAA,EAAY,CAACt7B,OAAO,YAAY0K,SANfC,IACpByrC,EAAazrC,EAAEhQ,OAAO25C,QAAQ,IAM3B6B,IACC5/C,EAAAA,EAAAA,GAAC8/C,GAAAA,EAAK,CAACve,QAASA,EAASV,QAAQ,WAAWkf,SAAS,gBAAS,EAC3Dv8C,EAAE,kDAGN,EC5BA,MAAMw8C,GAAsBjgB,GAC1BA,EACF,YAAWA,SACX,QAGMwU,GAAUA,CAACzX,EAAQp+B,EAAQqhC,EAAYkgB,KAElD,IAAIC,EAAgB,GAIpB,IACEA,EAAgBpjB,EAAOl+B,KAAK2S,KAAK7S,EACnC,CAAE,MAAO0V,GAAI,CAsCb,OAnCA8nB,GAAUgC,SAASr/B,IACjB,IAAKqhD,EACH,IACEA,EAAgBpjB,EAAOl+B,KAAK2S,KAAK1S,EACnC,CAAE,MAAOuV,GAAI,CACf,IAIF8nB,GAAUgC,SAASr/B,IACZi+B,EAAOl+B,KAAK2S,KAAK5H,eAAe9K,IAAci+B,EAAOl+B,KAAK2S,KAAK1S,KAClEi+B,EAAOl+B,KAAK2S,KAAK1S,GAAa,IAAGA,EAAS41C,oBAAoByL,IAChE,IAKFpjB,EAAO9vB,UAAY8vB,EAAO9vB,UAAU3R,KAAKoQ,WAChCA,EAAS7M,KACT6M,KAOLw0C,EACFnjB,EAAOqjB,YAAc,KACZpgB,IACTjD,EAAOqjB,YAAcpgB,GAEvBjD,EAAOmf,YAAcgE,EAGrBnjB,EAAOlH,UAAW,EACXkH,CAAM,ECrDFsjB,GAAoB,EAACjuC,EAAAA,GAAAA,O,UCiC3B,MAAMkuC,GAAaA,KACxB,MAAM78C,GAAI65B,EAAAA,GAAAA,MACJ,YAAEt1B,IAAgBqjC,EAAAA,GAAAA,MAClB,OAAE1sC,GAAWH,MACZwhC,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,IACrDggB,EAAYK,IAAiBl2C,EAAAA,EAAAA,WAAS,IACtCwtB,EAAW2oB,IAAgBn2C,EAAAA,EAAAA,WAAS,IACpCy3B,EAAcC,IAAmBC,EAAAA,GAAAA,MAIlC+B,GAAerC,EAAAA,GAAAA,KACflM,EAAa0iB,GAAiBv5C,GAC9B41C,EAAgB4D,GAAoBx5C,GACpCmhC,GAAW9gC,EAAAA,EAAAA,cACf,IAAMihD,GAAmBjgB,IACzB,CAACA,IAEGoV,GAAYp2C,EAAAA,EAAAA,cACf+9B,GAAWyX,GAAQzX,EAAQp+B,EAAQqhC,EAAYkgB,IAChD,CAAClgB,EAAYkgB,KAGfxgD,EAAAA,EAAAA,YAAU,KACR,MAAM+gD,IAAiB3e,EAAax6B,IAAI,UACpC04B,GACFugB,EAAcE,EAChB,GACC,CAACzgB,IAkBJ,OACE//B,EAAAA,EAAAA,GAAC+jC,GAAAA,EAAM,CAACoR,UAAWA,EAAWtV,SAAUA,EAAUmE,gBAAiB,CAAEtD,QAjBtDv+B,IACf,IAAI+Q,EAAU,GACV/Q,GAAO+E,KACT7K,OAAO4nC,QAAQ9hC,EAAM+E,MAAMg3B,SAAQzjC,IAAmB,IAAjB8B,EAAK2nC,GAAOzpC,EAC/CyY,GAAW1P,EAAG,aAAYsgC,YAAuBvnC,IAAM,IAGzD2W,EAAU1P,EAAE,qBAEdwS,OAAO9C,EAAS,CAAEtG,KAAM,SAAU,SAQsD,GACtF5M,EAAAA,EAAAA,GAACmkC,GAAAA,EAAU,CAAC9C,QAAO+C,KAAAA,IAAEpkC,EAAAA,EAAAA,GAACqkC,GAAiB,CAACtwB,UAAU,WAAU,GAC1D/T,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,4CAELxD,EAAAA,EAAAA,GAACo1C,GAAAA,EAAkB,CACjBC,QAASnZ,GACToZ,cAAe52C,EACf6/B,GAAI+N,SAAqB,GAEzBtsC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,YAAYwN,SAjDjBu+B,CAACh5C,EAAOsgC,IACpBkC,GAAuBxiC,EAAOsgC,EAAQp+B,EAAQ,QAgDOgmC,WAAS,KAEhD,UAAhB38B,GAA2Bk4C,IAC1BjgD,EAAAA,EAAAA,GAACg2C,GAAAA,EAAgB,WACdr7C,IAAA,IAAC,SAAE8lD,KAAahvC,GAAM9W,EAAA,OAAKqF,EAAAA,EAAAA,GAAC0gD,GAAa,CAACn5C,KAAMk5C,GAAY,IAEhEE,KAAAA,IACD3gD,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CAAChsC,OAAO,eAAewN,SAAUooB,OAE7Cr/B,EAAAA,EAAAA,GAACq+B,GAAU,CACTwC,QAAQ,KACRyD,cAAY,EACZhG,WAAW,EACXC,GAAI,CACF55B,QAAS,OACT3I,eAAgB,gBAChBN,IAAK,aACL,EAED8H,EAAE,0CACHxD,EAAAA,EAAAA,GAAC+kC,GAAAA,EAAY,CACXl0B,KAAK,QACLpH,OAAO,YACPsJ,QAtCoBq7B,IAC5BmS,EAAanS,EAAMhqC,OAAO25C,QAAQ,EAsC1Bxf,GAAI,CAAE15B,UAAW,WAIrB7E,EAAAA,EAAAA,GAAC01C,GAAAA,GAAU,CACTjsC,OAAO,YACPi7B,WAAW,EACXjiC,MAAM,GACNwU,SAAUmpC,SAAkB,GAE5BpgD,EAAAA,EAAAA,GAAC21C,GAAAA,EAAkB,CACjBpX,GAAIgO,GACJqJ,kBAAmBhe,QAAU,GAE7B53B,EAAAA,EAAAA,GAAC4gD,GAAW,CACVrrB,WAAYA,EACZ+e,cAAeA,OAKhB,E,aCtGN,MAAMuM,GAAWA,KACtB,MAAM,QAAE9Z,IAAYG,EAAAA,GAAAA,MACbnH,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,IACrDggB,EAAYK,IAAiBl2C,EAAAA,EAAAA,WAAS,GACvC5G,GAAI65B,EAAAA,GAAAA,MACJ,OAAE3+B,GAAWH,KACbshC,GAAW9gC,EAAAA,EAAAA,cACf,IAAMihD,GAAmBjgB,IACzB,CAACA,IAEGoV,GAAYp2C,EAAAA,EAAAA,cACf+9B,GAAWyX,GAAQzX,EAAQp+B,EAAQqhC,EAAYkgB,IAChD,CAAClgB,EAAYkgB,IAkBf,OAJAxgD,EAAAA,EAAAA,YAAU,KACR6gD,GAA6B,IAAfvgB,EAAqB,GAClC,CAACA,KAGF//B,EAAAA,EAAAA,GAAConC,GAAAA,EAAI,CACHjQ,SAASn3B,EAAAA,EAAAA,GAACynC,GAAU,CAACV,QAASA,EAAShH,WAAYA,IACnDsH,aAAa,cACbxH,SAAUA,EACVsV,UAAWA,EACXnR,gBAAiB,CAAEtD,QAtBNv+B,IACf,IAAI+Q,EAAU,GACV/Q,GAAO+E,KACT7K,OAAO4nC,QAAQ9hC,EAAM+E,MAAMg3B,SAAQzjC,IAAmB,IAAjB8B,EAAK2nC,GAAOzpC,EAC/CyY,GAAW1P,EAAG,aAAYsgC,uBAAuBvnC,IAAM,IAGzD2W,EAAU1P,EAAE,qBAEdwS,OAAO9C,EAAS,CAAEtG,KAAM,SAAU,SAaM,GAEtC5M,EAAAA,EAAAA,GAAC8gD,GAAkB,CAACpiD,OAAQA,EAAQuhD,WAAYA,IAC3C,EAILa,GAAqBnmD,IAA0B,IAAzB,OAAC+D,EAAM,WAAEuhD,GAAWtlD,EAC9C,MAAMmiC,GAAS0E,EAAAA,GAAAA,MACT,YAAEz5B,IAAgBqjC,EAAAA,GAAAA,KAClB5nC,GAAI65B,EAAAA,GAAAA,MACHzF,EAAW2oB,IAAgBn2C,EAAAA,EAAAA,UAAS0yB,EAAOlF,WAI5CrC,EAAa0iB,GAAiBv5C,GAC9B41C,EAAgB4D,GAAoBx5C,GAM1C,OACEsB,EAAAA,EAAAA,GAACmkC,GAAAA,EAAU,CAAC9C,QAAO+C,KAAAA,IAAEpkC,EAAAA,EAAAA,GAACqkC,GAAiB,CAACtwB,UAAU,WAAU,GACxD/T,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,2CAEY,UAAhBuE,IAAuBsuC,KAAAA,IACtBr2C,EAAAA,EAAAA,GAACs2C,GAAAA,GAAc,CACb7sC,OAAO,gBACP8sC,UAAU,aACV3yC,KAAK,aAAM,GAEX5D,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,kBAGtBzJ,EAAAA,EAAAA,GAACo1C,GAAAA,EAAkB,CACjBC,QAASnZ,GACToZ,cAAe52C,EACf6/B,GAAI+N,SAAqB,GAEzBtsC,EAAAA,EAAAA,GAACykC,GAAAA,EAAS,CAACh7B,OAAO,YAAYwN,SA7BjBu+B,CAACh5C,EAAOsgC,IACpBkC,GAAuBxiC,EAAOsgC,EAAQp+B,EAAQ,QA4BOgmC,WAAS,KAEhD,UAAhB38B,GAA2Bk4C,IAC1BjgD,EAAAA,EAAAA,GAACg2C,GAAAA,EAAgB,WACdn7C,IAAA,IAAC,SAAE4lD,KAAahvC,GAAM5W,EAAA,OAAKmF,EAAAA,EAAAA,GAAC0gD,GAAa,CAACn5C,KAAMk5C,GAAY,IAEhEE,KAAAA,IACD3gD,EAAAA,EAAAA,GAACy1C,GAAAA,EAAW,CAAChsC,OAAO,eAAewN,SAAUooB,OAE7Cr/B,EAAAA,EAAAA,GAACq+B,GAAU,CACTwC,QAAQ,KACRyD,cAAY,EACZhG,WAAW,EACXC,GAAI,CACF55B,QAAS,OACT3I,eAAgB,gBAChBN,IAAK,aACL,EAED8H,EAAE,0CACHxD,EAAAA,EAAAA,GAAC+kC,GAAAA,EAAY,CACXl0B,KAAK,QACLpH,OAAO,YACPsJ,QA9CoBq7B,IAC5BmS,EAAanS,EAAMhqC,OAAO25C,QAAQ,EA8C1Bxf,GAAI,CAAE15B,UAAW,WAIrB7E,EAAAA,EAAAA,GAAC01C,GAAAA,GAAU,CACTjsC,OAAO,YACPi7B,WAAW,EACXjiC,MAAM,GACNwU,SAAUmpC,SAAkB,GAE5BpgD,EAAAA,EAAAA,GAAC21C,GAAAA,EAAkB,CACjBpX,GAAIgO,GACJqJ,kBAAmBhe,QAAU,GAE7B53B,EAAAA,EAAAA,GAAC4gD,GAAW,CACVrrB,WAAYA,EACZ+e,cAAeA,MAIV,E,UCpHnB,I,qBAAA,GA5BsB75C,IAAmB,IAAlB,YAACsN,GAAYtN,EAClC,MAAQ8M,KAAMkuB,EAAU,OAAEyhB,GAAWc,GAAiBjwC,GACtD,OACE/H,EAAAA,EAAAA,GAACy3C,GAAK,WACJz3C,EAAAA,EAAAA,GAACswC,GAAAA,EAAW,UAAAgI,KAAAA,IACVt4C,EAAAA,EAAAA,GAACu4C,GAAAA,EAAgB,CAAC9uC,OAAO,qBAER,UAAhB1B,IACC/H,EAAAA,EAAAA,GAACw4C,GAAAA,EAAU,CACT/1C,MAAM,uCACNiL,KAAIkrC,KAAAA,IAAE54C,EAAAA,EAAAA,GAACy2C,GAAa,WAAI,EAEvBS,GACCzhB,EAAWp6B,KAAKi8C,IACdt3C,EAAAA,EAAAA,GAAC04C,GAAAA,EAAc,CACbj2C,MAAO60C,EAAU/lC,KAEjB/U,MAAO,CAAE25B,cAAemhB,EAAUp3C,KAD7Bo3C,EAAUp3C,QAQrB,ECXZ,MAAM24C,GAAO,CACX,CAAE34C,GAAI,OAAQo2B,WAAW,GACzB,CAAEp2B,GAAI,SAAUo2B,WAAW,IAGvByqB,GAAetmD,IAAqB,IAApB,YAAEsN,GAAatN,EAEnC,MAAM,OAAEiE,GAAWH,KACbiF,GAAI65B,EAAAA,GAAAA,KAEV,OACEr9B,EAAAA,EAAAA,GAAC09B,GAAAA,EAAQ,CACPC,mBAAmB39B,EAAAA,EAAAA,GAAC2rC,GAAiB,CAAC5jC,YAAaA,UAAgB,GAEnE/H,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAS,aAAY/K,MAAYktC,KAAAA,IAC5C5rC,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAAC8K,UAAU,SAASl/B,OAAO,mBACrCzJ,EAAAA,EAAAA,GAAC+rC,GAAAA,EAAa,CACZpD,UAAU,SACVlmC,MAAOe,EAAE,+CACTiY,OAASqhB,GAAWA,EAAO9vB,UAAU/U,SAEtB,UAAhB8P,IAAuBsuC,KAAAA,IACtBr2C,EAAAA,EAAAA,GAACs2C,GAAAA,GAAc,CAAC7sC,OAAO,gBAAgB8sC,UAAU,mBAAY,GAC3Dv2C,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,iBAErBoiC,KAAAA,IACD7rC,EAAAA,EAAAA,GAAC8rC,GAAAA,EAAY,CACXriC,OAAO,YACPk/B,UAAU,aAEZ3oC,EAAAA,EAAAA,GAACgsC,GAAgB,CAACjkC,YAAaA,EAAakhC,UAAU,IAC7C,EAIT8P,GAAiBp+C,IAAqB,IAApB,YAAEoN,GAAapN,EACrC,MAAMq+C,GAAcpR,EAAAA,GAAAA,KACdpkC,GAAI65B,EAAAA,GAAAA,MACJ,IAAEoN,EAAG,aAAEzE,EAAY,WAAEmS,EAAU,iBAAEc,EAAgB,QAAEzuC,GACvDwuC,EACIvZ,GAAWgC,EAAAA,GAAAA,MACVuf,EAAaC,IAAkB72C,EAAAA,EAAAA,UAAS,KACxC82C,EAAeC,IAAoB/2C,EAAAA,EAAAA,UAAS,KAC5C5N,EAAO2Y,IAAY/K,EAAAA,EAAAA,UAAS,QAsBnC,OAZA3K,EAAAA,EAAAA,YAAU,KACJumC,EAAa1P,WAED,SAAV95B,GACF2Y,EAAS,UAEXgsC,EAAiB1W,IAEjBwW,EAAexW,EACjB,GACC,CAACA,EAAKzE,EAAa1P,aAGpBt2B,EAAAA,EAAAA,GAAC6qC,EAAAA,SAAQ,WACP7qC,EAAAA,EAAAA,GAACs5C,GAAAA,EAAI,CAAC98C,MAAOA,EAAO+8C,eAAe,UAAUplC,SAvB5BqlC,CAACpL,EAAOjE,KAC3Bh1B,EAASg1B,GACTgO,GACEA,EACE,IAAKnS,EAAc1P,UAAwB,SAAb6T,GAC9B8O,EACD,QAiBmE,EACjEJ,GAAKx9C,KAAKo+C,IACT,MAAMh3C,EACY,UAAhBsF,GAAyC,SAAd0xC,EAAOv5C,GAC9BsD,EAAG,aAAYi8B,uBACfj8B,EAAG,aAAYi8B,iBAAwBga,EAAOv5C,MACpD,OAAOF,EAAAA,EAAAA,GAAC05C,GAAAA,EAAG,CAAiBj3C,MAAOA,EAAOjG,MAAOi9C,EAAOv5C,IAAvCu5C,EAAOv5C,GAAsC,KAE3Dy5C,KAAAA,IACP35C,EAAAA,EAAAA,GAAC45C,GAAAA,EAAO,MACR55C,EAAAA,EAAAA,GAAA,gBACGwK,IAAO+lC,KAAAA,IAAIvwC,EAAAA,EAAAA,GAAC0uC,GAAO,OAClBlkC,IAAsC,IAA3Bw7B,EAAa1P,YACxBt2B,EAAAA,EAAAA,GAAC65C,GAAAA,EAAmB,CAACr9C,MAAO,IAAKw8C,EAAavO,IAAKuW,SAAc,GAC/DhhD,EAAAA,EAAAA,GAAC+gD,GAAY,CAACh5C,YAAaA,MAG7ByC,IAAsC,IAA3Bw7B,EAAa1P,YACxBt2B,EAAAA,EAAAA,GAAC65C,GAAAA,EAAmB,CAACr9C,MAAO,IAAKw8C,EAAavO,IAAKyW,SAAgB,GACjElhD,EAAAA,EAAAA,GAAC+gD,GAAY,CAACh5C,YAAaA,MAIxB,EAIFq5C,GAAWA,KACtB,MAAM,YAAEr5C,IAAgBqjC,EAAAA,GAAAA,MAClB,OAAE1sC,GAAWH,MAEZwhC,EAAYC,IAAiBC,EAAAA,GAAAA,GAAS,eAAe,GAK5D,OAJAxgC,EAAAA,EAAAA,YAAU,KACRugC,GAAc,EAAM,GACnB,KAGDhgC,EAAAA,EAAAA,GAACs9B,GAAAA,EAAI,CACHG,oBAAqB,CACnB7H,UAAU,EACVU,WAAW,EACX2lB,aAAa,EACbp9C,SAAUH,GAEZ24B,QAAOgU,KAAAA,IAAErrC,EAAAA,EAAAA,GAACsrC,GAAgB,KAC1B9N,KAAM,CAAEjE,MAAQ,oBAAmB76B,IAAUs9B,MAAO,OACpDwP,QAAS,GACTrU,QAAOsU,KAAAA,IAAEzrC,EAAAA,EAAAA,GAAC0rC,GAAW,KACrBqO,OAAO/5C,EAAAA,EAAAA,GAACqhD,GAAa,CAACt5C,YAAaA,UAAgB,GAEnD/H,EAAAA,EAAAA,GAAC+4C,GAAc,CAAChxC,YAAaA,IACxB,E,4BCvHX,MAAMo5B,IAAYC,EAAAA,GAAAA,IAAY/gC,IACrB,CACLsjC,KAAM,CACJ,wBAAyB,CACvB9+B,UAAW,QACX,2BAA4B,CAC1BhI,MAAO,cAOJykD,GAAYr+C,IACvB,MAAM,YAAE8E,IAAgBqjC,EAAAA,GAAAA,MAClB,QAAEvE,IAAYK,EAAAA,GAAAA,KACd1jC,GAAI65B,EAAAA,GAAAA,MACJ,OAAE3+B,GAAWH,MACZwhC,EAAYC,IAAiB51B,EAAAA,EAAAA,eAAS7D,GACvCg7C,EAAkBpgB,KAQxB,OANA1hC,EAAAA,EAAAA,YAAU,KACJwD,EAAM6W,SAASjS,UAAUwF,OAAO0yB,YAClCC,EAAc/8B,EAAM6W,QAAQjS,SAASwF,MAAM0yB,WAC7C,GACC,CAACA,IAGFt/B,EAAAA,cAACitC,GAAAA,GAAIrkC,EAAAA,GAAAA,GAAA,GACCpG,EAAK,CACTk0B,SAASn3B,EAAAA,EAAAA,GAACynC,GAAU,CAACZ,QAASA,EAAS9G,WAAYA,IACnDxhB,UAAWgjC,EAAgB5d,QAE3B3jC,EAAAA,EAAAA,GAAC6tC,GAAAA,gBAAe,WACd7tC,EAAAA,EAAAA,GAACq+B,GAAU,CAACwC,QAAQ,KAAKyD,cAAY,UAClC9gC,EAAE,4CAELxD,EAAAA,EAAAA,GAACo6C,GAAkB,CAACn5B,KAAsB,UAAhBlZ,KAE1B/H,EAAAA,EAAAA,GAACq6C,GAAAA,EAAkB,CACjBhF,QAASnZ,GACToZ,cAAe52C,EACf6/B,GAAI+N,SAAqB,EAAAV,KAAAA,IAEzB5rC,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CAACp0B,OAAO,gBACC+3C,KAAAA,IACrBxhD,EAAAA,EAAAA,GAACu6C,GAAAA,EAAW,CAAC9wC,OAAO,kBAAiBoiC,KAAAA,IACrC7rC,EAAAA,EAAAA,GAAC8rC,GAAAA,EAAY,CAACriC,OAAO,gBACrBzJ,EAAAA,EAAAA,GAACq+B,GAAU,CACTwC,QAAQ,KACRvC,WAAW,EACXC,GAAI,CACF55B,QAAS,OACT3I,eAAgB,aAChBN,IAAK,aACL,EAED8H,EAAE,0CACHxD,EAAAA,EAAAA,GAAA,QAAM0E,MAAO,CACXyqC,WAAY,SACZvpC,SAAU,QACVf,UAAW,aACX,EACCrB,EAAE,qCACHxD,EAAAA,EAAAA,GAAC8rC,GAAAA,EAAY,CACXj7B,KAAK,QACLpH,OAAO,YACP80B,GAAI,CAAE0M,WAAY,YAKxBjrC,EAAAA,EAAAA,GAACyhD,GAAAA,EAAU,CAACh4C,OAAO,YAAYhH,MAAM,GAAG87B,GAAI,CAAE,mBAAoB,CAAE1hC,MAAO,eAAU,GACnFmD,EAAAA,EAAAA,GAAC09B,GAAAA,EAAQ,CAACC,mBAAmB,QAAM,GACjC39B,EAAAA,EAAAA,GAAC69B,GAAAA,EAAS,CACRp0B,OAAS,oBAAmB/K,IAC5B+D,MAAOe,EAAE,kDAEXxD,EAAAA,EAAAA,GAACu6C,GAAAA,EAAW,CACV9wC,OAAO,oBACPhH,MAAOe,EAAE,wDAEXxD,EAAAA,EAAAA,GAACu6C,GAAAA,EAAW,CACV9wC,OAAO,QACPhH,MAAOe,EAAE,4CAEXxD,EAAAA,EAAAA,GAACu6C,GAAAA,EAAW,CACV9wC,OAAO,SACPhH,MAAOe,EAAE,8CAGFirC,KAAAA,IAEbzuC,EAAAA,EAAAA,GAACosC,GAAW,MAET,E,8ECpHX,MAAMsV,GAAY,CAChB5S,OAAQ,mBACRp0C,OAAQ,OACRmC,MAAO,QAGIwb,GAAQpV,GACnBuuC,KAAAA,IACExxC,EAAAA,EAAAA,GAACyxC,GAAAA,EAAO,CAACznC,QAAQ,aAAa1E,KAAK,OAAOyE,MAAM,6BAA6BrF,MAAOg9C,SAAU,GAC5F1hD,EAAAA,EAAAA,GAAA,KAAGwF,SAAS,4BAAqB,GAC/BxF,EAAAA,EAAAA,GAAA,QAAM22C,SAAS,UAAUC,SAAS,UAAUnxC,EAAE,23BAA23BH,KAAK,aAC96BtF,EAAAA,EAAAA,GAAA,QAAM22C,SAAS,UAAUC,SAAS,UAAUnxC,EAAE,o5VAAo5VH,KAAK,cAEz8VtF,EAAAA,EAAAA,GAAA,kBACAA,EAAAA,EAAAA,GAAA,YAAUE,GAAG,sBAAe,GAC5BF,EAAAA,EAAAA,GAAA,QAAMnD,MAAM,MAAMnC,OAAO,UAAU4K,KAAK,c,iCCH9C,MAAMq8C,GAAiBA,KACrB,MAAMn+C,GAAI65B,EAAAA,GAAAA,KACJkE,EAAUJ,MACTzwB,EAAMkxC,IAAWx3C,EAAAA,EAAAA,WAAS,IAC1B1L,EAAQI,IAAaL,EAAAA,EAAAA,KACtBuX,GAASC,EAAAA,GAAAA,KAETof,EAAY6G,GAAU7gC,KAAK4I,IAE7BjE,EAAAA,EAAAA,GAACu+C,GAAAA,EAAQ,CAAY/hD,MAAOyH,GAAbA,EACZT,EAAE,aAAeS,MAwBlB49C,EAAaA,IAAMD,GAAQ,GAEjC,OACEnhD,EAAAA,cAAAA,EAAAA,SAAA,MACIiQ,IACA1Q,EAAAA,EAAAA,GAACyN,GAAAA,EAAM,CACL8Q,UAAWgjB,EAAQzzB,OACnBiF,QAAS8uC,EACT5e,UAAS6e,KAAAA,IAAE9hD,EAAAA,EAAAA,GAAC+hD,GAAAA,EAAY,KACxBC,QAAOC,KAAAA,IAAEjiD,EAAAA,EAAAA,GAACkiD,GAAAA,EAAc,WAAI,EAE3B1+C,EAAE,aAAe9E,IAGrBgS,IACC1Q,EAAAA,EAAAA,GAACowC,GAAAA,EAAW,CAAC7xB,UAAWgjB,EAAQsN,kBAAY,GAC1C7uC,EAAAA,EAAAA,GAACs+C,GAAAA,EAAM,CACLp+C,GAAG,kBACHiiD,QAAQ,kBACRzxC,KAAMA,EACNlU,MAAOkC,EACPikC,QAtBUN,IAAMuf,GAAQ,GAuBxBQ,OAAQP,EACR1tC,SA1CYi6B,IACpB,MAAMiU,EAAcjU,EAAMhqC,OAAO5H,MAC3B+xC,EAAO,UAA6BzwC,GAAgBG,UAc1D,OAbAooC,EAAAA,GAAAA,wBAAuBkI,EAAK,CAC1B/nC,OAAQ,QACRU,KAAO,iBAAgBm7C,QAEtBplC,MAAMlW,IACLiP,EAAO,8CAA+C,CAAEpJ,KAAM,QAAS,IAExEsQ,OAAM,KACLlH,EAAO,8CAA+C,CACpDpJ,KAAM,SACN,IAGC9N,EAAUujD,EAAY,QA0BE,EAEtBhtB,IAIN,EAID8L,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjCyN,OAAQ,CACNgzB,MAAO,UACPwhB,cAAe,OACf,CAACjiD,EAAM6hC,YAAYC,KAAK,OAAQ,CAC9Bx9B,QAAS,SAGbkqC,YAAa,CACXC,OAAQzuC,EAAM48B,QAAQ,GACtB6L,SAAU,S,sBCtEd,MAAM3H,IAAYC,EAAAA,GAAAA,IAAY/gC,IAAK,CACjC,cAAe,CACb,SAAU,CACR,CAACA,EAAM6hC,YAAYyV,GAAG,OAAQ,CAC5B9yC,UAAWxE,EAAM48B,QAAQ,IAE3B,CAAC58B,EAAM6hC,YAAYC,KAAK,OAAQ,CAC9Bt9B,UAAWxE,EAAM48B,QAAQ,KAG7B,WAAY,CACVoS,gBAAiB,OACjBvO,MAAO,gBAKPyhB,GAAmBt/C,GAErBxC,EAAAA,cAAAA,EAAAA,SAAA,KAAA+hD,KAAAA,IACExiD,EAAAA,EAAAA,GAACs8B,GAAgB,WACft8B,EAAAA,EAAAA,GAACiyB,GAAiB,MAEpBxxB,EAAAA,cAACgiD,GAAAA,GAAMp5C,EAAAA,GAAAA,GAAA,GAAKpG,EAAK,CAAEy/C,UAAW,EAAGC,SAAQC,KAAAA,IAAE5iD,EAAAA,EAAAA,GAAC6iD,GAAc,OAAIC,KAAAA,IAC5D9iD,EAAAA,EAAAA,GAACqyC,GAAAA,EAAG,CAACzO,KAAK,UAAG,GACX5jC,EAAAA,EAAAA,GAACqY,GAAI,MACD0qC,KAAAA,IACN/iD,EAAAA,EAAAA,GAAC2hD,GAAc,OAMjBqB,IAAeC,EAAAA,EAAAA,aAAW,CAAChgD,EAAO4iB,KACtC,MAAMriB,GAAI65B,EAAAA,GAAAA,KACJx1B,GAAWu0B,EAAAA,EAAAA,MACXkL,EAAU4b,mBAAoB,GAAEr7C,EAASk+B,WAAWl+B,EAASsT,UAC7DgoC,EAAc,eAAclgD,EAAMmgD,oBAAoB9b,IAC5D,OACE7mC,EAAAA,cAAC4iD,GAAAA,EAAY,CACXx9B,IAAKA,EACLigB,GAAIqd,EACJG,YAAa9/C,EAAE,+BACf+/C,SAAQC,KAAAA,IAAExjD,EAAAA,EAAAA,GAACyjD,GAAAA,EAAY,KACvB1wC,QAAS9P,EAAM8P,QACf2wC,eAAa,GACb,IAIAb,GAAkB5/C,IACtB,MAAM,SAAE8Q,EAAU+B,UAAWC,IAAoB/B,EAAAA,GAAAA,KACjD,OAAI+B,IAAoBhC,EAAiBtT,EAAAA,cAAAA,EAAAA,SAAA,MAGvCA,EAAAA,cAACkjD,GAAAA,EAAa1gD,GACZjD,EAAAA,EAAAA,GAACgjD,GAAY,CAACI,YAAarvC,EAASsiB,MAAOutB,KAAAA,IAC3C5jD,EAAAA,EAAAA,GAAC6jD,GAAAA,EAAM,KACE,EAIFC,GAAmB7gD,IAC9B,MAAM8gD,EAAoB5iB,KAC1B,OACE1gC,EAAAA,cAACujD,GAAAA,GAAM36C,EAAAA,GAAAA,GAAA,CACL46C,OAAQ1B,GACRhkC,UAAWwlC,EAAkB,gBACzB9gD,GACJ,EAIAq5B,GAAmBjiC,EAAAA,QAAOC,GAAI;;;;;;kBCzFpC,MAAM4pD,GAAY,UACZC,GAAO,UAGPC,GAAc,UAEdC,GAAO,UACPpiD,GAAQ,UAEd,IAAI5B,IAAQikD,E,SAAAA,GAAY,CAAC,GAElB,MAAMC,GAAY,IACpBC,GAAAA,GACHC,QAAS,IACJD,GAAAA,GAAaC,QAChB7iD,QAAS,CACP8iD,MAAOR,GACPS,KAAMR,GACNS,KAhBW,UAiBXC,aAAc,QAEhBhjD,UAAW,CACT6iD,MAjBY,UAkBZC,KAAMN,GACNO,KAAM,UACNC,aAAc,QAEhBC,kBAAmB,EACnBC,YAAa,IAEf9V,WAAY,IACPuV,GAAAA,GAAavV,WAEhBtpC,WAAY,CACV,QACA,gBACA,qBACA,YACA,QACA,cACApK,KAAK,KACPoG,GAAI,CACFwtC,WAAY,SAGhB6V,WAAY,IACPR,GAAAA,GAAaQ,WAChBC,UAAW,CACTC,eAAgB,CACdvhB,KAAM,CACJwhB,aAAc,OACdpc,QAAS,WACToG,WAAY,IACZ,wBAAyB,CACvBpG,QAAS,gBAKjBqc,SAAU,CACRF,eAAgB,CACdG,QAAS,CACPF,aAAc,SAIpBG,aAAc,CACZJ,eAAgB,CACdvhB,KAAM,CACJ,OAAQ,CACNjpC,OAAQ,WAKhB6qD,aAAc,CACZL,eAAgB,CACdvhB,KAAM,CACJjpC,OAAQ,UAId8qD,mBAAoB,CAClBN,eAAgB,CACdvhB,KAAM,CACJ8hB,UAAW,OACX1Y,aAAc,WAIpB2Y,iBAAkB,CAChBR,eAAgB,CACdvhB,KAAM,CACJ,WAAY,CACV0L,gBAAiB,UACjBtG,QAAS,YACTnjC,SAAU,YACVk7B,MAAO,OACP,UAAW,CACTuO,gBAAiBgV,IAEnB,6CAA8C,CAC5CvjB,MAAO,OACPuO,gBAAiB6U,IAEnB,yDAA0D,CACxD7U,gBAAiB8U,QAM3BwB,SAAU,CACRT,eAAgB,CACdvhB,KAAM,CAAE9mC,MAAO,UAGnB+oD,OAAQ,CACNV,eAAgB,CACdvhB,KAAM,CACJ,iBAAkB,CAChBiU,cAAe,QAEjB,oBAAqB,CACnBl9C,OAAQ,WAKhBmrD,cAAe,CACbX,eAAgB,CACdvhB,KAAM,CACJ,CAACtjC,GAAM6hC,YAAYyV,GAAG,OAAQ,CAC5B3K,aAAc,EACdhQ,SAAU,aAKlB+K,WAAY,CACVmd,eAAgB,CACdvhB,KAAM,CACJ,uCAAwC,CACtCmiB,oBAAqB,OAEvB,wCAAyC,CACvCA,oBAAqB,OAEvB,+BAAgC,CAC9B,GAAM,CACJtZ,aAAc,uBAMxBuZ,eAAgB,CACdb,eAAgB,CACdvhB,KAAM,CACJ7C,MAAO7+B,GACP,QAAS,CACP6+B,MA9JK,WAgKP,0BAA2B,CACzBA,MAAOqjB,GACPhV,WAAY,IACZ,QAAS,CACPrO,MAAOqjB,QAMjB6B,qBAAsB,CACpBd,eAAgB,CACdvhB,KAAM,CACJ,WAAY,CACVmF,SAAU,OACVjsC,MAAO,QAET,wBAAyB,CACvBwyC,gBAAiB+U,OAKzB6B,qBAAsB,CACpBf,eAAgB,CACdvhB,KAAM,CACJ,wBAAyB,CACvB0L,gBAAiB+U,GACjB1pD,OAAQ,WAKhBwrD,qBAAsB,CACpBhB,eAAgB,CACdvhB,KAAM,CACJ,kCAAmC,CACjCzmC,IAAK,OACL06C,cAAe,OACfjL,WAAY,OACZmZ,oBAAqB,MACrBK,qBAAsB,OAExB,iEAAkE,CAChEjpD,IAAK,IACL06C,cAAe,IACfjL,WAAY,IACZmZ,oBAAqB,MACrBK,qBAAsB,OAExB,qCAAsC,CACpCzqD,IAAK,EACL,WAAY,CACVsvC,WAAY,YAMtBob,oBAAqB,CACnBlB,eAAgB,CACd/tB,QAAS,CACP,WAAY,CACV2R,SAAU,IAGdud,kBAAmB,CACjBvlB,MAAO7+B,MAIbqkD,kBAAmB,CACjBpB,eAAgB,CACdvhB,KAAM,CACJ,CAACtjC,GAAM6hC,YAAYyV,GAAG,OAAQ,CAC5BtK,YAAa,OACbuK,cAAe,OAEjB,CAACv3C,GAAM6hC,YAAYyV,GAAG,OAAQ,CAC5BtK,YAAa,MACbuK,cAAe,UAKvBlR,aAAc,CACZwe,eAAgB,CACdvhB,KAAM,CACJ,CAACtjC,GAAM6hC,YAAYyV,GAAG,OAAQ,CAC5B3K,aAAc,GAEhB,CAAC3sC,GAAM6hC,YAAYyV,GAAG,OAAQ,CAC5B3K,aAAc,MAKtBuZ,qBAAsB,CACpBrB,eAAgB,CACdvhB,KAAM,CACJ,UAAW,CAAE6I,aAAc,aCpQrC,I,kBAAA,IALqBga,EAAAA,GAAAA,SACnBhiD,UACA6hC,GAAAA,wBCDF,IAAeogB,E,SAAAA,IAAsB/nD,IACnCiI,aAAa6B,QAAQ,WAAY9J,GAClB,OAAXA,EACKm9B,GAEFD,KACNh9B,GAAKC,UC8CR,QAEE,MAAM4d,EAAYiqC,GAASC,IACrB3gC,EAAa0gC,GAASE,IACtBxgC,EAAqBsgC,GAASG,IAG9B9oC,EAAY2oC,GAASI,IACrBn3B,EAAc+2B,GAASK,IACvBt2B,EAAYi2B,GAASM,IACrBpsC,EAAW8rC,GAASO,IACpBn3B,EAAoB42B,GAASQ,IAC7BC,EAAcT,GAASpgC,IAE7B,OACEtmB,EAAAA,EAAAA,GAAConD,EAAAA,EAAK,CACJ/mD,MAAOkkD,GACP3T,OAAQkT,GACRuD,kBAAgB,EAChBC,aAAcC,GACdC,aAAcC,GACdC,aAAcA,GACdC,UAAW5pC,EACXsW,UAAWif,SAAU,GAErBtzC,EAAAA,EAAAA,GAAC4nD,EAAAA,EAAY,CAACC,UAAQ,WACpB7nD,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACC,OAAK,EAACl7C,KAAK,WAAWm7C,SAAShoD,EAAAA,EAAAA,GAAC2vB,EAAW,OAClD3vB,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACC,OAAK,EAACl7C,KAAK,cAAcm7C,SAAShoD,EAAAA,EAAAA,GAACywB,EAAS,OACnDzwB,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACC,OAAK,EAACl7C,KAAK,WAAWm7C,SAAShoD,EAAAA,EAAAA,GAAC4a,EAAQ,OAC/C5a,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACC,OAAK,EAACl7C,KAAK,kBAAkBm7C,SAAShoD,EAAAA,EAAAA,GAAC8vB,EAAiB,OAC/D9vB,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACC,OAAK,EAACl7C,KAAK,SAASm7C,SAAShoD,EAAAA,EAAAA,GAACyc,EAAS,OAC9Czc,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACC,OAAK,EAACl7C,KAAK,UAAUm7C,SAAShoD,EAAAA,EAAAA,GAACgmB,EAAU,OAChDhmB,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACC,OAAK,EAACl7C,KAAK,mBAAmBm7C,SAAShoD,EAAAA,EAAAA,GAAComB,EAAkB,OAE/DpmB,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACC,OAAK,EAACl7C,KAAK,oBAAoBm7C,SAAShoD,EAAAA,EAAAA,GAACmnD,EAAW,QAG7Dp/C,GACAtH,EAAAA,cAAAA,EAAAA,SAAA,KACG,CAAC,QAAS,SAASsM,SAAShF,KAAYkgD,KAAAA,IACvCjoD,EAAAA,EAAAA,GAACkoD,EAAAA,EAAQ,CACP32C,KAAK,WACLykB,OAAQ2kB,GACR1iB,KAAM6iB,GACNhlB,KAAM2lB,GACNx6B,KAAMk8B,GACNzvC,KAAMy6C,EAAAA,MAER,IAED,CAAC,QAAS,SAASp7C,SAAShF,KAAYqgD,KAAAA,IACvCpoD,EAAAA,EAAAA,GAACkoD,EAAAA,EAAQ,CACP32C,KAAK,YACLykB,OAAQgf,GACR/c,KAAMme,GACNtgB,KAAMgkB,GACN74B,KAAMk5B,GACNzsC,KAAMgpC,OAER,IAED,CAAC,QAAS,SAAS3pC,SAAShF,KAAYsgD,KAAAA,IACvCroD,EAAAA,EAAAA,GAACkoD,EAAAA,EAAQ,CACP32C,KAAK,QACLykB,OAAQqqB,GACRpoB,KAAM4oB,GACN/qB,KAAMsrB,GACNngC,KAAMqgC,GACN5zC,KAAMupC,OAER,IAED,CAAC,QAAS,SAASlqC,SAAShF,KAC3B/H,EAAAA,EAAAA,GAACkoD,EAAAA,EAAQ,CACP32C,KAAK,aACLykB,OAAwB,UAAhBjuB,GAA2B87B,GACnC5L,KAAMgP,GACNnR,KAAsB,UAAhB/tB,GAA2BojC,GACjClqB,KAAMwsB,GACN//B,KAAM+oC,KAER,IAEe,SAAhB1uC,IAAsBugD,KAAAA,IACrBtoD,EAAAA,EAAAA,GAACkoD,EAAAA,EAAQ,CACP32C,KAAK,aACLukB,KAAMsH,GACN1vB,KAAM8oC,OAER,IAEe,SAAhBzuC,IAAsBwgD,KAAAA,IACrBvoD,EAAAA,EAAAA,GAAC4nD,EAAAA,EAAY,CAACC,UAAQ,WACpB7nD,EAAAA,EAAAA,GAAC8nD,EAAAA,GAAK,CAACj7C,KAAK,IAAIm7C,SAAShoD,EAAAA,EAAAA,GAACwoD,EAAAA,GAAQ,CAAC1iB,GAAG,kBAOnD,EC/ID,MAAM2iB,GAAMA,MACVhpD,EAAAA,EAAAA,YAAU,KAERN,SAASC,gBAAgBH,KAAOL,EAAAA,EAAKC,QAIiB,GACrD,IAEH6pD,KAAAA,IACE1oD,EAAAA,EAAAA,GAAC2oD,EAAAA,EAAoB,CAACC,aAAW,WAC/B5oD,EAAAA,EAAAA,GAAC6oD,EAAAA,cAAa,CAACxoD,MAAOA,SAAM,GAC1BL,EAAAA,EAAAA,GAAConD,GAAK,QAMR1a,GAAYvtC,SAAS2pD,eAAe,OAC7BC,EAAAA,EAA0Brc,IAClCjxB,QAAOzb,EAAAA,EAAAA,GAACyoD,GAAG,I","sources":["webpack://mepp/./src/styles/configs/breakpoints.js","webpack://mepp/./src/styles/configs/spacings.js","webpack://mepp/./src/styles/tools/flexs/Display.js","webpack://mepp/./src/styles/tools/flexs/AlignCenter.js","webpack://mepp/./src/styles/tools/flexs/AlignLeft.js","webpack://mepp/./src/styles/tools/flexs/AlignMiddle.js","webpack://mepp/./src/styles/tools/flexs/AlignRight.js","webpack://mepp/./src/styles/tools/flexs/DirectionColumn.js","webpack://mepp/./src/styles/tools/flexs/DirectionRow.js","webpack://mepp/./src/styles/tools/flexs/SpaceBetween.js","webpack://mepp/./src/styles/tools/grids/Grid.js","webpack://mepp/./src/styles/tools/wrappers/Wrapper.js","webpack://mepp/./src/utils/constants.js","webpack://mepp/./src/hooks/locale/useLocale.js","webpack://mepp/./src/utils/log.js","webpack://mepp/./src/utils/analytics.js","webpack://mepp/./src/hooks/useTrackingView.js","webpack://mepp/./src/styles/configs/zindex.js","webpack://mepp/./src/layouts/Basic.jsx","webpack://mepp/./src/styles/utils/HoverOrActive.js","webpack://mepp/./src/styles/utils/rem.js","webpack://mepp/./src/styles/configs/fontsize.js","webpack://mepp/./src/components/generics/basics/Break.js","webpack://mepp/./src/components/generics/basics/Heading.jsx","webpack://mepp/./src/themes/index.js","webpack://mepp/./src/components/generics/basics/Href.jsx","webpack://mepp/./src/components/generics/basics/Label.jsx","webpack://mepp/./src/components/generics/basics/List.jsx","webpack://mepp/./src/components/generics/basics/Paragraph.jsx","webpack://mepp/./src/components/footer/Footer.jsx","webpack://mepp/./src/utils/fetch.js","webpack://mepp/./src/admin/authProvider.js","webpack://mepp/./src/assets/icons/earth.svg","webpack://mepp/./src/assets/icons/settings.svg","webpack://mepp/./src/assets/logos/logo.svg","webpack://mepp/./src/hooks/useApi.js","webpack://mepp/./src/components/exercises/ExerciseProvider.js","webpack://mepp/./src/components/generics/buttons/Button.jsx","webpack://mepp/./src/styles/utils/DisabledBodyScroll.js","webpack://mepp/./src/hooks/keyboard/useKeyPress.js","webpack://mepp/./src/components/overlays/Overlay.jsx","webpack://mepp/./src/components/overlays/OverlayProvider.jsx","webpack://mepp/./src/components/generics/basics/Spacer.jsx","webpack://mepp/./src/assets/icons/eye-stroke.svg","webpack://mepp/./src/assets/icons/eye.svg","webpack://mepp/./src/utils/string.js","webpack://mepp/./src/components/generics/forms/Input.jsx","webpack://mepp/./src/components/forms/LanguageForm.jsx","webpack://mepp/./src/components/generics/LoadingCircle.jsx","webpack://mepp/./src/components/generics/forms/Form.jsx","webpack://mepp/./src/components/forms/ProfileForm.jsx","webpack://mepp/./src/components/overlays/SettingsOverlay.js","webpack://mepp/./src/components/header/Header.jsx","webpack://mepp/./src/pages/Help.js","webpack://mepp/./src/assets/icons/warning.svg","webpack://mepp/./src/components/header/TemporaryProfilBanner.js","webpack://mepp/./src/hocs/withAuth.jsx","webpack://mepp/./src/pages/Intro.jsx","webpack://mepp/./src/components/forms/ForgotPwdForm.jsx","webpack://mepp/./src/components/forms/LoginForm.jsx","webpack://mepp/./src/pages/Login.jsx","webpack://mepp/./src/assets/graphics/circle.svg","webpack://mepp/./src/assets/icons/thumbup.svg","webpack://mepp/./src/styles/utils/VisibleHidden.js","webpack://mepp/./src/components/exercises/Timer.jsx","webpack://mepp/./src/components/exercises/Exercise.jsx","webpack://mepp/./src/components/overlays/ConfirmOverlay.js","webpack://mepp/./src/components/generics/GUI.jsx","webpack://mepp/./src/components/exercises/Player.jsx","webpack://mepp/./src/pages/Mirror.jsx","webpack://mepp/./src/pages/MirrorSettings.jsx","webpack://mepp/./src/pages/PlayerStandAlone.js","webpack://mepp/./src/pages/Privacy.js","webpack://mepp/./src/components/forms/ResetPasswordForm.jsx","webpack://mepp/./src/pages/ResetPassword.js","webpack://mepp/./src/pages/Terms.js","webpack://mepp/./src/styles/Global.js","webpack://mepp/./src/components/header/BrowserSupportBanner.jsx","webpack://mepp/./src/components/header/EnvironmentBanner.jsx","webpack://mepp/./src/locales/en/index.js","webpack://mepp/./src/locales/en/admin.js","webpack://mepp/./src/locales/en/a11y.js","webpack://mepp/./src/locales/en/cta.js","webpack://mepp/./src/locales/en/form.js","webpack://mepp/./src/locales/en/footer.js","webpack://mepp/./src/locales/en/intro.js","webpack://mepp/./src/locales/en/exercise.js","webpack://mepp/./src/locales/en/settings.js","webpack://mepp/./src/locales/en/api.js","webpack://mepp/./src/locales/fr/index.js","webpack://mepp/./src/locales/fr/admin.js","webpack://mepp/./src/locales/fr/a11y.js","webpack://mepp/./src/locales/fr/cta.js","webpack://mepp/./src/locales/fr/form.js","webpack://mepp/./src/locales/fr/footer.js","webpack://mepp/./src/locales/fr/intro.js","webpack://mepp/./src/locales/fr/exercise.js","webpack://mepp/./src/locales/fr/settings.js","webpack://mepp/./src/locales/fr/api.js","webpack://mepp/./src/locales/index.js","webpack://mepp/./src/hocs/withPage.jsx","webpack://mepp/./src/components/admin/categories/CategoryList.js","webpack://mepp/./src/admin/utils/props.js","webpack://mepp/./src/components/admin/shared/dom/sanitize.js","webpack://mepp/./src/components/admin/shared/options.js","webpack://mepp/./src/components/admin/shared/validators.js","webpack://mepp/./src/components/admin/shared/buttons/ToggleArchiveButton.js","webpack://mepp/./src/components/admin/shared/toolbars/SimpleFormToolbar.js","webpack://mepp/./src/components/admin/clinicians/ClinicianCreate.js","webpack://mepp/./src/components/admin/shared/buttons/CRUDButton.js","webpack://mepp/./src/components/admin/shared/buttons/ExportButton.js","webpack://mepp/./src/components/admin/shared/toolbars/TopToolbar.js","webpack://mepp/./src/components/admin/clinicians/ClinicianEdit.js","webpack://mepp/./src/components/admin/shared/Datagrid.js","webpack://mepp/./src/components/admin/shared/filters/ArchivableFilter.js","webpack://mepp/./src/admin/utils/placeholder.js","webpack://mepp/./src/components/admin/shared/buttons/ToggleActiveButton.js","webpack://mepp/./src/components/admin/shared/toolbars/RowActionToolbar.js","webpack://mepp/./src/components/admin/shared/toolbars/ListToolbar.js","webpack://mepp/./src/components/admin/shared/buttons/ToggleBulkArchiveButton.js","webpack://mepp/./src/components/admin/shared/toolbars/BulkActionsToolbar.js","webpack://mepp/./src/components/admin/clinicians/ClinicianList.js","webpack://mepp/./src/components/admin/shared/buttons/BackButton.js","webpack://mepp/./src/components/admin/shared/toolbars/ShowToolbar.js","webpack://mepp/./src/components/admin/shared/styles/shared.js","webpack://mepp/./src/components/admin/clinicians/ClinicianShow.js","webpack://mepp/./src/components/admin/shared/Spinner.js","webpack://mepp/./src/components/admin/dashboard/DashboardWidget.js","webpack://mepp/./src/components/admin/shared/icons/MirrorIcon.js","webpack://mepp/./src/components/admin/dashboard/Welcome.js","webpack://mepp/./src/components/admin/dashboard/index.js","webpack://mepp/./src/components/admin/exercises/SubCategoryInput.js","webpack://mepp/./src/components/admin/exercises/callbacks.js","webpack://mepp/./src/components/admin/exercises/styles.js","webpack://mepp/./src/components/admin/exercises/validators.js","webpack://mepp/./src/components/admin/exercises/ExerciseCreate.js","webpack://mepp/./src/components/admin/exercises/ExerciseEdit.js","webpack://mepp/./src/components/admin/shared/icons/CategoryIcon.js","webpack://mepp/./src/components/admin/shared/icons/ClinicianIcon.js","webpack://mepp/./src/components/admin/shared/icons/ExerciseIcon.js","webpack://mepp/./src/components/admin/shared/icons/FaceIcon.js","webpack://mepp/./src/components/admin/shared/icons/SoundIcon.js","webpack://mepp/./src/components/admin/shared/icons/SubCategoryIcon.js","webpack://mepp/./src/components/admin/shared/icons/TimeIcon.js","webpack://mepp/./src/components/admin/shared/icons/TreatmentPlanIcon.js","webpack://mepp/./src/components/admin/shared/hook/useGetCategories.js","webpack://mepp/./src/components/admin/shared/hook/useGetClinicians.js","webpack://mepp/./src/components/admin/shared/hook/useGetSubCategories.js","webpack://mepp/./src/components/admin/shared/cards/ASide.js","webpack://mepp/./src/components/admin/exercises/ExerciseListAside.js","webpack://mepp/./src/components/admin/exercises/ExerciseList.js","webpack://mepp/./src/components/admin/clinicians/ClinicianTextField.js","webpack://mepp/./src/components/admin/exercises/ExerciseShow.js","webpack://mepp/./src/components/admin/patients/validators.js","webpack://mepp/./src/components/admin/patients/PatientCreate.js","webpack://mepp/./src/components/admin/patients/PatientEdit.js","webpack://mepp/./src/components/admin/patients/PatientListAside.js","webpack://mepp/./src/components/admin/patients/PatientList.js","webpack://mepp/./src/components/admin/patients/AddPlanButton.js","webpack://mepp/./src/components/admin/patients/PatientShow.js","webpack://mepp/./src/components/admin/plans/styles.js","webpack://mepp/./src/components/admin/shared/inputs/Dropdown.js","webpack://mepp/./src/components/admin/plans/ExerciseRow.js","webpack://mepp/./src/components/admin/plans/IsSystem.js","webpack://mepp/./src/components/admin/plans/callbacks.js","webpack://mepp/./src/components/admin/plans/validators.js","webpack://mepp/./src/components/admin/plans/PlanCreate.js","webpack://mepp/./src/components/admin/plans/PlanEdit.js","webpack://mepp/./src/components/admin/plans/PlanListAside.js","webpack://mepp/./src/components/admin/plans/PlanList.js","webpack://mepp/./src/components/admin/plans/PlanShow.js","webpack://mepp/./src/components/admin/shared/icons/Logo.js","webpack://mepp/./src/components/admin/shared/buttons/LocaleSwitcher.js","webpack://mepp/./src/components/admin/shared/index.js","webpack://mepp/./src/components/admin/shared/styles/theme.js","webpack://mepp/./src/admin/dataProvider.js","webpack://mepp/./src/admin/i18nProvider.js","webpack://mepp/./src/admin/index.js","webpack://mepp/./src/index.js"],"sourcesContent":["/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { css } from 'styled-components';\n\n/**\n * Breakpoint types\n */\nconst BREAKPOINTS_DICT = {\n  XXS: 'XXS',\n  XS: 'XS',\n  SM: 'SM',\n  MD: 'MD',\n  LG: 'LG',\n  XL: 'XL',\n};\n\n/**\n * Breakpoints set configuration\n */\nconst BREAKPOINTS = {\n  [BREAKPOINTS_DICT.XXS]: {\n    min: 0,\n    max: 640,\n  },\n  [BREAKPOINTS_DICT.XS]: {\n    min: 641,\n    max: 919,\n  },\n  [BREAKPOINTS_DICT.XS]: {\n    min: 0,\n    max: 919,\n  },\n  [BREAKPOINTS_DICT.SM]: {\n    min: 920,\n    max: 1023,\n  },\n  [BREAKPOINTS_DICT.MD]: {\n    min: 1024,\n    max: 1239,\n  },\n  [BREAKPOINTS_DICT.LG]: {\n    min: 1240,\n    max: 1365,\n  },\n  [BREAKPOINTS_DICT.XL]: {\n    min: 1366,\n    max: 99999,\n  },\n};\n\n/**\n * MediaQueries types\n */\nconst MEDIAS_DICT = {\n  xxsOnly: 'xxsOnly',\n  xsOnly: 'xsOnly',\n  xsToSm: 'xsToSm',\n  xsToMd: 'xsToMd',\n  sm: 'sm',\n  smOnly: 'smOnly',\n  smToMd: 'smToMd',\n  md: 'md',\n  mdOnly: 'mdOnly',\n  lg: 'lg',\n  lgOnly: 'lgOnly',\n  xl: 'xl',\n  xlOnly: 'xlOnly',\n};\n\n/**\n * MediaQueries definitions\n */\nconst MEDIAS_QUERIES = {\n  xxsOnly: `(min-width: ${BREAKPOINTS.XXS.min}px) and (max-width: ${BREAKPOINTS.XXS.max}px)`,\n  xsOnly: `(min-width: ${BREAKPOINTS.XS.min}px) and (max-width: ${BREAKPOINTS.XS.max}px)`,\n  xsToSm: `(min-width: ${BREAKPOINTS.XS.min}px) and (max-width: ${BREAKPOINTS.SM.max}px)`,\n  xsToMd: `(min-width: ${BREAKPOINTS.XS.min}px) and (max-width: ${BREAKPOINTS.MD.max}px)`,\n  sm: `(min-width: ${BREAKPOINTS.SM.min}px)`,\n  smOnly: `(min-width: ${BREAKPOINTS.SM.min}px) and (max-width: ${BREAKPOINTS.SM.max}px)`,\n  smToMd: `(min-width: ${BREAKPOINTS.SM.min}px) and (max-width: ${BREAKPOINTS.MD.max}px)`,\n  md: `(min-width: ${BREAKPOINTS.MD.min}px)`,\n  mdOnly: `(min-width: ${BREAKPOINTS.MD.min}px) and (max-width: ${BREAKPOINTS.MD.max}px)`,\n  lg: `(min-width: ${BREAKPOINTS.LG.min}px)`,\n  lgOnly: `(min-width: ${BREAKPOINTS.LG.min}px) and (max-width: ${BREAKPOINTS.LG.max}px)`,\n  xl: `(min-width: ${BREAKPOINTS.XL.min}px)`,\n  xlOnly: `(min-width: ${BREAKPOINTS.XL.min}px) and (max-width: ${BREAKPOINTS.XL.max}px)`,\n};\n\nconst queryString = (query) => `@media screen and ${query}`;\n\n/**\n * Media Query Selector\n *\n * @breakpoint\n * xsOnly, xsToSm, xsToMd, sm, smOnly, smToMd, md, mdOnly, lg, lgOnly, xl, xlOnly, xxl, print\n *\n * @exemple\n * ${media.breakpoint` ...cssRules `}\n * ${media.lg`\n *    [CSS]\n * `}\n *\n * @return the css rules within the mediaQuery selected.\n */\nconst media = {\n  xxsOnly: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.xxsOnly])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  xsOnly: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.xsOnly])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  xsToSm: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.xsToSm])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  xsToMd: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.xsToMd])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  sm: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.sm])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  smOnly: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.smOnly])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  smToMd: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.smToMd])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  md: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.md])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  mdOnly: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.mdOnly])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  lg: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.lg])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  lgOnly: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.lgOnly])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  xl: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.xl])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n  xlOnly: (strings, ...rules) => css`\n    ${queryString(MEDIAS_QUERIES[MEDIAS_DICT.xlOnly])} {\n      ${css(strings, ...rules)}\n    }\n  `,\n};\n\nexport { media, MEDIAS_DICT };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nconst SPACING_BASE = 6;\nconst SPACING_DEFAULT = SPACING_BASE * 4;\n\n/**\n * Spacings definitons in units\n *\n * @exemple\n * styled.li`\n *    margin-bottom: ${spacings.default / 3}px;\n * `;\n *\n */\nconst spacings = {\n  default: SPACING_DEFAULT,\n  xs: SPACING_BASE,\n  sm: SPACING_BASE * 2,\n  md: SPACING_DEFAULT,\n  lg: SPACING_BASE * 5,\n  xl: SPACING_BASE * 6,\n  xxl: SPACING_BASE * 7,\n};\n\nexport { spacings };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\n/**\n * Display Flex\n *\n * @exemple\n * const StyleComponent = styled(...)`\n *    ${FlexDisplay.CSS}\n *    ...\n * `;\n * or\n * <FlexDisplay.Component />\n */\nconst CSS = css`\n  display: flex;\n`;\nconst Component = styled.div`\n  ${CSS}\n`;\n\nexport default { Component, CSS };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport FlexDisplay from './Display';\n\n/**\n * Center horizontaly with flexbox CSSt\n *\n * @exemple\n * import FlexAlignCenter from './AlignCenter';\n * const StyleComponent = styled(...)`\n *    ${FlexAlignCenter.CSS}\n *    ...\n * `;\n * or\n * <FlexAlignCenter.Component />\n */\nconst CSS = css`\n  ${FlexDisplay.CSS}\n  flex-direction: row;\n  justify-content: center;\n`;\nconst Component = styled.div`\n  ${CSS}\n`;\n\nexport default { Component, CSS };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport FlexDisplay from './Display';\n\n/**\n * Right horizontaly with flexbox CSS\n *\n * @exemple\n * const StyleComponent = styled(...)`\n *    ${FlexAlignLeft.CSS}\n *    ...\n * `;\n * or\n * <FlexAlignLeft.Component />\n */\nconst CSS = css`\n  ${FlexDisplay.CSS}\n  flex-direction: row;\n  justify-content: flex-start;\n  align-items: center;\n`;\nconst Component = styled.div`\n  ${CSS}\n`;\n\nexport default { Component, CSS };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport FlexDisplay from './Display';\n\n/**\n * Center and middle( verticaly and horizontaly) with flexbox CSS\n *\n * @exemple\n * const StyleComponent = styled(...)`\n *    ${FlexAlignMiddle.CSS}\n *    ...\n * `;\n * or\n * <FlexAlignMiddle.Component />\n */\nconst CSS = css`\n  ${FlexDisplay.CSS}\n  justify-content: center;\n  align-items: center;\n  list-style-type: none;\n`;\nconst Component = styled.div`\n  ${CSS}\n`;\n\nexport default { Component, CSS };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport FlexDisplay from './Display';\n\n/**\n * Right horizontaly with flexbox CSS\n *\n * @exemple\n * const StyleComponent = styled(...)`\n *    ${FlexAlignRight.CSS}\n *    ...\n * `;\n * or\n * <FlexAlignRight.Component />\n */\nconst CSS = css`\n  ${FlexDisplay.CSS}\n  justify-content: flex-end;\n  align-items: center;\n`;\nconst Component = styled.div`\n  ${CSS}\n`;\n\nexport default { Component, CSS };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport FlexDisplay from './Display';\n\n/**\n * Align verticaly with flexbox CSS\n *\n * @exemple\n * const StyleComponent = styled(...)`\n *    ${FlexDirectionColumn.CSS}\n *    ...\n * `;\n * or\n * <FlexDirectionColumn.Component />\n */\nconst CSS = css`\n  ${FlexDisplay.CSS}\n  flex-direction: column;\n`;\nconst Component = styled.div`\n  ${CSS}\n`;\n\nexport default { Component, CSS };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport FlexDisplay from './Display';\n\n/**\n * Align horizontaly with flexbox CSS\n *\n * @exemple\n * const StyleComponent = styled(...)`\n *    ${FlexDirectionRow.CSS}\n *    ...\n * `;\n * or\n * <FlexDirectionRow.Component />\n */\nconst CSS = css`\n  ${FlexDisplay.CSS}\n  flex-direction: row;\n`;\nconst Component = styled.div`\n  ${CSS}\n`;\n\nexport default { Component, CSS };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport FlexDisplay from './Display';\n\n/**\n * Space between horizontaly with flexbox CSS\n *\n * @exemple\n * const StyleComponent = styled(...)`\n *    ${SpaceBetween.CSS}\n *    ...\n * `;\n * or\n * <SpaceBetween.Component />\n */\nconst CSS = css`\n  ${FlexDisplay.CSS}\n  justify-content: space-between;\n`;\nconst Component = styled.div`\n  ${CSS}\n`;\n\nexport default { Component, CSS };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/*\nbased from https://styled-css-grid.js.org/\n\n// Traditional Grid\n<Grid columns={12} >\n  <Cell width={1}>1/12</Cell>\n  <Cell width={1}>2/12</Cell>\n  ...\n  <Cell width={2}>1/6</Cell>\n  <Cell width={2}>2/6</Cell>\n  ...\n</Grid>\n\n// Positioning\n<Grid columns={3}>\n  <Cell>Top Left</Cell>\n  <Cell left={3}>Top Right</Cell>\n  <Cell left={2} top={2}>Middle</Cell>\n  <Cell top={3}>Bottom Left</Cell>\n  <Cell top={3} left={3}>Bottom Right</Cell>\n</Grid>\n\n// Responsive Layout\n<Grid columns=\"repeat(auto-fit,minmax(120px,1fr))\">\n  <Cell>A</Cell>\n  <Cell>B</Cell>\n  <Cell>C</Cell>\n  <Cell>D</Cell>\n</Grid>\n*/\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\n\n/**\n * Format Area\n */\nconst formatAreas = (areas) => areas.map((area) => `\"${area}\"`).join(' ');\n\n/**\n * Render grid template for each defined breakpoint\n */\nconst renderResponsiveTemplate = (responsiveTemplate) => {\n  if (!responsiveTemplate) return '';\n\n  return Object.keys(responsiveTemplate).map((key) => {\n    const value = responsiveTemplate[key];\n    if (!value) return '';\n\n    const mediaToRender = media[key];\n    if (!mediaToRender) return '';\n\n    return mediaToRender`\n       grid-template-columns: ${value};\n     `;\n  });\n};\n\n/**\n * Grid\n *\n * @exemple\n * <Grid\n *    as=\"ul\"\n *    columns=\"repeat(auto-fit, minmax(0px, 1fr));\"\n *    responsiveTemplate={{ smOnly: '1fr', xsOnly: '1fr' }}\n *  >\n *    <Cell as=\"li\"></Cell>\n *    <Cell as=\"li\"></Cell>\n *    <Cell as=\"li\"></Cell>\n * </Grid>\n */\nconst Grid = styled.div`\n  display: grid;\n  height: ${({ height = 'auto' }) => height};\n  list-style-type: none;\n\n  grid-auto-flow: ${({ flow = 'row' }) => flow};\n  grid-auto-rows: ${({ minRowHeight = '20px' }) =>\n    `minmax(${minRowHeight}, auto)`};\n\n  grid-template-columns: ${({ columns = 12 }) =>\n    typeof columns === 'number' ? `repeat(${columns}, 1fr)` : columns};\n  ${({ rows }) =>\n    rows &&\n    `grid-template-rows: ${\n      typeof rows === 'number' ? `repeat(${rows}, 1fr)` : rows\n    }`};\n  ${({ areas }) => areas && `grid-template-areas: ${formatAreas(areas)}`};\n\n  grid-gap: ${({ gap = `${spacings.default}px` }) => gap};\n  ${({ columnGap }) => columnGap && `column-gap: ${columnGap}`};\n  ${({ rowGap }) => rowGap && `row-gap: ${rowGap}`};\n\n  ${({ justifyContent }) =>\n    justifyContent && `justify-content: ${justifyContent}`};\n\n  ${({ alignContent }) => alignContent && `align-content: ${alignContent}`};\n\n  ${({ responsiveTemplate }) =>\n    responsiveTemplate && renderResponsiveTemplate(responsiveTemplate)};\n`;\n\n/**\n * Cell\n *\n * @exemple\n * <Grid columns=\"repeat(auto-fit,minmax(120px,1fr))\">\n *    <Cell>A</Cell>\n *    <Cell>B</Cell>\n *    <Cell>C</Cell>\n *    <Cell>D</Cell>\n * </Grid>\n */\nconst Cell = styled.div`\n  min-width: 0;\n  grid-column-end: ${({ width = 1 }) => `span ${width}`};\n  grid-row-end: ${({ height = 1 }) => `span ${height}`};\n\n  ${({ left }) => left && `grid-column-start: ${left}`};\n  ${({ top }) => top && `grid-row-start: ${top}`};\n\n  ${({ center }) => center && `text-align: center`};\n\n  ${({ area }) => area && `grid-area: ${area}`};\n\n  ${({ middle }) =>\n    middle &&\n    `\n     display: inline-flex;\n     flex-flow: column wrap;\n     justify-content: center;\n     justify-self: stretch;\n `};\n`;\n\nexport { Grid, Cell };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignMiddle } from '@styles/tools/flexs';\n\n/**\n * WRAPPER SETTINGS\n */\nconst settings = {\n  maxContainer: 1366,\n};\n\n/**\n * WRAPPER SIMPLE WITH A MAX-WIDTH STYLE\n * - use it to wrap content with a max reflow\n * @example\n * <Wrapper>\n * ...\n * </Wrapper>\n */\nconst Wrapper = styled.div`\n  width: 100%;\n  max-width: ${settings.maxContainer}px;\n  margin: 0 auto;\n  padding: 0 250px;\n  box-sizing: border-box;\n  ${media.xsOnly`\n    padding: 0 ${spacings.default}px;\n  `}\n`;\n\n/**\n * Wrapper Full\n * - use it to wrap content to bleed all over window (width)\n *\n * @example\n * <WrapperFull>\n * ...\n * </WrapperFull>\n */\nconst WrapperFull = styled.div`\n  width: 100%;\n  max-width: none;\n  padding: 0;\n  margin: 0 auto;\n  box-sizing: border-box;\n`;\n\n/**\n * Wrapper Full (width and height)\n * - use it to wrap content to bleed all over window (width and height)\n *\n * @example\n * <WrapperFullSize>\n * ...\n * </WrapperFullSize>\n */\nconst WrapperFullSize = styled.div`\n  height: 100%;\n  padding: 0 ${spacings.default}px;\n  max-width: none;\n  overflow: hidden;\n`;\n\n/** Wrapper Full (width and height) and content at the middle\n * - Wrapper for pages to have Full Size with content at the midle\n *\n * @exemple\n * const StyleComponent = styled(WrapperFullSizeMiddle)`\n *    ...\n * `;\n * or\n * <WrapperFullSizeMiddle><WrapperFullSizeMiddle />\n */\nconst WrapperFullSizeMiddle = styled(WrapperFullSize)`\n  ${FlexAlignMiddle.CSS}\n  position: relative;\n  min-height: 100vh;\n\n  @media screen and (max-height: 850px) {\n    min-height: auto;\n  }\n`;\n\nexport { Wrapper, WrapperFull, WrapperFullSize, WrapperFullSizeMiddle };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport const Language = {\n  FR: 'fr',\n  EN: 'en',\n};\n\nexport const RequestMethod = {\n  GET: 'GET',\n  POST: 'POST',\n  PATCH: 'PATCH',\n};\n\nexport const RequestEndpoint = {\n  LOGIN: '/me/',\n  SESSION: '/me/session/',\n  PROFILE: '/me/profile/',\n  SETTINGS: '/me/settings/',\n  PERMISSIONS: '/me/permissions/',\n  LOGS: '/me/session/{uid}/logs/',\n  RESET_PWD: '/password_reset/',\n  CONFIRM_RESET_PWD: '/password_reset/confirm/',\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport i18n from 'i18next';\nimport { useMemo, useCallback } from 'react';\nimport {useLocaleState} from 'react-admin';\n\nimport { Language } from '@utils/constants';\n\n/** HOOK TO GET/SET LOCALE\n * - set a new locale\n */\nconst useLocale = () => {\n  const [, setLocaleRAdmin] = useLocaleState();\n\n  // test\n  // current locale\n  const locale = useMemo(() => {\n    return i18n.language;\n  }, [i18n.language]);\n\n  // set new locale\n  const setLocale = useCallback(\n    (newLocale) => {\n      const lang =\n        newLocale === Language.FR || newLocale === Language.EN\n          ? newLocale\n          : Language.FR;\n      setLocaleRAdmin(lang);\n      i18n.changeLanguage(lang);\n      document.documentElement.lang = lang;\n    },\n    [i18n.language],\n  );\n\n  return { locale, setLocale };\n};\n\nexport { useLocale };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nlet inited = false;\nlet debug = false;\n\nconst isProd =\n  process?.env.ENVIRONMENT === 'production' ||\n  process?.env.ENVIRONMENT === 'prod';\n\n/**\n * set debug state\n * @return boolean\n */\nconst setDebug = (state) => {\n  debug = state;\n  inited = true;\n  return debug;\n};\n\n/**\n * console log according to debug state (from env var)\n */\nconst log = (...args) => {\n  if (inited === false) {\n    process?.env.DEBUG == 'true' && setDebug(true);\n  }\n  !isProd && debug && console.log(...args);\n};\n\nexport { log, setDebug };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { log } from './log';\n\nconst historyView = [];\nconst historyEvent = [];\n\n/**\n * Tracking pageview\n * @exemple\n * trackView('/login');\n */\nconst trackView = (view) => {\n  // secur multi-involontary push for same tracking - back to back\n  if (isLastTrackedView(view)) return;\n\n  log('Analytics Tracking View:', view);\n  historyView.push(view);\n\n  // TODO: add tracking service here for pageview\n};\n\n/**\n * Tracking event\n * @exemple\n * trackEvent( 'eventName', {\n *    eventParam1: 'eventParamValue1',\n *    eventParam2: 'eventParamValue2',\n *    eventParam3: 'eventParamValue3'\n * });\n */\nconst trackEvent = (eventName, eventAction, triggerOnce = false) => {\n  // secur multi-involontary push like \"APP_LAUNCHED\" during accidental re-render. Only when triggerOnce is set to true\n  if (triggerOnce && historyEvent.includes(eventName)) return;\n\n  log('Analytics Tracking Event:', eventName, eventAction);\n  historyEvent.push(eventName);\n\n  // TODO :  add tracking service here for event\n};\n\n// the view is last occurrance\nconst isLastTrackedView = (view) =>\n  historyView[historyView.length - 1] === view;\n\nexport { isLastTrackedView };\nexport { historyView, historyEvent };\nexport { trackView, trackEvent };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { useEffect } from 'react';\n\nimport { trackView } from '@utils/analytics';\n\n/** HOOK TO SEND TRACKING VIEW ON MOUNTING\n */\nconst useTrackingView = (value) => {\n  useEffect(() => {\n    trackView(value);\n  }, [value]);\n};\n\nexport { useTrackingView };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * z-index layer deep configurator\n */\nconst zindex = {\n  max: 9999999,\n  header: 800,\n  overlay: 700,\n  loading: 900,\n};\n\nexport { zindex };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { zindex } from '@styles/configs/zindex';\nimport { Cell, Grid } from '@styles/tools/index';\n\n/**\n * Basic Layout Slots - can receive three slots type\n * - 1 slot for headder\n * - 1 slot for content\n * - 1 slot for footer\n * @param {header, content} props JSX.Element\n * @returns JSX.Element\n */\nconst BasicLayout = ({ header, content, footer }) => {\n  return (\n    <Grid\n      columns=\"1fr\"\n      rows=\"auto 1fr auto\"\n      areas={['header', 'content', 'footer']}\n      gap=\"0\"\n    >\n      <CellHeader width={1} area=\"header\" id=\"header\">\n        {header}\n      </CellHeader>\n\n      <CellContent width={1} area=\"content\" id=\"content\">\n        {content}\n      </CellContent>\n\n      <CellFooter width={1} area=\"footer\" id=\"footer\">\n        {footer}\n      </CellFooter>\n    </Grid>\n  );\n};\n\nconst CellHeader = styled(Cell)`\n  position: fixed;\n  top: 0;\n  width: 100%;\n  z-index: ${zindex.header};\n\n  ${media.xsOnly`\n    position: relative;\n\n  `}\n\n  /* fix for increase fonts values for a11y */\n  @media screen and (max-height: 850px) {\n    position: relative;\n  }\n`;\n\nconst CellContent = styled(Cell)`\n  width: 100vw;\n  min-height: calc(100vh - 155px);\n  color: ${({ theme }) => theme.colors.text};\n  background-color: ${({ theme }) => theme.colors.background};\n\n  ${media.xsOnly`\n    min-height: calc(100vh - 210px);\n  `}\n\n  /* fix for increase fonts values for a11y */\n  @media screen and (max-height: 850px) {\n    height: 100%;\n  }\n`;\n\nconst CellFooter = styled(Cell)`\n  background-color: ${({ theme }) => theme.colors.background};\n`;\n\nexport default React.memo(BasicLayout);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { css } from 'styled-components';\n\n/**\n * Mixin used for active, hover and focus visible state\n */\nconst HoverOrActive = (strings, ...rules) => css`\n  transition-duration: 0.2s;\n  transition-property: color, background, transform;\n  transition-timing-function: ease-out;\n\n  @media (hover: none) {\n    &:active {\n      ${css(strings, ...rules)}\n    }\n  }\n  @media (hover: hover) {\n    &:hover {\n      ${css(strings, ...rules)}\n    }\n    &:focus-visible {\n      ${css(strings, ...rules)}\n    }\n  }\n`;\n\nexport { HoverOrActive };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { BASE_FONT_SIZE } from '@styles/configs/fontsize';\n\n/**\n * rem to px from BASE_FONT_SIZE\n */\nconst rem = (px, baseFontSize) => {\n  const base = baseFontSize || BASE_FONT_SIZE;\n  return `${px / base}rem`;\n};\n\nexport { rem };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * Font-size base and base for rem conversion\n */\nconst BASE_FONT_SIZE = 16;\nexport { BASE_FONT_SIZE };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\n/**\n *\n * Break style components\n *\n * @exemple\n * <BR/>\n */\nexport const BR = styled.br`\n  ${() => css``}\n`;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport { rem } from '@styles/utils/rem';\n\nconst hBaseStyle = css`\n  color: ${({ theme }) => theme.colors.text};\n  font-weight: 700;\n`;\n\n/**\n * Hx style components\n */\nexport const HeadingCss = {\n  h1: css`\n    ${hBaseStyle}\n    line-height: 1.1;\n    font-size: ${rem(38)};\n    margin: 0 0 ${rem(spacings.default)} 0;\n\n    ${media.lg`\n      font-size: ${rem(42)};\n    `}\n  `,\n\n  h2: css`\n    ${hBaseStyle}\n    line-height: 1.2;\n    font-size: ${rem(48)};\n    margin: 0 0 ${rem(spacings.default * 2)} 0;\n\n    ${media.xsOnly`\n      font-size: ${rem(32)};\n    `}\n\n    ${media.lg`\n      font-size: ${rem(48)};\n    `}\n  `,\n\n  h3: css`\n    ${hBaseStyle}\n    line-height: 1.3;\n    font-size: ${rem(30)};\n    margin: 0 0 ${rem(spacings.default / 2)} 0;\n\n    ${media.lg`\n      font-size: ${rem(34)};\n    `}\n  `,\n\n  h4: css`\n    ${hBaseStyle}\n    line-height: 1.3;\n    font-size: ${rem(28)};\n    margin: 0 0 ${rem(spacings.default / 2.5)} 0;\n\n    ${media.lg`\n      font-size: ${rem(32)};\n    `}\n  `,\n\n  h5: css`\n    ${hBaseStyle}\n    line-height: 1.3;\n    font-size: ${rem(24)};\n    margin: 0 0 ${rem(spacings.default / 3)} 0;\n\n    ${media.lg`\n      font-size: ${rem(28)};\n    `}\n  `,\n\n  h6: css`\n    ${hBaseStyle}\n    line-height: 1.3;\n    font-size: ${rem(20)};\n    margin: 0 0 ${rem(spacings.default / 3.5)} 0;\n\n    ${media.lg`\n      font-size: ${rem(24)};\n    `}\n  `,\n};\n\n/** H1\n *\n * @example\n * <H1 />\n * <H2 as=\"h2\"/>\n */\nexport const H1 = styled.h1`\n  ${HeadingCss.h1}\n`;\n\n/** H2\n *\n * @example\n * <H1 />\n * <H3 as=\"h2\"/>\n */\nexport const H2 = styled.h2`\n  ${HeadingCss.h2}\n`;\n\n/** H3\n *\n * @example\n * <H4 />\n * <H3 as=\"h2\"/>\n */\nexport const H3 = styled.h3`\n  ${HeadingCss.h3}\n`;\n\n/** H4\n *\n * @example\n * <H5 />\n * <H5 as=\"h2\"/>\n */\nexport const H4 = styled.h4`\n  ${HeadingCss.h4}\n`;\n\n/** H5\n *\n * @example\n * <H5 />\n * <H5 as=\"h2\"/>\n */\nexport const H5 = styled.h5`\n  ${HeadingCss.h5}\n`;\n\n/** H6\n *\n * @example\n * <H6 />\n * <H6 as=\"h2\"/>\n */\nexport const H6 = styled.h6`\n  ${HeadingCss.h6}\n`;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * theming declaration (Note: does not match with material-ui theme)\n */\nexport const theme = {\n  colors: {\n    primary: '#008EDE',\n    secondary: '#31C0FD',\n    tertiary: '#000000',\n\n    text: '#D2D2D2',\n    accent: '#81D1FF',\n\n    white: '#ffffff',\n    black: '#000000',\n    grey: '#4D4D4D',\n\n    background: '#232525',\n    error: '#f52a2a',\n    warning: '#ffcc00',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport { HoverOrActive } from '@styles/utils/HoverOrActive';\n\nimport { theme } from '@themes/index';\n\n/**\n * Href style components\n */\nexport const hrefCss = css`\n  color: ${theme.colors.secondary};\n  line-height: 1.4;\n  text-decoration: none;\n\n  ${HoverOrActive`\n    color: ${theme.colors.text};\n  `}\n`;\n\nexport const Href = styled.a`\n  ${hrefCss}\n`;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { rem } from '@styles/utils/rem';\n\n/**\n * Form Label style components\n */\nexport const Label = styled.label`\n  font-size: ${rem(20)};\n  font-weight: 500;\n  -webkit-font-smoothing: antialiased;\n\n  ${media.xsOnly`\n    font-size: ${rem(15)};\n  `}\n`;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport { rem } from '@styles/utils/rem';\n\n/**\n *\n * List style components\n *\n * @exemple\n * <UL><UL>\n */\nexport const UL = styled.ul`\n  ${() => css``}\n`;\n\n/**\n *\n * List style components\n *\n * @exemple\n * <LI><LI>\n */\nexport const LI = styled.li`\n  ${() => css`\n    font-size: ${rem(16)};\n    padding: 0px 20px 20px;\n    line-height: 1.2;\n  `}\n`;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport { rem } from '@styles/utils/rem';\n\nexport const ParagraphBaseCss = css`\n  -webkit-font-smoothing: antialiased;\n  font-size: ${rem(16)};\n  line-height: 1.2;\n\n  &:not(:last-of-type) {\n    margin-bottom: 1.5em;\n  }\n  b {font-weight: 700;}\n  i {font-style: italic;}\n`;\n\n/**\n *\n * Paragraph style components\n *\n * @exemple\n * <P small />\n * <P medium />\n */\nexport const P = styled.p`\n  ${(props) => css`\n    ${ParagraphBaseCss}\n\n    ${props.xsmall && `font-size: ${rem(12)}`}\n    ${props.small && `font-size: ${rem(14)}`}\n    ${props.medium && `font-size: ${rem(16)}`};\n    ${props.large && `font-size: ${rem(20)}`};\n    ${props.xlarge && `font-size: ${rem(21)}`};\n  `}\n`;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport { Cell, Grid } from '@styles/tools';\nimport { FlexAlignMiddle } from '@styles/tools/index';\nimport { HoverOrActive } from '@styles/utils/HoverOrActive';\nimport { rem } from '@styles/utils/rem';\n\nimport { Href, P, H5 } from '@components/generics/basics';\n\n/**\n * Footer with Collaborators Logos\n */\nconst Footer = () => {\n  const { t } = useTranslation();\n\n  const items = [\n    {\n      img: './assets/logos/logo_ciusssnim.png',\n      link: 'https://www.ciusssnordmtl.ca/',\n    },\n    {\n      img: './assets/logos/logo_ciussseim.png',\n      link: 'https://ciusss-estmtl.gouv.qc.ca/',\n    },\n    {\n      img: './assets/logos/logo_repar.png',\n      link: 'https://repar.ca/',\n    },\n    {\n      img: './assets/logos/logo_qc2.png',\n      link: 'https://frq.gouv.qc.ca/',\n    },\n    {\n      img: './assets/logos/logo_invent.png',\n      link: 'https://inven-t.umontreal.ca/accueil/',\n    },\n    {\n      img: '/assets/logos/logo_umtl.png',\n      link: 'https://www.umontreal.ca/',\n    },\n  ];\n\n  return (\n    <Container>\n      <ContainerInter>\n        <Title>{t('footer:title')}</Title>\n\n        <Grid\n          columns={`repeat(${items.length}, minmax(0px, 1fr));`}\n          responsiveTemplate={{ xxsOnly: 'repeat(2, minmax(0px, 1fr));' }}\n          gap={`${spacings.default * 2}px`}\n          as=\"ul\"\n        >\n          {items.map((item, key) => (\n            <CellLogo key={key} as=\"li\">\n              <Href href={item.link} target=\"_blank\">\n                <img src={item.img} width=\"100%\" />\n              </Href>\n            </CellLogo>\n          ))}\n        </Grid>\n\n        <CopyrightWrapper>\n          <Copyright small>\n            <Href href=\"https://github.com/mirror-effect-plus-protocol/mepp-web/\">\n              MEPP v{process.env.PROJECT_VERSION}\n            </Href>\n            &nbsp;&nbsp;2021&nbsp;\n            <Href\n              href=\"https://github.com/mirror-effect-plus-protocol/mepp-web/blob/main/LICENSE\"\n              target=\"_blank\"\n              rel=\"license noopener noreferrer\"\n              style={{\n                display: 'inline-block',\n                verticalAlign: 'middle',\n                marginTop: '2px',\n              }}\n            >\n              <svg width=\"100\" height=\"20\">\n                <linearGradient id=\"b\" x2=\"0\" y2=\"100%\">\n                  <stop offset=\"0\" stopColor=\"#bbb\" stopOpacity=\".1\" />\n                  <stop offset=\"1\" stopOpacity=\".1\" />\n                </linearGradient>\n                <clipPath id=\"a\">\n                  <rect width=\"100\" height=\"20\" rx=\"3\" fill=\"#fff\" />\n                </clipPath>\n                <g clipPath=\"url(#a)\">\n                  <path fill=\"#555\" d=\"M0 0h51v20H0z\" />\n                  <path fill=\"#007ec6\" d=\"M51 0h49v20H51z\" />\n                  <path fill=\"url(#b)\" d=\"M0 0h100v20H0z\" />\n                </g>\n                <g\n                  fill=\"#fff\"\n                  textAnchor=\"middle\"\n                  fontFamily=\"DejaVu Sans,Verdana,Geneva,sans-serif\"\n                  fontSize=\"11\"\n                >\n                  <text x=\"25.5\" y=\"15\" fill=\"#010101\" fillOpacity=\".3\">\n                    {t('footer:license')}\n                  </text>\n                  <text x=\"25.5\" y=\"14\">\n                    {t('footer:license')}\n                  </text>\n                  <text x=\"74.5\" y=\"15\" fill=\"#010101\" fillOpacity=\".3\">\n                    GPL v3\n                  </text>\n                  <text x=\"74.5\" y=\"14\">\n                    GPL v3\n                  </text>\n                </g>\n              </svg>\n            </Href>\n          </Copyright>\n\n          <CopyrightLinks>\n            <Href href=\"#/privacy\">{t('footer:privacy')}</Href>\n            &nbsp;|&nbsp;\n            <Href href=\"#/termsofuse\">{t('footer:termsofuse')}</Href>\n          </CopyrightLinks>\n        </CopyrightWrapper>\n      </ContainerInter>\n    </Container>\n  );\n};\n\nconst Container = styled.footer`\n  padding: 0px ${spacings.default * 4}px;\n\n  /* fix for increase fonts values for a11y */\n  @media screen and (max-height: 850px) {\n    padding: ${spacings.default * 2}px ${spacings.default * 4}px 0;\n  }\n\n  ${media.xxsOnly`\n    padding: ${spacings.default * 2}px ${spacings.default}px 0;\n  `}\n`;\n\nconst ContainerInter = styled.div`\n  padding: ${spacings.default * 2}px 0;\n  border-top: 1px solid ${({ theme }) => theme.colors.grey};\n`;\n\nconst Title = styled(H5)`\n  margin-bottom: ${spacings.default * 2}px;\n  text-align: center;\n  text-transform: uppercase;\n  font-weight: 700;\n  font-size: ${rem(12)};\n  letter-spacing: 0.2rem;\n  color: ${({ theme }) => theme.colors.white};\n`;\n\nconst CellLogo = styled(Cell)`\n  ${FlexAlignMiddle.CSS}\n  opacity: 0.6;\n\n  img {\n    max-width: 170px;\n  }\n\n  ${HoverOrActive`\n    opacity: 1;\n    transition: opacity 0.2s ease;\n  `}\n`;\n\nconst CopyrightWrapper = styled(FlexAlignMiddle.Component)`\n  flex-direction: column;\n  margin: ${spacings.default * 2}px 0 0;\n  color: ${({ theme }) => theme.colors.text};\n`;\n\nconst Copyright = styled(P)`\n  text-align: center;\n`;\n\nconst CopyrightLinks = styled.div`\n  margin-top: ${spacings.default / 2}px;\n  font-size: ${rem(14)};\n`;\n\nexport { Footer };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { temporaryToken } from '@admin/authProvider';\n\nimport { log } from '@utils/log';\n\nimport { RequestMethod } from './constants';\n\nconst fetchData = async (\n  endpoint,\n  payload = {},\n  method = RequestMethod.GET,\n) => {\n  const accessToken = temporaryToken || localStorage.getItem('token');\n  const headers = new Headers({\n    'Authorization': accessToken ? `Token ${accessToken}` : '',\n    'Content-Type': 'application/json',\n  });\n\n  const response = await fetch(\n    new Request(`${process.env.API_ENDPOINT}${endpoint}`, {\n      method,\n      body: method === RequestMethod.GET ? null : JSON.stringify(payload),\n      headers,\n    }),\n  );\n\n  if (response.headers.get('content-type') !== 'application/json') {\n    log(`Service ${response.statusText} error`);\n    return { response };\n  }\n\n  const data = await response.json();\n\n  if (response.status == 401 || response.status == 403) {\n    log(`Service ${endpoint} not authorized`);\n    const hasToken = localStorage.getItem('token');\n    localStorage.removeItem('profile');\n    localStorage.removeItem('token');\n    if (hasToken) window.location.href = '/'; // go to login\n  }\n  if (response.status == 404) log(`Service ${endpoint} not found`);\n  if (response.status == 400) log(`Service ${endpoint} error`);\n  if (response.status == 500) log(`Service ${endpoint} error`);\n\n  return { data, response };\n};\n\nexport { fetchData };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { RequestEndpoint, RequestMethod } from '@utils/constants';\nimport { fetchData } from '@utils/fetch';\n\n// temporary token injected by URL like http://[url]]/?tt=wererrwerwe#/mirror\nlet temporaryToken = null;\n// temporary profil managed by authTemporaryToken\nlet temporaryProfil = null;\n// permissions user\nlet permissions = null;\n\n/**\n * Based on `tokenAuthProvider` from ra-data-django-rest-framework\n * See https://github.com/bmihelac/ra-data-django-rest-framework/blob/master/src/tokenAuthProvider.ts\n */\nconst authProvider = {\n  login: async ({ username, password }) => {\n    const { data, response } = await fetchData(\n      RequestEndpoint.LOGIN,\n      { username, password },\n      RequestMethod.POST,\n    );\n\n    if (data) {\n      const error = data.non_field_errors || data.detail;\n      if (error) throw new Error(error);\n      if (data.token) localStorage.setItem('token', data.token);\n      if (data.profile)\n        localStorage.setItem('profile', JSON.stringify(data.profile));\n    } else {\n      throw new Error(`Service ${response.statusText} error`);\n    }\n  },\n\n  logout: (reload) => {\n    localStorage.removeItem('token');\n    localStorage.removeItem('profile');\n    permissions = null;\n\n    // prevent rendering previous page(react-admin behaviour) after a success login\n    if (reload === true) {\n      window.location.href = '/';\n      return Promise.reject();\n    }\n\n    return Promise.resolve();\n  },\n\n  checkError: (error) => {\n    const status = error.status;\n    if (status === 401 || status === 403) {\n      const hasToken = localStorage.getItem('token');\n      localStorage.removeItem('token');\n      localStorage.removeItem('profile');\n      permissions = null;\n\n      if (hasToken) window.location.href = '/'; // go to login\n      return Promise.reject();\n    }\n    return Promise.resolve();\n  },\n\n  checkAuth: () => {\n    return localStorage.getItem('token')\n      ? Promise.resolve(true)\n      : Promise.reject();\n  },\n\n  getPermissions: async () => {\n    if (!permissions) {\n      const { data } = await fetchData(RequestEndpoint.PERMISSIONS);\n      if (data?.permissions) {\n        try {\n          permissions = data.permissions;\n          return Promise.resolve(data.permissions);\n        } catch (error) {\n          return Promise.resolve('guest');\n        }\n      } else {\n        return Promise.resolve('guest');\n      }\n    } else {\n      return Promise.resolve(permissions);\n    }\n  },\n\n  getIdentity: () => {\n    try {\n      const profile =\n        temporaryProfil || JSON.parse(localStorage.getItem('profile'));\n      // React-admin expect `fullName` instead of `full_name` to display it.\n      profile['fullName'] = profile.full_name;\n      return Promise.resolve(profile);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n  },\n};\n\nconst authTemporaryToken = async (token) => {\n  temporaryToken = token;\n\n  const { data } = await fetchData(RequestEndpoint.PROFILE);\n  if (data && data.profile) {\n    temporaryProfil = data.profile;\n  } else {\n    alert(`Client token is not valid or expired`);\n    throw new Error(`Client token is not valid or expired`);\n  }\n};\n\nexport { temporaryToken, temporaryProfil };\nexport { authTemporaryToken };\nexport default authProvider;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgEarth = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"aria-hidden\": \"true\",\n  viewBox: \"0 0 20 21\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M9.99.475c-5.52 0-9.99 4.48-9.99 10s4.47 10 9.99 10c5.53 0 10.01-4.48 10.01-10s-4.48-10-10.01-10Zm6.93 6h-2.95a15.65 15.65 0 0 0-1.38-3.56 8.03 8.03 0 0 1 4.33 3.56ZM10 2.515c.83 1.2 1.48 2.53 1.91 3.96H8.09c.43-1.43 1.08-2.76 1.91-3.96Zm-7.74 9.96c-.16-.64-.26-1.31-.26-2s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H2.26Zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56a7.987 7.987 0 0 1-4.33-3.56Zm2.95-8H3.08a7.987 7.987 0 0 1 4.33-3.56 15.65 15.65 0 0 0-1.38 3.56ZM10 18.435c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96Zm2.34-5.96H7.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2Zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95a8.03 8.03 0 0 1-4.33 3.56Zm1.77-5.56c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38Z\"\n})));\nexport default SvgEarth;","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgSettings = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"aria-hidden\": \"true\",\n  viewBox: \"0 0 27 27\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23.614 14.812c.055-.426.096-.853.096-1.305 0-.453-.041-.88-.096-1.307l2.879-2.197a.662.662 0 0 0 .163-.853l-2.729-4.609c-.163-.294-.532-.399-.832-.294L19.699 5.58a9.993 9.993 0 0 0-2.306-1.304L16.874.743c-.04-.319-.327-.558-.668-.558h-5.459c-.339 0-.626.239-.667.558l-.518 3.533c-.834.332-1.597.785-2.306 1.304L3.858 4.247a.674.674 0 0 0-.833.294L.297 9.15a.647.647 0 0 0 .164.853L3.34 12.2c-.055.427-.095.866-.095 1.307 0 .439.04.879.095 1.305L.461 17.011a.66.66 0 0 0-.164.851l2.728 4.608c.164.295.532.401.833.295l3.398-1.334a9.907 9.907 0 0 0 2.306 1.306l.518 3.53c.041.32.328.561.667.561h5.459c.341 0 .628-.241.668-.561l.519-3.53a10.461 10.461 0 0 0 2.306-1.306l3.396 1.334c.314.119.669 0 .832-.295l2.729-4.608a.66.66 0 0 0-.163-.851l-2.879-2.199zm-10.136 3.357c-2.634 0-4.778-2.093-4.778-4.662 0-2.572 2.144-4.663 4.778-4.663 2.632 0 4.773 2.091 4.773 4.663 0 2.569-2.141 4.662-4.773 4.662z\"\n})));\nexport default SvgSettings;","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgLogo = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"aria-hidden\": \"true\",\n  viewBox: \"0 0 185 55\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#fff\",\n  d: \"M66.937 12.483h6.053l6.694 10.763 6.709-10.763h6.039v25.442h-5.585V21.316l-7.163 10.871h-.151l-7.09-10.799v16.5h-5.506V12.484zm68.558 0H145.9c6.082 0 9.757 3.6 9.757 8.797v.072c0 5.89-4.59 8.942-10.297 8.942h-4.259v7.63h-5.606v-25.44zm10.045 12.829c2.803 0 4.439-1.67 4.439-3.852v-.072c0-2.505-1.744-3.851-4.547-3.851h-4.324v7.775h4.432zm19.305-12.829h10.405c6.075 0 9.75 3.6 9.75 8.797v.072c0 5.89-4.583 8.942-10.29 8.942h-4.259v7.63h-5.606v-25.44zm10.045 12.829c2.803 0 4.439-1.67 4.439-3.852v-.072c0-2.505-1.751-3.851-4.547-3.851h-4.324v7.775h4.432zm-50.327-2.685h-21.135v4.981h21.135v-4.981zm.18 10.323h-21.315v4.982h21.315V32.95zm-.18-20.467h-21.135v4.982h21.135v-4.982z\"\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  fill: \"#2DADFF\",\n  d: \"M6.968 29.502a1.997 1.997 0 0 0-2.003 1.95A2 2 0 0 0 6.96 33.44a2.004 2.004 0 0 0 1.989-1.987 1.993 1.993 0 0 0-1.982-1.951zm0 7.919a1.997 1.997 0 0 0-2.003 1.98 1.993 1.993 0 0 0 3.985 0 1.993 1.993 0 0 0-1.982-1.98zm0-15.903a2.005 2.005 0 0 0-2.003 1.98 1.993 1.993 0 0 0 3.985 0 2 2 0 0 0-1.982-1.987v.007zm-5.974.994a.995.995 0 0 0-.994.993.993.993 0 0 0 1.698.667.993.993 0 0 0 .29-.703.993.993 0 0 0-.994-.965v.008zm5.974-8.942a1.997 1.997 0 0 0-2.003 1.98 1.993 1.993 0 0 0 3.985 0 1.993 1.993 0 0 0-1.982-1.987v.007zM.994 30.466A.995.995 0 0 0 0 31.46a1 1 0 0 0 .994.993 1.002 1.002 0 0 0 .921-1.376.994.994 0 0 0-.92-.618v.008zm13.93 13.909a.995.995 0 0 0-.995.965.993.993 0 0 0 1.698.702.993.993 0 0 0 .291-.702.993.993 0 0 0-.994-.972v.007zm0-33.785a.994.994 0 0 0 .994-.994.993.993 0 0 0-1.697-.68.993.993 0 0 0-.292.702.993.993 0 0 0 .995.965v.007zm0 6.954a1.997 1.997 0 0 0 1.989-1.987 1.993 1.993 0 0 0-1.99-1.987 1.997 1.997 0 0 0-1.988 1.987 1.993 1.993 0 0 0 1.989 1.98v.007zm0 10.936a2.98 2.98 0 0 0-2.758 1.838 2.98 2.98 0 0 0 2.758 4.122 2.986 2.986 0 0 0 2.784-1.838 2.98 2.98 0 0 0 .228-1.15 2.97 2.97 0 0 0-1.86-2.763 2.979 2.979 0 0 0-1.152-.217v.008zm0-7.955a2.985 2.985 0 0 0-2.758 4.122 2.973 2.973 0 0 0 2.758 1.838 2.98 2.98 0 0 0 2.786-1.837c.151-.364.228-.756.226-1.15a2.979 2.979 0 0 0-3.012-2.98v.007zm0 16.896a1.997 1.997 0 0 0-1.99 1.987 1.993 1.993 0 0 0 1.99 1.987 1.997 1.997 0 0 0 1.989-1.987 1.993 1.993 0 0 0-1.99-1.987zm26.9-11.936a1.997 1.997 0 0 0 1.988-1.987 1.993 1.993 0 0 0-1.988-1.987 1.997 1.997 0 0 0-1.99 1.987 1.993 1.993 0 0 0 1.99 1.987zm0-7.92a1.997 1.997 0 0 0 1.988-1.986 1.993 1.993 0 0 0-1.988-1.987 1.997 1.997 0 0 0-1.99 1.987 1.993 1.993 0 0 0 1.99 1.958v.029zm0 15.903a1.997 1.997 0 0 0 1.988-1.987 1.993 1.993 0 0 0-1.988-1.98 1.997 1.997 0 0 0-1.99 1.988 1.993 1.993 0 0 0 1.99 1.95v.03zm5.966-.993a1.002 1.002 0 0 0 .995-.994.993.993 0 0 0-1.698-.702.993.993 0 0 0-.291.703 1 1 0 0 0 .994.964v.029zm-5.966 8.941a1.997 1.997 0 0 0 0-3.995 1.997 1.997 0 0 0-1.99 1.987 1.993 1.993 0 0 0 1.99 1.98v.028zm5.966-16.954a.995.995 0 0 0 .703-1.695.994.994 0 1 0-.703 1.695zM33.868 10.554a.995.995 0 0 0 .995-.994.994.994 0 0 0-1.375-.86.994.994 0 0 0-.614.918.993.993 0 0 0 .994.965v-.03zm0 33.785a.993.993 0 0 0-.994 1 .993.993 0 0 0 1.697.703.993.993 0 0 0 .292-.702.993.993 0 0 0-.995-.972v-.029zm0-6.954a1.997 1.997 0 0 0-1.989 1.987 1.993 1.993 0 0 0 1.99 1.987 1.997 1.997 0 0 0 1.988-1.987 1.994 1.994 0 0 0-1.989-1.951v-.036zm0-10.936a2.98 2.98 0 0 0 2.758-1.838 2.979 2.979 0 0 0-2.758-4.122 2.987 2.987 0 0 0-2.745 1.864c-.147.364-.22.753-.216 1.145a2.972 2.972 0 0 0 2.961 2.98v-.029zm0 7.955a2.985 2.985 0 0 0 2.758-4.122 2.974 2.974 0 0 0-5.505.025 2.97 2.97 0 0 0-.214 1.146 2.979 2.979 0 0 0 2.961 2.98v-.029zm0-16.896a1.997 1.997 0 0 0 1.989-1.987 1.993 1.993 0 0 0-1.989-1.987 1.997 1.997 0 0 0-1.989 1.987 1.991 1.991 0 0 0 1.223 1.86c.242.102.503.155.766.156v-.029zM25 0h-1v55h1V0z\"\n})));\nexport default SvgLogo;","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { useState } from 'react';\n\nimport { RequestMethod } from '@utils/constants';\nimport { fetchData } from '@utils/fetch';\n\n/**\n * HOOK TO USE API CALL WITH FETCH DATA\n */\nconst useApi = (endpoint) => {\n  const [data, setData] = useState();\n  const [error, setError] = useState();\n  const [success, setSuccess] = useState();\n  const [loading, setLoading] = useState();\n\n  const send = async (payload, method) => {\n    setLoading(true);\n    setError(false);\n\n    const { data, response } = await fetchData(endpoint, payload, method);\n    if (data) {\n      setData(data);\n      if (response.status !== 200) setSuccess(false);\n      else setSuccess(true);\n    } else {\n      setError(true);\n      setSuccess(false);\n    }\n\n    setLoading(false);\n\n    return { data, response };\n  };\n\n  const post = async (payload) => await send(payload, RequestMethod.POST);\n  const get = async (payload) => await send(payload, RequestMethod.GET);\n  const patch = async (payload) => await send(payload, RequestMethod.PATCH);\n\n  return { data, error, success, loading, get, post, patch };\n};\n\nexport { useApi };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { createContext, useEffect, useState } from 'react';\n\nimport { useApi } from '@hooks/useApi';\n\nimport { RequestEndpoint, RequestMethod } from '@utils/constants';\nimport { fetchData } from '@utils/fetch';\nimport { log } from '@utils/log';\n\n/**\n * EXERCISE STEP TYPE\n */\nconst ExerciseStep = {\n  'INITIATED': 'INIT',\n  'STARTED': 'START',\n  'PAUSED': 'PAUSE',\n  'SKIPPED': 'SKIP',\n  'RESUMED': 'RESUME',\n  'WAITED': 'WAIT',\n  'COMPLETED': 'DONE',\n  'ENDED': 'END',\n  'EMPTY': 'EMPTY',\n};\n\n/**\n * EXERCISE CONTEXT\n */\nconst ExerciseContext = createContext({\n  ready: () => {},\n  start: () => {},\n  pause: () => {},\n  skip: () => {},\n  wait: () => {},\n  repeat: () => {},\n  complete: () => {},\n  next: () => {},\n  restart: () => {},\n  exercise: null,\n  exerciseStep: ExerciseStep.INITIATED,\n  exerciseLoading: true,\n  exerciseReady: false,\n});\n\n/**\n * EXERCISE PROVIDER\n */\nconst ExerciseProvider = ({ children }) => {\n  const [exercise, setExercise] = useState({\n    index: 0,\n    number: 1,\n    next: 1,\n    length: 0,\n    durationTime: null,\n    pauseTime: null,\n    repeatTime: null,\n    text: null,\n  });\n  const [exerciseCurrent, setExerciseCurrent] = useState(0);\n  const [exerciseStep, setExerciseStep] = useState(ExerciseStep.INITIATED);\n  const [exerciseRepeat, setExerciseRepeat] = useState(0);\n  const [exerciseReady, setReady] = useState(false);\n  const {\n    data: exercisesData,\n    loading: exerciseLoading,\n    get,\n  } = useApi(RequestEndpoint.SESSION);\n\n  /**\n   * Log Step  - API call\n   */\n  const logs = (type) => {\n    if (!exercisesData) return;\n    if (!exercisesData.id) return;\n\n    const path = RequestEndpoint.LOGS.replace('{uid}', exercisesData.id);\n    const payload = {\n      'action': type,\n    };\n    const typesWithoutExercises = [\n      'START_SESSION',\n      'START_SESSIONS',\n      'LOGIN',\n      'LOGOUT',\n    ];\n    // include exercise index only when `type` is related to exercises\n    if (!typesWithoutExercises.includes(type)) {\n      payload['exercise_index'] = exerciseCurrent;\n    }\n\n    fetchData(path, payload, RequestMethod.POST);\n  };\n\n  /**\n   * Action Ready\n   */\n  const ready = (state) => setReady(state);\n\n  /**\n   * Action Start\n   */\n  const start = () => {\n    if (exerciseStep === ExerciseStep.INITIATED) logs(ExerciseStep.STARTED);\n    else logs(ExerciseStep.RESUMED);\n    setExerciseStep(ExerciseStep.STARTED);\n  };\n\n  /**\n   * Action Pause\n   */\n  const pause = () => {\n    if (exerciseStep === ExerciseStep.PAUSED) return;\n    logs(ExerciseStep.PAUSED);\n    setExerciseStep(ExerciseStep.PAUSED);\n  };\n\n  /**\n   * Action Skip\n   */\n  const skip = () => {\n    logs(ExerciseStep.SKIPPED);\n    next();\n  };\n\n  /**\n   * Action Wait\n   */\n  const wait = () => {\n    if (!exercise) return;\n    if (exerciseRepeat < exercise.repeatTime)\n      setExerciseStep(ExerciseStep.WAITED);\n    else {\n      logs(ExerciseStep.COMPLETED);\n      setExerciseStep(ExerciseStep.COMPLETED);\n    }\n  };\n\n  /**\n   * Action Repeat\n   */\n  const repeat = () => {\n    if (!exercise) return;\n    if (exerciseRepeat >= exercise.repeatTime) {\n      logs(ExerciseStep.COMPLETED);\n      setExerciseStep(ExerciseStep.COMPLETED);\n    } else {\n      setExerciseRepeat(exerciseRepeat + 1);\n      setExerciseStep(ExerciseStep.STARTED);\n    }\n  };\n\n  /**\n   * Action Complete\n   */\n  const complete = () => {\n    if (exerciseStep === ExerciseStep.COMPLETED) return;\n    logs(ExerciseStep.COMPLETED);\n    setExerciseRepeat(0);\n    setExerciseStep(ExerciseStep.COMPLETED);\n  };\n\n  /**\n   * Action Next\n   */\n  const next = () => {\n    if (!exercise) return;\n    if (!exercisesData && !exercisesData.exercises) return;\n\n    const { next } = exercise;\n\n    if (!next || next >= exercisesData.exercises.length) {\n      return setExerciseStep(ExerciseStep.ENDED);\n    }\n\n    setExerciseRepeat(0);\n    setExerciseStep(ExerciseStep.INITIATED);\n    setExerciseCurrent(next);\n  };\n\n  /**\n   * Action Restart\n   */\n  const restart = () => {\n    logs('RESTART_SESSION');\n    // timeout to prevent logs request cancel\n    // logs will be canceled if taken more than .5s\n    setTimeout(() => {\n      window.location.href = '/';\n    }, 500);\n  };\n\n  /**\n   * Set Current Exercise data\n   */\n  useEffect(() => {\n    if (!exercisesData) return;\n    if (exercisesData.detail === 'Not found.' || !exercisesData.exercises) {\n      setExerciseStep(ExerciseStep.EMPTY);\n      return;\n    }\n\n    const current = exercisesData.exercises[exerciseCurrent];\n\n    if (current) {\n      setExercise({\n        index: exerciseCurrent,\n        number: exerciseCurrent + 1,\n        next: exerciseCurrent + 1,\n        length: exercisesData.exercises.length,\n        durationTime: current.movement_duration || 10,\n        pauseTime: current.pause || 5,\n        repeatTime: current.repeat || 3,\n        text: current.i18n,\n      });\n    } else {\n      log('Exercise not found: ', exerciseCurrent);\n    }\n  }, [exerciseCurrent, exercisesData]);\n\n  /**\n   * Log start session\n   */\n  useEffect(() => {\n    if (exercisesData && exercisesData.id) {\n      logs('START_SESSION');\n    }\n  }, [exercisesData]);\n\n  /**\n   * Get Exercises data from API\n   */\n  useEffect(() => {\n    const initCall = async () => {\n      get();\n    };\n    initCall();\n  }, []);\n\n  return (\n    <ExerciseContext.Provider\n      value={{\n        ready,\n        start,\n        pause,\n        skip,\n        wait,\n        repeat,\n        complete,\n        next,\n        restart,\n        logs,\n        exercise,\n        exerciseStep,\n        exerciseLoading,\n        exerciseReady,\n      }}\n    >\n      {children}\n    </ExerciseContext.Provider>\n  );\n};\n\nexport { ExerciseContext, ExerciseStep };\nexport default ExerciseProvider;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport styled, { css } from 'styled-components';\n\n\n\nimport { media } from '@styles/configs/breakpoints';\nimport { HoverOrActive } from '@styles/utils/HoverOrActive';\nimport { rem } from '@styles/utils/rem';\n\n\n/**\n * BUTTON SIDE LABEL TYPES ALLOWED\n */\nconst ButtonSideLabelTypes = {\n  LEFT: 'left',\n  RIGHT: 'right',\n};\n\n/**\n * Button default\n */\nconst ButtonFactory = (Button) => {\n  const Component = (props) => {\n    const { label, icon } = props;\n    return (\n      <Button\n        {...props}\n        {...(props.selected === false || props.selected === true\n          ? {\n              'aria-checked': props.selected,\n              'role': 'switch',\n            }\n          : {})}\n        disabled={props.disabled}\n      >\n        {label && label}\n        {icon && icon}\n      </Button>\n    );\n  };\n\n  Component.displayName = Button.displayName;\n  return Component;\n};\n\n/**\n * Button base CSS\n */\nconst button = css`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n\n  color: ${({ theme }) => theme.colors.white};\n  background: ${({ theme }) => theme.colors.primary};\n  border-radius: 35px;\n\n  padding: 15px 50px;\n  ${({ icon, label }) => icon && !label && `padding: 0 0;`};\n\n  cursor: pointer;\n  min-width: 35px;\n  min-height: 55px;\n\n  font-weight: 700;\n  font-size: ${rem(17)};\n  font-style: normal;\n\n  svg {\n    width: 25px;\n    height: 25px;\n    fill: ${({ theme }) => theme.colors.white};\n    transition: fill 0.2s ease-out;\n    padding: 0px 14px;\n    box-sizing: initial;\n  }\n\n  ${media.xsOnly`\n    padding: 10px 25px;\n    ${({ icon, label }) => icon && !label && `padding: 0 0;`};\n    font-size: ${rem(15)};\n    font-style: normal;\n    min-height: 42px;\n  `}\n\n  ${({ sideLabelType }) =>\n    sideLabelType &&\n    sideLabelType === ButtonSideLabelTypes.LEFT &&\n    `\n    flex-direction: row-reverse;\n  `}\n\n  ${({ selected, theme }) =>\n    selected &&\n    `\n    color: ${theme.colors.white};\n    background-color: ${theme.colors.secondary};\n\n    svg {\n      fill: ${({ theme }) => theme.colors.secondary};\n    }\n  `}\n\n  ${HoverOrActive`\n    color: ${({ theme }) => theme.colors.white};\n    background-color: ${({ theme }) => theme.colors.secondary};\n\n    svg {\n      fill: ${({ theme }) => theme.colors.secondary};\n    }\n  `}\n\n  :disabled {\n    color: #9f9f9f;\n    background-color: #d7d7d7;\n    cursor: default;\n  }\n`;\n\n/**\n * Button style components\n */\nconst Default = styled.button`\n  ${button}\n`;\n\n/**\n * Button style components\n */\n\nconst Secondary = styled(Default)`\n  background-color: #666d77;\n\n  ${HoverOrActive`\n    background-color: #939dab;\n  `}\n`;\n\n/**\n * Button style components\n */\nconst Outline = styled.button`\n  ${button}\n\n  background: transparent;\n  border: 2px solid ${({ theme }) => theme.colors.primary};\n  color: ${({ theme }) => theme.colors.white};\n\n  ${HoverOrActive`\n    color: ${({ theme }) => theme.colors.white};\n    border: 2px solid ${({ theme }) => theme.colors.secondary};\n    background-color: ${({ theme }) => theme.colors.secondary};\n\n    svg {\n      fill: ${({ theme }) => theme.colors.secondary};\n    }\n  `}\n`;\n\nconst Rounded = styled(Outline)`\n  border-radius: 50%;\n  padding: 0 20px;\n  ${media.xsOnly`\n    padding: 0 15px;\n  `}\n`;\n\n/**\n * Button style components\n */\nconst Transparent = styled.button`\n  ${button}\n\n  background: transparent;\n  border: none;\n  outline: none;\n\n  padding: 0px 0px;\n  min-height: auto;\n\n  ${media.xsOnly`\n    padding: 0px 0px;\n  `}\n\n  ${({ selected, theme }) =>\n    selected &&\n    `\n    color: ${theme.colors.primary};\n    background-color: transparent;\n\n    svg {\n      fill: ${theme.colors.primary};\n    }\n  `}\n\n  ${HoverOrActive`\n    color: ${({ theme }) => theme.colors.primary};\n    background-color: transparent;\n\n    svg {\n      fill: ${({ theme }) => theme.colors.primary};\n    }\n  `}\n`;\n\n/**\n * Button style components\n */\nconst Liner = styled.button`\n  ${button}\n\n  background: transparent;\n  border: none;\n  border-bottom: 6px solid #00000000;\n  border-radius: 0;\n\n  padding: 20px 40px;\n\n  font-size: ${rem(14)};\n  text-transform: uppercase;\n  letter-spacing: ${rem(1.3)};\n\n  ${({ selected, theme }) =>\n    selected &&\n    `\n    color: ${theme.colors.primary};\n    background-color: transparent;\n    border-bottom: 6px solid ${theme.colors.primary};\n\n    padding: 14px 40px;\n\n    svg {\n      fill: ${theme.colors.primary};\n    }\n  `}\n\n  ${HoverOrActive`\n    color: ${({ theme }) => theme.colors.primary};\n    background-color: transparent;\n\n    svg {\n      fill: ${({ theme }) => theme.colors.primary};\n    }\n  `};\n`;\n\nexport { ButtonSideLabelTypes };\nexport default {\n  Default: ButtonFactory(Default),\n  Secondary: ButtonFactory(Secondary),\n  Outline: ButtonFactory(Outline),\n  Transparent: ButtonFactory(Transparent),\n  Liner: ButtonFactory(Liner),\n  Rounded: ButtonFactory(Rounded),\n};","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { createGlobalStyle } from 'styled-components';\n\n/**\n * Disabled scroll all over the page (body)\n * - Utils to disabled the scroll when a Modal/Overlay is open\n * - Add only this component into another component\n *\n * @exemple\n * <DisabledBodyScrollGlogalStyle />\n */\nconst DisabledBodyScrollGlogalStyle = createGlobalStyle`\n  html, body {\n    overflow: hidden !important;\n    position:fixed;\n  }\n`;\n\nexport { DisabledBodyScrollGlogalStyle };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { useEffect, useState } from 'react';\n\n/** HOOK TO GET KEY PRESS DOWN/UP\n * @exemple\n * const isPressKeyV = useKeyPress(\"v\");\n * const isPressKeyEsc = useKeyPress(Keys.ESC);\n * const isPressKeySpace = useKeyPress(Keys.SPACE);\n */\nconst useKeyPress = (keyValue) => {\n  const [isKeyPress, setKeyPress] = useState(false);\n\n  /* keydown event */\n  useEffect(() => {\n    const onDown = ({ key, code }) => {\n      if (key === keyValue || keyValue === code) setKeyPress(true);\n    };\n\n    document.addEventListener('keydown', onDown);\n    return () => document.removeEventListener('keydown', onDown);\n  }, [keyValue]);\n\n  /* keydown event */\n  useEffect(() => {\n    const onUp = ({ key, code }) => {\n      if (key === keyValue || keyValue === code) setKeyPress(false);\n    };\n\n    document.addEventListener('keyup', onUp);\n    return () => document.removeEventListener('keyup', onUp);\n  }, [keyValue]);\n\n  return isKeyPress;\n};\n\n/**\n * KEYS TYPE DICT\n */\nconst Keys = {\n  ESC: 'Escape',\n  SPACE: 'Space',\n  TAB: 'Tab',\n};\n\nexport { useKeyPress, Keys };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport PreventFocusKeyTrap from 'focus-trap-react';\nimport React, { useContext, useEffect } from 'react';\nimport styled from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\nimport { zindex } from '@styles/configs/zindex';\nimport { WrapperFullSize } from '@styles/tools';\nimport { DisabledBodyScrollGlogalStyle } from '@styles/utils/DisabledBodyScroll';\n\nimport { Keys, useKeyPress } from '@hooks/keyboard/useKeyPress';\n\nimport { OverlayContext } from '@components/overlays/OverlayProvider';\n\nconst Overlay = () => {\n  const { content, close } = useContext(OverlayContext);\n  const isKeyEscPress = useKeyPress(Keys.ESC);\n\n  // Hide main and remember last item focus before overlay\n  useEffect(() => {\n    if (!content) return;\n\n    // save last focused html element (to refocus into trigger when closing)\n    const lastItemFocus = document.activeElement;\n\n    // hide all tag behind modal (for screen reader)\n    const mainElement = document.querySelector('main');\n    mainElement && mainElement.setAttribute('aria-hidden', 'true');\n\n    // destoye all while unmounting\n    return () => {\n      lastItemFocus && lastItemFocus.focus();\n      mainElement && mainElement.removeAttribute('aria-hidden');\n    };\n  }, [content]);\n\n  // Close when ESC is pressing\n  useEffect(() => {\n    if (isKeyEscPress) {\n      close && close();\n    }\n  }, [isKeyEscPress]);\n\n  if (!content) return <></>;\n\n  return (\n    <>\n      <OverlayBg />\n      <PreventFocusKeyTrap focusTrapOptions={{ allowOutsideClick: true }}>\n        <OverlayWrapper>\n          <DisabledBodyScrollGlogalStyle />\n          <OverlayInner>{content}</OverlayInner>\n        </OverlayWrapper>\n      </PreventFocusKeyTrap>\n    </>\n  );\n};\n\nconst OverlayWrapper = styled(WrapperFullSize)`\n  position: fixed;\n  top: 100px;\n  z-index: ${zindex.overlay};\n  height: calc(100vh - 100px);\n  width: 100vw;\n  color: ${({ theme }) => theme.colors.text};\n  padding: 0;\n  overflow-y: auto;\n  -webkit-overflow-scrolling: touch;\n`;\n\nconst OverlayBg = styled.div`\n  position: absolute;\n  top: 0;\n  left: 0;\n  height: 100%;\n  width: 100%;\n  background-color: ${({ theme }) => `${theme.colors.background}`};\n  z-index: 2;\n`;\n\nconst OverlayInner = styled.div`\n  padding: 0px ${spacings.default}px 0;\n\n  @media screen and (min-height: 800px) {\n    height: 100%;\n    box-sizing: border-box;\n  }\n`;\n\nexport default Overlay;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { createContext, useState } from 'react';\n\nimport Overlay from '@components/overlays/Overlay';\n\nconst OverlayContext = createContext({\n  open: () => {},\n  close: () => {},\n  content: undefined,\n});\n\nconst OverlayProvider = ({ children }) => {\n  const [content, setContent] = useState();\n\n  const open = (content) => setContent(content);\n  const close = () => setContent(undefined);\n\n  return (\n    <OverlayContext.Provider value={{ content, open, close }}>\n      {children}\n      <Overlay />\n    </OverlayContext.Provider>\n  );\n};\n\nexport { OverlayContext };\nexport default OverlayProvider;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\n\n/**\n * Spacer\n *\n * @exemple\n * <SpacerVertical size={30px} />\n * <SpacerHorizontal size={30px} />\n */\nexport const SpacerVertical = styled.div`\n  ${(props) => css`\n    height: ${props.size ? props.size : `${spacings.default}px`};\n    width: 100%;\n  `}\n`;\n\nexport const SpacerHorizontal = styled.div`\n  ${(props) => css`\n    width: ${props.size ? props.size : `${spacings.default}px`};\n    height: 100%;\n  `}\n`;\n","var _path, _path2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgEyeStroke = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"aria-hidden\": \"true\",\n  viewBox: \"0 0 27 27\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.47 6.643c-5 0-9.27 3.11-11 7.5 1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z\"\n})), _path2 || (_path2 = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"m22.373 5.642 1.286 1.575-18.878 15.4-1.286-1.575z\"\n})));\nexport default SvgEyeStroke;","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgEye = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"aria-hidden\": \"true\",\n  viewBox: \"0 0 27 27\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M13.47 6.643c-5 0-9.27 3.11-11 7.5 1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5Zm0 12.5c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5Zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3Z\"\n})));\nexport default SvgEye;","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n/**\n * get a random string\n * @return string\n */\nconst randomString = () => {\n  return Math.random().toString(36).substring(2);\n};\n\nexport { randomString };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { memo, useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport IconEyeHide from '@assets/icons/eye-stroke.svg';\nimport IconEyeShow from '@assets/icons/eye.svg';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignLeft, FlexDisplay } from '@styles/tools';\nimport { FlexDirectionColumn } from '@styles/tools/flexs';\nimport { rem } from '@styles/utils/rem';\n\nimport { theme } from '@themes/index';\n\nimport { randomString } from '@utils/string';\n\nimport { Label } from '@components/generics/basics/Label';\nimport Button from '@components/generics/buttons/Button';\n\n/**\n * Input types\n */\nconst InputTypes = {\n  EMAIL: 'email',\n  TEXT: 'text',\n  PASSWORD: 'password',\n  RADIO: 'radio',\n};\n\n/**\n * Input base declation\n * @return JSX.Element\n */\nconst Declaration = (Input, props) => {\n  const { name, label, register, ...rest } = props;\n  const registration = register ? register(name, props.validation) : {};\n\n  return (\n    <FlexDirectionColumn.Component>\n      <InputLabel htmlFor={props.id ? props.id : name}>{label}</InputLabel>\n      <Input {...registration} {...rest} name={name} />\n    </FlexDirectionColumn.Component>\n  );\n};\n\n/**\n * Input base declation\n * @return JSX.Element\n */\nconst DeclarationPwd = (Input, props) => {\n  const { t } = useTranslation();\n  const [showPwd, setShowPwd] = useState(false);\n\n  const { name, label, register, ...rest } = props;\n  const registration = register ? register(name, props.validation) : {};\n\n  return (\n    <FlexDirectionColumn.Component>\n      <InputLabel htmlFor={props.id ? props.id : name}>{label}</InputLabel>\n      <InputPasswordWrapper>\n        <Input\n          {...registration}\n          {...rest}\n          type={showPwd ? InputTypes.TEXT : InputTypes.PASSWORD}\n        />\n        <ButtonPasswordWrapper>\n          <Button.Transparent\n            as=\"div\"\n            tabIndex={0}\n            aria-label={t('a11y:show_password')}\n            icon={\n              showPwd ? (\n                <IconEyeHide width=\"100%\" height=\"100%\" />\n              ) : (\n                <IconEyeShow width=\"100%\" height=\"100%\" />\n              )\n            }\n            selected={showPwd}\n            onClick={() => setShowPwd(!showPwd)}\n          />\n        </ButtonPasswordWrapper>\n      </InputPasswordWrapper>\n    </FlexDirectionColumn.Component>\n  );\n};\n\n/**\n * Input base declation\n * @return JSX.Element\n */\nconst DeclarationRadio = (Input, props) => {\n  const { name, label, register, ...rest } = props;\n  const registration = register ? register(name, props.validation) : {};\n\n  return (\n    <FlexAlignLeft.Component>\n      <Input {...registration} {...rest} name={name} />\n      <InputLabel htmlFor={props.id ? props.id : name}>{label}</InputLabel>\n    </FlexAlignLeft.Component>\n  );\n};\n\n/**\n * Input base with react-hook-form\n *\n * @example\n * <Input.Text\n *    name=\"email\"\n *    placeholder={'placeholder'}\n *    required\n * />\n * @return JSX.Element\n */\nconst Text = memo((props) => {\n  const { t } = useTranslation();\n\n  return Declaration(InputDefault, {\n    ...props,\n    id: props.id ?? `${InputTypes.TEXT}_${randomString()}`,\n    type: InputTypes.TEXT,\n    label: props.label ?? t('form:field:password:placeholder'),\n    'aria-invalid': props.errors ?? false,\n    'aria-required': props.required ?? false,\n    validation: {\n      required: props.required && t('form:field:error:required'),\n      ...props.validation,\n    },\n  });\n});\nText.displayName = 'InputText';\n\n/**\n * Input base with react-hook-form\n *\n * @example\n * <Input.Password\n *    name=\"email\"\n *    placeholder={'placeholder'}\n *    required\n * />\n * @return JSX.Element\n */\nconst Password = React.memo((props) => {\n  const { t } = useTranslation();\n  return DeclarationPwd(InputDefault, {\n    ...props,\n    id: props.id ?? `${InputTypes.PASSWORD}_${randomString()}`,\n    type: InputTypes.PASSWORD,\n    label: props.label ?? t('form:field:password:label'),\n    'aria-invalid': props.errors ?? false,\n    'aria-required': props.required ?? false,\n    validation: {\n      required: props.required && t('form:field:error:required'),\n      ...props.validation,\n    },\n  });\n});\nPassword.displayName = 'InputPassword';\n\n/**\n * Input base with react-hook-form\n *\n * @example\n * <Input.Email\n *    name=\"email\"\n *    placeholder={'placeholder'}\n *    required\n * />\n * @return JSX.Element\n */\nconst Email = memo((props) => {\n  const { t } = useTranslation();\n\n  return Declaration(InputDefault, {\n    ...props,\n    id: props.id ?? `${InputTypes.EMAIL}_${randomString()}`,\n    type: InputTypes.EMAIL,\n    label: props.label ?? t('form:field:email:label'),\n    'aria-invalid': props.errors ?? false,\n    'aria-required': props.required ?? false,\n    validation: {\n      required: props.required && t('form:field:error:required'),\n      pattern: {\n        value: /\\b[\\w-.+]+@[\\w.-]+\\.[a-z]{2,5}\\b/gi, // to support xxx@mepp.local\n        message: t('form:field:error:email_invalid'),\n      },\n      ...props.validation,\n    },\n  });\n});\nEmail.displayName = 'InputEmail';\n\n/**\n * Input radio base with react-hook-form\n *\n * @example\n * <Input.Radio\n *    name=\"radio\"\n *    required\n * />\n * @return JSX.Element\n */\nconst Radio = memo((props) => {\n  const { t } = useTranslation();\n\n  return DeclarationRadio(InputRadio, {\n    ...props,\n    id: props.id ?? `${InputTypes.RADIO}_${randomString()}`,\n    type: InputTypes.RADIO,\n    label: props.label ?? '',\n    'aria-invalid': props.errors ?? false,\n    'aria-required': props.required ?? false,\n    validation: {\n      required: props.required && t('form:field:error:required'),\n      ...props.validation,\n    },\n  });\n});\nRadio.displayName = 'InputRadio';\n\n/**\n * Input default\n */\nconst Input = Text;\n\n/**\n * Input style component\n */\nconst InputDefault = styled.input`\n  border: 1px solid;\n  border-radius: ${spacings.default / 2}px;\n  border-color: #948f8f;\n  color: ${({ theme }) => theme.colors.text};\n  background-color: ${({ theme }) => theme.colors.black};\n  font-weight: 400;\n  margin-top: ${spacings.default / 2}px;\n  margin-bottom: ${spacings.default * 2}px;\n  padding: ${spacings.default}px ${spacings.default * 1.5}px;\n  transition: background-color 0.5s ease, border-color 0.5s ease;\n\n  &::placeholder {\n    color: ${({ theme }) => theme.colors.text};\n  }\n\n  &:focus {\n    border-color: ${({ theme }) => theme.colors.primary};\n  }\n\n  input::-webkit-outer-spin-button,\n  input::-webkit-inner-spin-button {\n    -webkit-appearance: none;\n  }\n`;\n\nconst InputRadio = styled.input`\n  position: absolute;\n  left: -999999px;\n  border: none;\n\n  & + label {\n    position: relative;\n    display: flex;\n    align-items: center;\n    font-weight: 500;\n    font-size: ${rem(18)};\n    cursor: pointer;\n\n    &:before {\n      content: '';\n      display: block;\n      margin-right: ${spacings.default / 2}px;\n      width: 30px;\n      height: 30px;\n      border: 1px solid #cbcbcb;\n      border-radius: 100%;\n      background: transparent;\n      transition: all 0.3s ease-out;\n    }\n\n    &:after {\n      content: '';\n      display: block;\n      position: absolute;\n      width: 16px;\n      height: 16px;\n      background: ${theme.colors.secondary};\n      top: 7px;\n      left: 7px;\n      border-radius: 100%;\n      transition: all 0.3s ease-out;\n    }\n  }\n\n  &:checked + label {\n    &:after {\n      opacity: 1;\n      transform: scale(1);\n    }\n  }\n\n  &:not(:checked) + label {\n    &:after {\n      opacity: 0;\n      transform: scale(0);\n    }\n  }\n\n  &:focus-visible + label {\n    outline-width: 2px;\n    outline-offset: 4px;\n    outline-style: dotted;\n    outline-color: ${theme.colors.primary};\n    box-shadow: 0px 0px 0px 2px ${theme.colors.white};\n  }\n\n  &:focus:not(:focus-visible) {\n    outline: none;\n  }\n`;\n\n/**\n * Input label style component\n */\nconst InputLabel = styled(Label)`\n  margin-bottom: ${spacings.default / 2}px;\n\n  ${media.xsOnly`\n    margin-bottom: ${spacings.default / 4}px;\n  `}\n`;\n\n/**\n * Input fieldSet group\n */\nconst FieldSet = styled.fieldset``;\n\n/**\n * Input/Button password wrapper\n */\nconst ButtonPasswordWrapper = styled.div`\n  position: absolute;\n  right: 15px;\n  top: calc(50% - 30px);\n  ${media.xsOnly`\n    top: calc(50% - 40px);\n  `}\n`;\n\n/**\n * Input/Button password wrapper\n */\nconst InputPasswordWrapper = styled(FlexDisplay.Component)`\n  position: relative;\n  input {\n    width: 100%;\n  }\n`;\n\nexport { Input };\nexport default {\n  Text,\n  Password,\n  Email,\n  Radio,\n  FieldSet,\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useContext, useState, useCallback } from 'react';\nimport { useGetIdentity } from 'react-admin';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignCenter } from '@styles/tools';\n\nimport { useLocale } from '@hooks/locale/useLocale';\n\nimport { Language, RequestEndpoint, RequestMethod } from '@utils/constants';\nimport { fetchData } from '@utils/fetch';\n\nimport { SpacerHorizontal } from '@components/generics/basics/Spacer';\nimport Button from '@components/generics/buttons/Button';\nimport Input from '@components/generics/forms/Input';\nimport { OverlayContext } from '@components/overlays/OverlayProvider';\n\n/**\n * Language Form\n */\nconst LanguageForm = () => {\n  const { t } = useTranslation();\n  const { locale, setLocale } = useLocale();\n  const [language, setLanguage] = useState(locale);\n  const { identity } = useGetIdentity();\n  const { close } = useContext(OverlayContext);\n\n  const submit = useCallback(() => {\n    setLocale(language);\n    close();\n\n    const save = async () => {\n      const { data } = await fetchData(\n        RequestEndpoint.PROFILE,\n        { language },\n        RequestMethod.PATCH,\n      );\n\n      if (data) {\n        // Update token since e-mail and/or password have been changed.\n        if (data.token) {\n          localStorage.setItem('token', data.token);\n        }\n\n        // Update current profile\n        if (data.profile) {\n          localStorage.setItem(\n            'profile',\n            JSON.stringify({ ...identity, ...data.profile }),\n          );\n        }\n      }\n    };\n\n    save();\n  }, [language, setLocale, close]);\n\n  return (\n    <Container>\n      <InputsWrapper>\n        <Input.Radio\n          name=\"language\"\n          label=\"Franais\"\n          value={Language.FR}\n          onChange={(e) => setLanguage(e.target.value)}\n          defaultChecked={locale === Language.FR}\n        />\n        <SpacerHorizontal size={`${spacings.default * 2}px`} />\n        <Input.Radio\n          name=\"language\"\n          label=\"English\"\n          value={Language.EN}\n          onChange={(e) => setLanguage(e.target.value)}\n          defaultChecked={locale === Language.EN}\n        />\n      </InputsWrapper>\n\n      <ButtonsWrapper>\n        <Button.Outline label={t('cta:cancel')} onClick={close} />\n        <SpacerHorizontal />\n        <Button.Default label={t('cta:save')} onClick={submit} />\n      </ButtonsWrapper>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  width: 100%;\n`;\n\nconst InputsWrapper = styled(FlexAlignCenter.Component)``;\n\nconst ButtonsWrapper = styled(FlexAlignCenter.Component)`\n  margin-top: ${spacings.default * 3}px;\n`;\n\nexport default LanguageForm;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport styled, { keyframes } from 'styled-components';\n\nimport { zindex } from '@styles/configs/zindex';\nimport { FlexAlignMiddle } from '@styles/tools';\nimport { rem } from '@styles/utils/rem';\n\n/** LOADING CIRCLE\n */\nconst LoadingCircle = ({ opaque = false }) => {\n  return (\n    <LoadingWrapper opaque={opaque}>\n      <Circle />\n    </LoadingWrapper>\n  );\n};\n\n/**\n * Wrapper\n */\nconst LoadingWrapper = styled.div`\n  ${FlexAlignMiddle.CSS}\n  position: absolute;\n  background-color: ${({ opaque, theme }) =>\n    `${opaque ? theme.colors.background + 'e6' : 'transparent'}`};\n  width: 100%;\n  height: 100%;\n  top: 0;\n  left: 0;\n  z-index: ${zindex.loading};\n`;\n\n/**\n * Circle\n */\nconst Circle = styled.div`\n  position: relative;\n  box-sizing: border-box;\n  display: block;\n  width: ${rem(30)};\n  height: ${rem(30)};\n  border-radius: 100%;\n  border: 5px solid ${({ theme }) => theme.colors.primary};\n  border-color: ${({ theme }) =>\n    `${theme.colors.primary} ${theme.colors.primary} ${theme.colors.primary} transparent`};\n\n  animation-name: ${keyframes`\n    0% {\n      transform: rotate(0deg);\n    }\n    100% {\n      transform: rotate(360deg);\n    }\n  `};\n  animation-duration: 0.4s;\n  animation-iteration-count: infinite;\n  animation-timing-function: linear;\n`;\n\nexport { LoadingCircle };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { createElement, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useLocale } from '@hooks/locale/useLocale';\n\nimport Input from '@components/generics/forms/Input';\n\n/**\n * Form base with react-hook-form\n *\n * @example\n * <Form\n *  submit={submit}\n *  options={{\n *    mode: 'onBlur',\n *    reValidateMode: 'onChange',\n *  }}\n * >\n * {({ errors }) => (\n *  <>\n *    <Input.Email\n *      name=\"email\"\n *      value={email}\n *      placeholder={'placeholder'}\n *      required\n *    />\n *    {errors.email && (\n *      <p role=\"alert\" small>\n *        {errors.email.message}\n *      </p>\n *    )}\n *\n *    <button type=\"submit\">submit</button>\n *  </>\n * )}\n * </Form>\n */\nconst Form = ({ children, submit, options }) => {\n  const { register, handleSubmit, formState, trigger, watch, setValue } =\n    useForm(options);\n  const { locale } = useLocale();\n\n  const mapChildren = (child) => {\n    if (!React.isValidElement(child) || typeof child.type === 'string') {\n      return child;\n    }\n\n    if (child.type === React.Fragment) {\n      return <>{React.Children.map(child.props.children, mapChildren)}</>;\n    }\n\n    if (child.type === Input.FieldSet) {\n      return (\n        <Input.FieldSet {...child.props}>\n          {React.Children.map(child.props.children, mapChildren)}\n        </Input.FieldSet>\n      );\n    }\n\n    if (\n      child.type !== Input.Text &&\n      child.type !== Input.Email &&\n      child.type !== Input.Password &&\n      child.type !== Input.Radio\n    ) {\n      return child;\n    }\n\n    return createElement(child.type, {\n      ...child.props,\n      register,\n      errors: formState.errors[child.props.name],\n    });\n  };\n\n  const childrens = mapChildren(children(formState, watch, setValue, trigger));\n\n  // Force i18n react-hook-forme error after a locale changing\n  useEffect(() => {\n    if (Object.keys(formState.errors).length) trigger();\n  }, [locale, formState.errors, trigger]);\n\n  return (\n    <form onSubmit={handleSubmit(submit)} noValidate>\n      {childrens}\n    </form>\n  );\n};\n\nexport default React.memo(Form);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useContext, useRef, useState } from 'react';\nimport { useNotify, useGetIdentity } from 'react-admin';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignCenter } from '@styles/tools';\nimport { rem } from '@styles/utils/rem';\n\nimport { useApi } from '@hooks/useApi';\n\nimport { RequestEndpoint } from '@utils/constants';\n\nimport { LoadingCircle } from '@components/generics/LoadingCircle';\nimport { P } from '@components/generics/basics';\nimport { SpacerHorizontal } from '@components/generics/basics/Spacer';\nimport Button from '@components/generics/buttons/Button';\nimport Form from '@components/generics/forms/Form';\nimport Input from '@components/generics/forms/Input';\nimport { OverlayContext } from '@components/overlays/OverlayProvider';\n\n/**\n * Profile Form\n */\nconst ProfileForm = () => {\n  const { t } = useTranslation();\n  const { identity, isLoading: identityLoading } = useGetIdentity();\n  const { close } = useContext(OverlayContext);\n  const notify = useNotify();\n  const newpassword = useRef();\n  const oldpassword = useRef();\n  const confirmpassword = useRef();\n  const [hidePassword, setHidePassword] = useState(true);\n  const { patch, loading } = useApi(RequestEndpoint.PROFILE);\n\n  const email = (identity && identity.email) || '';\n\n  const submit = async ({ newpassword, oldpassword, email }) => {\n    const payload = { password: oldpassword, email };\n    if (!hidePassword) payload['new_password'] = newpassword;\n\n    const { data, response } = await patch(payload);\n    if (data && response.status === 200) {\n      close();\n      identity.email = email;\n\n      // Update token since e-mail and/or password have been changed.\n      if (data.token) {\n        localStorage.setItem('token', data.token);\n      }\n\n      // Update current profile\n      if (data.profile) {\n        localStorage.setItem(\n          'profile',\n          JSON.stringify({ ...identity, ...data.profile }),\n        );\n      }\n\n      notify('api.success.profile_update', { type: 'success' });\n    } else {\n      if (data && data.password)\n        notify('api.error.pwd_invalid', { type: 'error' });\n      else notify('api.error.generic', { type: 'error' });\n    }\n  };\n\n  if (identityLoading) return <></>;\n\n  return (\n    <Container>\n      <Form\n        submit={submit}\n        options={{\n          mode: 'onBlur',\n          reValidateMode: 'onChange',\n        }}\n      >\n        {({ errors }, watch, setValue) => {\n          oldpassword.current = watch('oldpassword', '');\n          newpassword.current = watch('newpassword', '');\n          confirmpassword.current = watch('confirmpassword', '');\n\n          return (\n            <>\n              <Input.Email\n                name=\"email\"\n                defaultValue={email}\n                placeholder={t('form:field:email:placeholder')}\n                required\n              />\n              {errors.email && (\n                <FieldError role=\"alert\" small>\n                  {errors.email.message}\n                </FieldError>\n              )}\n\n              <ButtonModifyWrapper>\n                <Button.Transparent\n                  label={hidePassword ? t('cta:modify') : t('cta:cancel')}\n                  as=\"div\"\n                  tabIndex={0}\n                  onClick={() => {\n                    if (hidePassword === false) {\n                      setValue('newpassword', '');\n                      setValue('confirmpassword', '');\n                    }\n                    setHidePassword(!hidePassword);\n                  }}\n                />\n              </ButtonModifyWrapper>\n\n              <Input.Password\n                name=\"oldpassword\"\n                label={t('form:field:oldpassword:label')}\n                placeholder={t('form:field:oldpassword:placeholder')}\n                required\n              />\n              {errors.oldpassword && (\n                <FieldError role=\"alert\" small>\n                  {errors.oldpassword.message}\n                </FieldError>\n              )}\n\n              <Input.FieldSet style={hidePassword ? { display: 'none' } : {}}>\n                <Input.Password\n                  name=\"newpassword\"\n                  label={t('form:field:newpassword:label')}\n                  placeholder={t('form:field:newpassword:placeholder')}\n                  required={!hidePassword && confirmpassword.current !== ''}\n                  validation={\n                    !hidePassword && {\n                      minLength: {\n                        value: process.env.PASSWORD_MIN_LEN,\n                        message: t('form:field:error:min_length', {\n                          amount: process.env.PASSWORD_MIN_LEN,\n                        }),\n                      },\n                      pattern: {\n                        value: new RegExp(\n                          `^${process.env.PASSWORD_REGEX}{${process.env.PASSWORD_MIN_LEN},}$`,\n                        ),\n                        message: t('form:field:error:pwd'),\n                      },\n                    }\n                  }\n                />\n                {errors.newpassword && (\n                  <FieldError role=\"alert\" small>\n                    {errors.newpassword.message}\n                  </FieldError>\n                )}\n\n                <Input.Password\n                  name=\"confirmpassword\"\n                  label={t('form:field:confirmpassword:label')}\n                  placeholder={t('form:field:confirmpassword:placeholder')}\n                  validation={\n                    !hidePassword && {\n                      validate: (value) =>\n                        value === newpassword.current ||\n                        t('form:field:error:pwd_not_match'),\n                    }\n                  }\n                  required={!hidePassword && newpassword.current !== ''}\n                />\n                {errors.confirmpassword && (\n                  <FieldError role=\"alert\" small>\n                    {errors.confirmpassword.message}\n                  </FieldError>\n                )}\n              </Input.FieldSet>\n\n              <ButtonsWrapper>\n                <Button.Outline label={t('cta:cancel')} onClick={close} />\n                <SpacerHorizontal />\n                <Button.Default label={t('cta:save')} type=\"submit\" />\n              </ButtonsWrapper>\n            </>\n          );\n        }}\n      </Form>\n      {loading && <LoadingCircle opaque />}\n    </Container>\n  );\n};\n\nconst Container = styled(FlexAlignCenter.Component)`\n  position: relative;\n  width: 100%;\n  form {\n    position: relative;\n    max-width: 430px;\n    width: 100%;\n  }\n`;\n\nconst ButtonsWrapper = styled(FlexAlignCenter.Component)`\n  margin-top: ${spacings.default}px;\n  margin-bottom: 50px;\n`;\n\nconst ButtonModifyWrapper = styled.div`\n  position: absolute;\n  right: 0;\n  div {\n    color: ${({ theme }) => theme.colors.primary};\n    font-size: ${rem(20)};\n    font-weight: 500;\n    -webkit-font-smoothing: antialiased;\n\n    ${media.xsOnly`\n      font-size: ${rem(15)};\n      min-height: 0;\n    `}\n  }\n`;\n\nconst FieldError = styled(P)`\n  position: absolute;\n  margin-top: -${spacings.default * 1.8}px;\n  color: ${({ theme }) => theme.colors.error};\n`;\n\nexport default ProfileForm;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useState } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignCenter } from '@styles/tools/index';\n\nimport LanguageForm from '@components/forms/LanguageForm';\nimport ProfileForm from '@components/forms/ProfileForm';\nimport { H2 } from '@components/generics/basics/Heading';\nimport Button from '@components/generics/buttons/Button';\n\n/**\n * Settings type\n */\nconst SectionType = {\n  LANGUAGE: 'languages',\n  INFOS: 'infos',\n};\n\n/**\n * Settings overlay\n */\nconst SettingsOverlay = () => {\n  const { t } = useTranslation();\n  const [section, setSection] = useState(SectionType.LANGUAGE);\n\n  return (\n    <Container>\n      <Title>{t('settings:title')}</Title>\n\n      <NavWrapper>\n        <Button.Liner\n          label={t('settings:nav:languages')}\n          onClick={() => setSection(SectionType.LANGUAGE)}\n          selected={section === SectionType.LANGUAGE}\n        />\n        <Button.Liner\n          label={t('settings:nav:infos')}\n          onClick={() => setSection(SectionType.INFOS)}\n          selected={section === SectionType.INFOS}\n        />\n      </NavWrapper>\n\n      <SectionWrapper>\n        {section === SectionType.LANGUAGE && <LanguageForm />}\n        {section === SectionType.INFOS && <ProfileForm />}\n      </SectionWrapper>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  max-width: 600px;\n  margin: 0 auto;\n`;\n\nconst Title = styled(H2)`\n  text-align: center;\n`;\n\nconst NavWrapper = styled(FlexAlignCenter.Component)`\n  border-bottom: 1px solid rgba(255, 255, 255, 0.3);\n`;\n\nconst SectionWrapper = styled.div`\n  width: 100%;\n  padding: ${spacings.default * 3}px 0;\n`;\n\nexport { SettingsOverlay };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport i18n from 'i18next';\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { useLogout } from 'react-admin';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { temporaryProfil } from '@admin/authProvider';\n\nimport IconEarth from '@assets/icons/earth.svg';\nimport IconSettings from '@assets/icons/settings.svg';\nimport Logo from '@assets/logos/logo.svg';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignMiddle, FlexDisplay } from '@styles/tools';\n\nimport { useLocale } from '@hooks/locale/useLocale';\n\nimport { Language } from '@utils/constants';\n\nimport {\n  ExerciseStep,\n  ExerciseContext,\n} from '@components/exercises/ExerciseProvider';\nimport Button from '@components/generics/buttons/Button';\nimport { ButtonSideLabelTypes } from '@components/generics/buttons/Button';\nimport { OverlayContext } from '@components/overlays/OverlayProvider';\nimport { SettingsOverlay } from '@components/overlays/SettingsOverlay';\n\n/**\n * Header with Logo and login navigation\n */\nconst Header = ({ isLogged }) => {\n  return (\n    <Container>\n      <LeftSide />\n      {!isLogged ? (\n        <RightSideWithoutLogout />\n      ) : !temporaryProfil ? (\n        <RightSideWithLogout />\n      ) : (\n        <></>\n      )}\n    </Container>\n  );\n};\n\nconst LeftSide = () => {\n  return (\n    <LeftWrapper>\n      <a href=\"/\" tabIndex=\"-1\">\n        <Logo\n          width=\"100%\"\n          height=\"100%\"\n          aria-label=\"Mirror effect plus protocol logo\"\n        />\n      </a>\n    </LeftWrapper>\n  );\n};\n\nconst RightSideWithoutLogout = () => {\n  const { locale, setLocale } = useLocale();\n\n  const switchLanguage = useCallback(() => {\n    const lang = i18n.language == Language.FR ? Language.EN : Language.FR;\n    setLocale(lang);\n  }, [locale, i18n.language]);\n\n  return (\n    <RightWrapper>\n      <Button.Transparent\n        label={i18n.language == Language.FR ? 'English ' : 'Franais'}\n        icon={<IconEarth width=\"100%\" height=\"100%\" />}\n        sideLabelType={ButtonSideLabelTypes.LEFT}\n        onClick={switchLanguage}\n      />\n    </RightWrapper>\n  );\n};\n\nconst RightSideWithLogout = () => {\n  const { t } = useTranslation();\n  const logout = useLogout();\n  const { content, open, close } = useContext(OverlayContext);\n  const [isSettingsActive, setIsSettingsActive] = useState(false);\n  const { pause, logs, exerciseStep } = useContext(ExerciseContext);\n\n  // watch overlay close to deactivate settings click state\n  useEffect(() => {\n    if (!content) setIsSettingsActive(false);\n  }, [content]);\n\n  // setting click handler\n  const handleSettingsClick = useCallback(() => {\n    // if exercises page and it is running, pause current exercise\n    if (\n      exerciseStep !== ExerciseStep.ENDED &&\n      exerciseStep !== ExerciseStep.EMPTY &&\n      exerciseStep !== ExerciseStep.COMPLETED &&\n      pause\n    ) {\n      pause();\n    }\n    isSettingsActive ? close() : open(<SettingsOverlay />);\n    setIsSettingsActive(!isSettingsActive);\n  }, [exerciseStep, isSettingsActive]);\n\n  const handleSupportClick = (e) => {\n    e.preventDefault();\n    window.location.href = '#/support';\n  };\n\n  // logout click handler\n  const handleLogoutClick = () => {\n    if (logs) {\n      logs('LOGOUT');\n      // timeout to prevent logs request cancel\n      // logs will be canceled if taken more than .5s\n      setTimeout(() => {\n        logout(true);\n      }, 500);\n    } else logout(true);\n  };\n\n  return (\n    <RightWrapper>\n      <Button.Rounded\n        aria-label={t('a11y:support')}\n        label=\"?\"\n        onClick={handleSupportClick}\n      />\n      <Button.Transparent\n        aria-label={t('a11y:settings')}\n        icon={<IconSettings width=\"100%\" height=\"100%\" />}\n        selected={isSettingsActive}\n        onClick={handleSettingsClick}\n      />\n      <Button.Outline label={t('cta:logout')} onClick={handleLogoutClick} />\n    </RightWrapper>\n  );\n};\n\nconst Container = styled.header`\n  ${FlexDisplay.CSS}\n  box-sizing: border-box;\n  padding: ${spacings.default * 2}px;\n  width: 100%;\n\n  ${media.xsOnly`\n    padding: ${spacings.default}px;\n  `}\n`;\n\nconst LeftWrapper = styled.div`\n  width: 185px;\n  height: 55px;\n\n  ${media.xsOnly`\n    width: 126px;\n  `}\n`;\n\nconst RightWrapper = styled(FlexAlignMiddle.Component)`\n  margin-left: auto;\n\n  button {\n    margin: 0 ${spacings.default}px;\n    &:first-child,\n    &:last-child {\n      margin-right: 0;\n    }\n    &:last-child {\n      margin-left: 0;\n    }\n\n    ${media.xsOnly`\n      margin: 0 ${spacings.default / 2}px;\n    `}\n  }\n`;\n\nexport { Header };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignMiddle, Wrapper } from '@styles/tools';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { useTrackingView } from '@hooks/useTrackingView';\n\nimport { Language } from '@utils/constants';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport { Footer } from '@components/footer/Footer';\nimport { H3, P, Href } from '@components/generics/basics/index';\nimport { Header } from '@components/header/Header';\n\n/**\n * Help/Support page with BasicLayout\n */\nconst HelpPage = () => {\n  const { locale } = useLocale();\n  const { t } = useTranslation();\n  useTrackingView('/privacy');\n\n  return (\n    <BasicLayout\n      header={<Header />}\n      content={\n        <ContainerWrapper>\n          <ContainerInner>\n            {locale === Language.FR ? <HelpFr t={t} /> : <HelpEn t={t} />}\n          </ContainerInner>\n        </ContainerWrapper>\n      }\n      footer={<Footer />}\n    />\n  );\n};\n\nconst HelpFr = ({ t }) => {\n  return (\n    <>\n      <H3>AIDE ET SUPPORT TECHNIQUE</H3>\n      <P>De courts tutoriels vido sont disponibles en ligne</P>\n      <ul>\n        <li>\n          <a\n            href=\"https://youtu.be/tEIdtV9QQV8\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Patients\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://youtu.be/Q0qoov-OJUM\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Cliniciens\n          </a>\n        </li>\n      </ul>\n      <br />\n      <P>\n        Pour tout problme technique avec le MEPP, veuillez nous contacter par\n        courriel  ladresse suivante en dcrivant en dtail le problme:{' '}\n        <a href=\"mailto:support@mirroreffectplus.org\">\n          support@mirroreffectplus.org\n        </a>\n      </P>\n      <b>SVP, veuillez fournir les dtails suivants:</b>\n      <ul>\n        <li>\n          La version du navigateur ou de lapplication mobile que vous utilisez\n        </li>\n        <li>\n          La version du systme dexploitation (ex: Windows 11, macOS Ventura,\n          etc)\n        </li>\n        <li>\n          Le modle de lappareil utilis (ex: PC, iPhone 8, iPad Pro, etc)\n        </li>\n      </ul>\n      <br />\n      <P>Lquipe du MEPP</P>\n\n      <ButtonsWrapper>\n        <LoginLink\n          href=\"#\"\n          onClick={(e) => {\n            e.preventDefault();\n            history.back();\n          }}\n        >\n          {t('cta:back')}\n        </LoginLink>\n      </ButtonsWrapper>\n    </>\n  );\n};\n\nconst HelpEn = ({ t }) => {\n  return (\n    <>\n      <H3>HELP AND SUPPORT</H3>\n      <P>Short video tutorials are available on line</P>\n      <ul>\n        <li>\n          <a\n            href=\"https://youtu.be/bLpt1BnjkEA\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Patients\n          </a>\n        </li>\n        <li>\n          <a\n            href=\"https://www.youtube.com/watch?v=Tux2tV9GvyI\"\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            Clinicians\n          </a>\n        </li>\n      </ul>\n      <br />\n      <P>\n        Please contact us with any technical issues with MEPP with as much\n        details as possible:{' '}\n        <a href=\"mailto:support@mirroreffectplus.org\">\n          support@mirroreffectplus.org\n        </a>\n      </P>\n      <b>Please provide the following details:</b>\n      <ul>\n        <li>Browser or app version you use</li>\n        <li>Operating system version (ex: Windows 11, macOS Ventura, etc)</li>\n        <li>The kind of device you use (ex: PC, iPhone 8, iPad Pro, etc)</li>\n      </ul>\n      <br />\n      <P>The MEPP team</P>\n\n      <ButtonsWrapper>\n        <LoginLink\n          href=\"#\"\n          onClick={(e) => {\n            e.preventDefault();\n            history.back();\n          }}\n        >\n          {t('cta:back')}\n        </LoginLink>\n      </ButtonsWrapper>\n    </>\n  );\n};\n\nconst ContainerWrapper = styled(Wrapper)`\n  position: relative;\n  padding-top: 120px;\n  padding-bottom: ${spacings.default * 2}px;\n\n  ${media.xsOnly`\n    padding-top: 0px;\n  `}\n\n  @media screen and (max-height: 850px) {\n    padding-top: 0px;\n  }\n`;\n\nconst ContainerInner = styled.div``;\n\nconst ButtonsWrapper = styled.div`\n  ${FlexAlignMiddle.CSS}\n  flex-direction: column;\n`;\n\nconst LoginLink = styled(Href)`\n  margin: ${spacings.default * 2}px 0 0;\n`;\n\nexport default HelpPage;\n","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgWarning = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"aria-hidden\": \"true\",\n  viewBox: \"0 0 48 48\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M47.748 44.52 26.148 1.22c-.814-1.628-3.48-1.628-4.294 0L.253 44.52a2.417 2.417 0 0 0 .105 2.343A2.396 2.396 0 0 0 2.398 48H45.6a2.405 2.405 0 0 0 2.148-3.48ZM21.599 19.134h4.8v14.432h-4.8V19.135Zm2.4 22.25c-1.656 0-3-1.345-3-3.007a3.005 3.005 0 0 1 3-3.007c1.656 0 3 1.347 3 3.007a3.003 3.003 0 0 1-3 3.007Z\"\n})));\nexport default SvgWarning;","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { FlexAlignCenter } from '@styles/tools';\nimport { rem } from '@styles/utils/rem';\n\n/**\n * Temporary Banner\n */\nconst TemporaryProfilBanner = () => {\n  const { t } = useTranslation();\n  return <Container>{t('temporaryProfile:label')}</Container>;\n};\n\nconst Container = styled(FlexAlignCenter.Component)`\n  padding: 5px;\n  font-size: ${rem(12)};\n  color: ${({ theme }) => theme.colors.text};\n  background-color: ${({ theme }) => theme.colors.tertiary};\n`;\n\nexport { TemporaryProfilBanner };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useEffect, useState } from 'react';\nimport { Authenticated } from 'react-admin';\nimport { WithPermissions } from 'react-admin';\n\nimport { temporaryProfil } from '@admin/authProvider';\nimport { authTemporaryToken } from '@admin/authProvider';\n\nimport { TemporaryProfilBanner } from '@components/header/TemporaryProfilBanner';\n\n/**\n * Protect pages that need authenticated users like /mirror page\n * @param Page Component\n */\nconst withAuth = (Component) => {\n  return function withAuth(props) {\n    return (\n      <Authenticated location={props.location}>\n        <Main>\n          <WithPermissions\n            location={props.location}\n            render={({ permissions }) =>\n              permissions === 'user' || permissions === 'admin' ? (\n                <>\n                  {temporaryProfil && <TemporaryProfilBanner />}\n                  <Component {...props} />\n                </>\n              ) : null\n            }\n          />\n        </Main>\n      </Authenticated>\n    );\n  };\n};\n\nconst Main = (props) => {\n  const [children, setChildren] = useState();\n\n  useEffect(() => {\n    async function handleTokens() {\n      const queries = new URLSearchParams(window.location.search);\n      const token = queries.get('tt');\n\n      if (token) {\n        await authTemporaryToken(token);\n        setChildren(props.children);\n      } else setChildren(props.children);\n    }\n    handleTokens();\n  }, []);\n\n  return <div>{children}</div>;\n};\n\nexport default withAuth;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useState } from 'react';\nimport { useGetIdentity } from 'react-admin';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { temporaryProfil } from '@admin/authProvider';\n\nimport Warning from '@assets/icons/warning.svg';\n\nimport { spacings } from '@styles/configs/spacings';\nimport { WrapperFullSizeMiddle } from '@styles/tools';\n\nimport withAuth from '@hocs/withAuth';\n\nimport { useTrackingView } from '@hooks/useTrackingView';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport { Footer } from '@components/footer/Footer';\nimport { H2, P } from '@components/generics/basics';\nimport Button from '@components/generics/buttons/Button';\nimport { Header } from '@components/header/Header';\n\n/**\n * Intro page with BasicLayout\n */\nconst IntroPage = () => {\n  const { t } = useTranslation();\n  const { identity, isLoading: identityLoading } = useGetIdentity();\n  const navigate = useNavigate();\n  const [permissionAuthorize, setPermissionAuthorize] = useState(false);\n  const [permissionDenied, setPermissionDenied] = useState(false);\n  useTrackingView('/introduction');\n\n  const name = (identity && identity.first_name) || '';\n\n  /**\n   * Camera permission validation\n   */\n  const onCheckCameraPermission = async () => {\n    const permission =\n      navigator.permissions &&\n      (await navigator.permissions\n        .query({ name: 'camera' })\n        .then((permission) => {\n          return permission;\n        })\n        .catch(() => {\n          return false;\n        }));\n\n    if (permission) {\n      if (permission.state === 'granted') navigate('/mirror');\n      else if (permission.state === 'denied') setPermissionDenied(true);\n      else setPermissionAuthorize(true);\n    } else setPermissionAuthorize(true);\n  };\n\n  if (identityLoading) return <></>;\n\n  return (\n    <BasicLayout\n      header={<Header isLogged />}\n      content={\n        <ContainerWrapper>\n          <ContainerInner>\n            {!permissionDenied && !permissionAuthorize && (\n              <>\n                <Title>{t('intro:title', { name })}</Title>\n                <Introduction xlarge>{t('intro:introduction')}</Introduction>\n                <Instruction medium>{t('intro:instruction')}</Instruction>\n                <ButtonStart\n                  label={t('cta:start')}\n                  onClick={onCheckCameraPermission}\n                />\n                {temporaryProfil && (\n                  <ButtonEffect\n                    label={t('cta:settings')}\n                    onClick={() => {\n                      navigate('/mirror-settings');\n                    }}\n                  />\n                )}\n              </>\n            )}\n            {permissionAuthorize && <PermissionAuthorize />}\n            {permissionDenied && <PermissionDenied />}\n          </ContainerInner>\n        </ContainerWrapper>\n      }\n      footer={<Footer />}\n    />\n  );\n};\n\n/**\n * Permission step\n * @returns JSX\n */\nconst PermissionDenied = () => {\n  const { t } = useTranslation();\n\n  return (\n    <>\n      <IconWarning width=\"48\" height=\"48\" />\n      <Title>{t('permission:title')}</Title>\n      <Introduction xlarge>{t('permission:introduction')}</Introduction>\n      <Instruction medium>{t('permission:instruction')}</Instruction>\n    </>\n  );\n};\n\n/**\n * Permission step\n * @returns JSX\n */\nconst PermissionAuthorize = () => {\n  const { t } = useTranslation();\n  const navigate = useNavigate();\n\n  return (\n    <>\n      <IconWarning width=\"48\" height=\"48\" />\n      <Title>{t('permission:title')}</Title>\n      <Introduction xlarge>{t('permission:introduction')}</Introduction>\n      <ButtonPermission\n        label={t('cta:authorize')}\n        onClick={() => navigate('/mirror')}\n      />\n    </>\n  );\n};\n\nconst ContainerWrapper = styled(WrapperFullSizeMiddle)`\n  min-height: 50vh;\n`;\n\nconst ContainerInner = styled.div`\n  text-align: center;\n  width: 100%;\n  max-width: 1000px;\n`;\n\nconst Title = styled(H2)``;\n\nconst Introduction = styled(P)`\n  font-weight: 400;\n  margin-bottom: ${spacings.default * 2}px;\n`;\n\nconst ButtonStart = styled(Button.Default)`\n  margin: ${spacings.default * 2}px auto 0;\n`;\n\nconst ButtonPermission = styled(Button.Default)`\n  margin: 0 auto;\n`;\n\nconst ButtonEffect = styled(Button.Outline)`\n  margin: ${spacings.default * 2}px auto 0;\n`;\n\nconst Instruction = styled(P)`\n  font-weight: 600;\n  color: ${({ theme }) => theme.colors.accent};\n  margin: auto auto;\n  max-width: 650px;\n`;\n\nconst IconWarning = styled(Warning)`\n  margin-bottom: ${spacings.default}px;\n  fill: ${({ theme }) => theme.colors.primary};\n`;\n\nexport default withAuth(IntroPage);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useState } from 'react';\nimport { useNotify } from 'react-admin';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignCenter, FlexAlignMiddle } from '@styles/tools';\n\nimport { useApi } from '@hooks/useApi';\n\nimport { RequestEndpoint } from '@utils/constants';\n\nimport { LoadingCircle } from '@components/generics/LoadingCircle';\nimport { H2, P, Href } from '@components/generics/basics';\nimport Button from '@components/generics/buttons/Button';\nimport Form from '@components/generics/forms/Form';\nimport Input from '@components/generics/forms/Input';\n\n/**\n * Forgot Password Form\n */\nconst ForgotPwdForm = ({ onSwitch }) => {\n  const { t } = useTranslation();\n  const notify = useNotify();\n  const [email, setEmail] = useState('');\n  const [success, setSuccess] = useState(false);\n  const { post, loading } = useApi(RequestEndpoint.RESET_PWD);\n\n  const submit = async ({ email }) => {\n    setEmail(email);\n    const { data } = await post({ email });\n    // always success message even if email is not found\n    if (data) setSuccess(true);\n    else notify('api.error.generic', {type: 'error'});\n  };\n\n  return (\n    <>\n      <Title>{t('form:forgot_password:title')}</Title>\n\n      {success ? (\n        <>\n          <Introduction\n            xlarge\n            dangerouslySetInnerHTML={{\n              __html: t('form:forgot_password:success', {\n                email,\n              }),\n            }}\n          />\n          <ButtonWrapper>\n            <Button.Default label={t('cta:goto_login')} onClick={onSwitch} />\n          </ButtonWrapper>\n        </>\n      ) : (\n        <>\n          <Introduction xlarge>\n            {t('form:forgot_password:introduction')}\n          </Introduction>\n\n          <FormWrapper>\n            <Form\n              submit={submit}\n              options={{\n                mode: 'onBlur',\n                reValidateMode: 'onChange',\n              }}\n            >\n              {({ errors }) => (\n                <>\n                  <Input.Email\n                    name=\"email\"\n                    placeholder={t('form:field:email:placeholder')}\n                    required\n                  />\n                  {errors.email && (\n                    <FieldError role=\"alert\" small>\n                      {errors.email.message}\n                    </FieldError>\n                  )}\n\n                  <ButtonWrapper>\n                    <Button.Default label={t('cta:send')} type=\"submit\" />\n                    <LoginLink\n                      href=\"#\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        onSwitch();\n                      }}\n                    >\n                      {t('cta:goto_login')}\n                    </LoginLink>\n                  </ButtonWrapper>\n                </>\n              )}\n            </Form>\n            {loading && <LoadingCircle opaque />}\n          </FormWrapper>\n        </>\n      )}\n    </>\n  );\n};\n\nconst Title = styled(H2)`\n  text-align: center;\n`;\n\nconst Introduction = styled(P)`\n  text-align: center;\n  font-weight: 400;\n  margin-bottom: ${spacings.default * 2}px;\n\n  span {\n    color: ${({ theme }) => `${theme.colors.secondary}`};\n  }\n`;\n\nconst FormWrapper = styled(FlexAlignCenter.Component)`\n  position: relative;\n  width: 100%;\n\n  form {\n    width: 100%;\n    max-width: 430px;\n  }\n`;\n\nconst ButtonWrapper = styled.div`\n  ${FlexAlignMiddle.CSS}\n  flex-direction: column;\n`;\n\nconst LoginLink = styled(Href)`\n  margin: ${spacings.default * 2}px 0 0;\n`;\n\nconst FieldError = styled(P)`\n  position: absolute;\n  margin-top: -${spacings.default * 1.8}px;\n  color: ${({ theme }) => theme.colors.error};\n`;\n\nexport default ForgotPwdForm;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useState } from 'react';\nimport { useLogin, useNotify } from 'react-admin';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignCenter, FlexAlignMiddle } from '@styles/tools';\n\nimport { LoadingCircle } from '@components/generics/LoadingCircle';\nimport { H2, Href, P } from '@components/generics/basics';\nimport Button from '@components/generics/buttons/Button';\nimport Form from '@components/generics/forms/Form';\nimport Input from '@components/generics/forms/Input';\n\n/**\n * Login Form\n */\nconst LoginForm = ({ onSwitch }) => {\n  const { t } = useTranslation();\n  const login = useLogin();\n  const notify = useNotify();\n  const [loading, setLoading] = useState(false);\n\n  const submit = (data) => {\n    setLoading(true);\n    login(data).catch(() => {\n      setLoading(false);\n      notify('form.field.error.login_invalid', {type: 'error'});\n    });\n  };\n\n  return (\n    <>\n      <Title>{t('form:login:title')}</Title>\n\n      <FormWrapper>\n        <Form\n          submit={submit}\n          options={{\n            mode: 'onBlur',\n            reValidateMode: 'onChange',\n          }}\n        >\n          {({ errors }) => (\n            <>\n              <Input.Email\n                name=\"username\"\n                placeholder={t('form:field:email:placeholder')}\n                required\n              />\n              {errors.username && (\n                <FieldError role=\"alert\" small>\n                  {errors.username.message}\n                </FieldError>\n              )}\n\n              <Input.Password\n                name=\"password\"\n                placeholder={t('form:field:password:placeholder')}\n                required\n              />\n              {errors.password && (\n                <FieldError role=\"alert\" small>\n                  {errors.password.message}\n                </FieldError>\n              )}\n\n              <ButtonWrapper>\n                <Button.Default label={t('cta:login')} type=\"submit\" />\n                <LinkPassword\n                  href=\"#\"\n                  onClick={(e) => {\n                    e.preventDefault();\n                    onSwitch();\n                  }}\n                >\n                  {t('cta:goto_forgot_password')}\n                </LinkPassword>\n              </ButtonWrapper>\n            </>\n          )}\n        </Form>\n        {loading && <LoadingCircle opaque />}\n      </FormWrapper>\n    </>\n  );\n};\n\nconst Title = styled(H2)`\n  text-align: center;\n`;\n\nconst FormWrapper = styled(FlexAlignCenter.Component)`\n  position: relative;\n  width: 100%;\n\n  form {\n    width: 100%;\n    max-width: 430px;\n  }\n`;\n\nconst ButtonWrapper = styled.div`\n  ${FlexAlignMiddle.CSS}\n  flex-direction: column;\n`;\n\nconst LinkPassword = styled(Href)`\n  margin: ${spacings.default * 2}px 0 0;\n`;\n\nconst FieldError = styled(P)`\n  position: absolute;\n  margin-top: -${spacings.default * 1.8}px;\n  color: ${({ theme }) => theme.colors.error};\n`;\n\nexport default LoginForm;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\n\nimport { WrapperFullSizeMiddle } from '@styles/tools';\n\nimport { useTrackingView } from '@hooks/useTrackingView';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport { Footer } from '@components/footer/Footer';\nimport ForgotPwd from '@components/forms/ForgotPwdForm';\nimport LoginForm from '@components/forms/LoginForm';\nimport { Header } from '@components/header/Header';\n\n/**\n * Login / ForgotPwd page with BasicLayout\n */\nconst LoginPage = () => {\n  const [switchForm, setSwitchForm] = useState(false);\n  useTrackingView('/login');\n\n  return (\n    <BasicLayout\n      header={<Header />}\n      content={\n        <ContainerWrapper>\n          <ContainerInner>\n            {!switchForm && <LoginForm onSwitch={() => setSwitchForm(true)} />}\n            {switchForm && <ForgotPwd onSwitch={() => setSwitchForm(false)} />}\n          </ContainerInner>\n        </ContainerWrapper>\n      }\n      footer={<Footer />}\n    />\n  );\n};\n\nconst ContainerWrapper = styled(WrapperFullSizeMiddle)`\n  min-height: 50vh;\n`;\n\nconst ContainerInner = styled.div`\n  width: 100%;\n  max-width: 600px;\n`;\n\nexport default LoginPage;\n","var _circle, _circle2;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgCircle = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"aria-hidden\": \"true\",\n  viewBox: \"0 0 112 112\"\n}, props), _circle || (_circle = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 56,\n  cy: 56,\n  r: 53,\n  fill: \"transparent\",\n  className: \"circle_svg__bg\"\n})), _circle2 || (_circle2 = /*#__PURE__*/React.createElement(\"circle\", {\n  cx: 56,\n  cy: 56,\n  r: 53,\n  fill: \"transparent\",\n  className: \"circle_svg__progress\"\n})));\nexport default SvgCircle;","var _path;\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\nimport * as React from \"react\";\nconst SvgThumbup = props => /*#__PURE__*/React.createElement(\"svg\", _extends({\n  xmlns: \"http://www.w3.org/2000/svg\",\n  \"aria-hidden\": \"true\",\n  viewBox: \"0 0 27 27\"\n}, props), _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23.806 9.226a.978.978 0 0 1 .964 1.153l-1.958 10.767a.98.98 0 0 1-.963.804h-7.83a.957.957 0 0 1-.363-.07l-3.552-1.419v-9.278l3.015-6.259a.979.979 0 0 1 .9-.592h2.937a.98.98 0 0 1 .979.979v3.915h5.871Zm-20.553.978h3.915c.541 0 .978.44.978.979v9.788c0 .54-.437.979-.978.979H3.253a.979.979 0 0 1-.979-.979v-9.788a.98.98 0 0 1 .979-.979Z\"\n})));\nexport default SvgThumbup;","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport styled, { css } from 'styled-components';\n\n/** VisibleHidden\n * Show tag only for a11y and screen reader\n * @exemple\n * <VisibleHidden />\n * <VisibleHidden as=\"h3\"/>\n */\nexport const VisibleHidden = styled.h2`\n  ${() => css`\n    clip: rect(0 0 0 0);\n    clip-path: inset(50%);\n    height: 1px;\n    overflow: hidden;\n    position: absolute;\n    white-space: nowrap;\n    width: 1px;\n  `}\n`;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport Circle from '@assets/graphics/circle.svg';\nimport IconThumbup from '@assets/icons/thumbup.svg';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { FlexAlignMiddle } from '@styles/tools/index';\nimport { VisibleHidden } from '@styles/utils/VisibleHidden';\nimport { rem } from '@styles/utils/rem';\n\nimport { ExerciseStep, ExerciseContext } from './ExerciseProvider';\n\nconst Timer = ({ value, showvalue, start, done }) => {\n  const [time, setTime] = useState(value);\n  const [progress, setProgress] = useState(0);\n  const [started, setStarted] = useState(false);\n  const { exerciseStep } = useContext(ExerciseContext);\n\n  const circumference = 53 * 2 * Math.PI; // 53 = radius from svg circle\n\n  /**\n   * Called when Ticker has done\n   */\n  const onDone = () => {\n    setTime(0);\n    setProgress(1);\n    setStarted(false);\n    setTimeout(() => {\n      done && done();\n    }, 100);\n  };\n\n  /**\n   * Mounting Tick timer\n   */\n  useEffect(() => {\n    if (!started || !time) return;\n\n    const onTime = () => {\n      const newtime = time - 1;\n      const newprogress = 1 - (newtime - 1) / value;\n\n      if (newtime <= 0) onDone();\n      else {\n        setTime(newtime);\n        setProgress(newprogress);\n      }\n    };\n\n    const timer = setTimeout(onTime, 1000);\n\n    return () => {\n      clearTimeout(timer);\n    };\n  }, [started, time]);\n\n  /**\n   * Mounting init / start\n   */\n  useEffect(() => {\n    if (!start) {\n      if (\n        exerciseStep !== ExerciseStep.PAUSED &&\n        exerciseStep !== ExerciseStep.STARTED\n      ) {\n        setProgress(0);\n      }\n      setStarted(false);\n    } else {\n      if (!progress) setProgress(1 / value);\n      else if (\n        exerciseStep !== ExerciseStep.PAUSED &&\n        exerciseStep !== ExerciseStep.STARTED\n      ) {\n        setProgress(0);\n      }\n      setTimeout(() => {\n        setStarted(true);\n      }, 1);\n    }\n  }, [start, exerciseStep]);\n\n  /**\n   * Mounting new value timer\n   */\n  useEffect(() => {\n    setTime(value);\n    setProgress(0);\n  }, [value]);\n\n  return (\n    <Container>\n      {exerciseStep === ExerciseStep.COMPLETED && (\n        <Thumbup width=\"100%\" height=\"100%\" />\n      )}\n      {!showvalue && <Center />}\n      {showvalue && <Value>{time}</Value>}\n      <Bar aria-hidden progress={progress ?? 0} circ={circumference} />\n      <VisibleHidden as=\"div\">\n        <meter value={Math.floor((progress ?? 0) * 100)} min=\"0\" max=\"100\" />\n      </VisibleHidden>\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  position: relative;\n  width: 100%;\n  height: 100%;\n`;\n\nconst Center = styled.div`\n  position: absolute;\n  top: calc(50% - 7px);\n  left: calc(50% - 7px);\n\n  width: 14px;\n  height: 14px;\n\n  background: ${({ theme }) => theme.colors.primary};\n  border-radius: 50%;\n\n  ${media.xsOnly`\n    top: calc(50% - 4px);\n    left: calc(50% - 4px);\n    width: 8px;\n    height: 8px;\n  `}\n`;\n\nconst Thumbup = styled(IconThumbup)`\n  position: absolute;\n  top: calc(50% - 25px);\n  left: calc(50% - 25px);\n\n  width: 50px;\n  height: 50px;\n\n  fill: ${({ theme }) => theme.colors.primary};\n\n  ${media.xsOnly`\n    top: calc(50% - 12px);\n    left: calc(50% - 12px);\n    width: 24px;\n    height: 24px;\n  `}\n`;\n\nconst Value = styled.h4`\n  ${FlexAlignMiddle.CSS}\n\n  position: absolute;\n  left: 0;\n  top: 0;\n\n  width: 100%;\n  height: 100%;\n\n  font-weight: 700;\n  font-size: ${rem(35)};\n\n  color: ${({ theme }) => theme.colors.white};\n\n  ${media.xsOnly`\n    font-size: ${rem(20)};\n  `}\n`;\n\nconst Bar = styled(Circle)`\n  height: 100%;\n\n  .circle_svg__bg {\n    stroke-width: 6px;\n    stroke: #686868;\n  }\n\n  .circle_svg__progress {\n    transition: 1s stroke-dashoffset linear;\n    transform: rotate(-90deg);\n    transform-origin: 50% 50%;\n    stroke-width: 6px;\n    stroke: ${({ theme }) => theme.colors.primary};\n    stroke-dasharray: ${({ circ }) => `${circ}px ${circ}px`};\n    stroke-dashoffset: ${({ circ, progress }) => `${circ - progress * circ}px`};\n  }\n`;\n\nexport { Timer };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useContext } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport {\n  FlexAlignCenter,\n  FlexAlignMiddle,\n  FlexDisplay,\n} from '@styles/tools/index';\nimport { rem } from '@styles/utils/rem';\n\nimport { useLocale } from '@hooks/locale/useLocale';\n\nimport { LoadingCircle } from '@components/generics/LoadingCircle';\nimport { P } from '@components/generics/basics';\nimport { SpacerHorizontal } from '@components/generics/basics/Spacer';\nimport Button from '@components/generics/buttons/Button';\n\nimport { ExerciseStep, ExerciseContext } from './ExerciseProvider';\nimport { Timer } from './Timer';\n\n/**\n * Exercise steps\n */\nconst Exercise = () => {\n  const { exerciseStep, exerciseLoading, exerciseReady } =\n    useContext(ExerciseContext);\n\n  return (\n    <Container>\n      <Background\n        show={exerciseStep !== ExerciseStep.STARTED}\n        opaque={exerciseStep === ExerciseStep.EMPTY}\n      />\n      <ExerciseWrapper>\n        <ExerciseInner\n          alignBottom={exerciseStep === ExerciseStep.STARTED}\n          type={exerciseStep}\n        >\n          {exerciseReady ? (\n            exerciseStep === ExerciseStep.INITIATED ||\n            exerciseStep === ExerciseStep.STARTED ||\n            exerciseStep === ExerciseStep.PAUSED ? (\n              <CurrentExercise />\n            ) : exerciseStep === ExerciseStep.WAITED ? (\n              <WaitingExercise />\n            ) : exerciseStep === ExerciseStep.COMPLETED ? (\n              <CompletingExercise />\n            ) : exerciseStep === ExerciseStep.EMPTY ? (\n              <EmptyExercise />\n            ) : (\n              <EndingExercise />\n            )\n          ) : (\n            (exerciseLoading || !exerciseReady) && <LoadingCircle />\n          )}\n        </ExerciseInner>\n      </ExerciseWrapper>\n    </Container>\n  );\n};\n\n/**\n * Current Exercise (active exercise)\n */\nconst CurrentExercise = () => {\n  const { t } = useTranslation();\n  const { start, pause, skip, wait, exercise, exerciseStep } =\n    useContext(ExerciseContext);\n  const { locale } = useLocale();\n\n  return (\n    <>\n      <TextExercise type={exerciseStep}>\n        <TimerWrapper>\n          <Timer\n            value={exercise.durationTime}\n            start={exerciseStep === ExerciseStep.STARTED}\n            done={wait}\n          />\n        </TimerWrapper>\n\n        <TextWrapper>\n          <Progress>\n            {t('exercise:name')}&nbsp;{exercise.number}\n            &nbsp;/&nbsp;\n            {exercise.length}\n          </Progress>\n          <Text>{exercise.text[locale]}</Text>\n        </TextWrapper>\n\n        <ButtonsWrapper>\n          <Button.Outline label={t('cta:skip_exercise')} onClick={skip} />\n          <SpacerHorizontal />\n          {exerciseStep === ExerciseStep.INITIATED && (\n            <Button.Default label={t('cta:start_exercise')} onClick={start} />\n          )}\n          {exerciseStep === ExerciseStep.PAUSED && (\n            <Button.Default label={t('cta:restart_exercise')} onClick={start} />\n          )}\n          {exerciseStep === ExerciseStep.STARTED && (\n            <Button.Outline label={t('cta:pause_exercise')} onClick={pause} />\n          )}\n        </ButtonsWrapper>\n      </TextExercise>\n    </>\n  );\n};\n\n/**\n * Waiting Exercise (pause exercise)\n */\nconst WaitingExercise = () => {\n  const { t } = useTranslation();\n  const { exercise, exerciseStep, repeat } = useContext(ExerciseContext);\n\n  return (\n    <>\n      <TextExercise type={exerciseStep}>\n        <TimerWrapper>\n          <Timer value={exercise.pauseTime} showvalue start done={repeat} />\n        </TimerWrapper>\n\n        <TextWrapper>\n          <Progress>\n            {t('exercise:name')}&nbsp;{exercise.number}\n            &nbsp;/&nbsp;\n            {exercise.length}\n          </Progress>\n          <Text>{t('exercise:rest')}</Text>\n        </TextWrapper>\n      </TextExercise>\n    </>\n  );\n};\n\n/**\n * Completing Exercice (complete exercise)\n */\nconst CompletingExercise = () => {\n  const { t } = useTranslation();\n  const { next, exercise, exerciseStep } = useContext(ExerciseContext);\n\n  return (\n    <>\n      <TextExercise type={exerciseStep}>\n        <TimerWrapper>\n          <Timer showvalue={false} />\n        </TimerWrapper>\n\n        <TextWrapper>\n          <Progress>\n            {t('exercise:name')}&nbsp;{exercise.number}\n            &nbsp;/&nbsp;\n            {exercise.length}\n          </Progress>\n          <Text>{t('exercise:complete')}</Text>\n        </TextWrapper>\n\n        <ButtonsWrapper>\n          <Button.Outline label={t('cta:next_exercise')} onClick={next} />\n        </ButtonsWrapper>\n      </TextExercise>\n    </>\n  );\n};\n\n/**\n * Done Exercice (ending)\n */\nconst EndingExercise = () => {\n  const { t } = useTranslation();\n  const { restart } = useContext(ExerciseContext);\n\n  // click handler\n  const handleClick = () => restart();\n\n  return (\n    <TextCentredWrapper>\n      <EndingMessage xlarge>{t('exercise:end')}</EndingMessage>\n      <ButtonExit label={t('cta:restart')} onClick={handleClick} />\n    </TextCentredWrapper>\n  );\n};\n\n/**\n * Empty Exercice (empty)\n */\nconst EmptyExercise = () => {\n  const { t } = useTranslation();\n\n  return (\n    <TextCentredWrapper>\n      <EndingMessage xlarge>{t('exercise:empty')}</EndingMessage>\n    </TextCentredWrapper>\n  );\n};\n\nconst Container = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100vw;\n  height: 100%;\n`;\n\nconst Background = styled.div`\n  position: absolute;\n  top: 0;\n\n  width: 100%;\n  height: 100%;\n\n  transition: background-color 0.5s linear;\n  background-color: ${({ theme, show }) =>\n    !show ? `${theme.colors.background}00` : `${theme.colors.background}f5`};\n  ${({ theme, opaque }) =>\n    opaque && `background-color: ${theme.colors.background}`};\n\n  z-index: 0;\n`;\n\nconst ExerciseWrapper = styled(FlexAlignMiddle.Component)`\n  position: absolute;\n  width: 100%;\n  height: 100%;\n  z-index: 1;\n`;\n\nconst ExerciseInner = styled(FlexDisplay.Component)`\n  flex-wrap: wrap;\n\n  position: relative;\n  box-sizing: border-box;\n  padding: 0 ${spacings.default * 2}px;\n  max-width: 1200px;\n\n  ${({ type }) =>\n    type !== ExerciseStep.ENDED &&\n    type !== ExerciseStep.EMPTY &&\n    type !== ExerciseStep.WAITED &&\n    `width: 100%;`}\n\n  ${({ type }) =>\n    (type === ExerciseStep.ENDED ||\n      type === ExerciseStep.EMPTY ||\n      type === ExerciseStep.WAITED) &&\n    `justify-content: center;`}\n\n  ${({ alignBottom }) =>\n    alignBottom\n      ? `position: absolute;\n      bottom:${spacings.default * 1.5}px;`\n      : ``}\n\n  ${media.xsOnly`\n    padding: 0 ${spacings.default}px;\n  `}\n`;\n\nconst TextExercise = styled(FlexDisplay.Component)`\n  width: 100%;\n\n  ${media.xsOnly`\n    flex-wrap: wrap;\n    ${({ type }) => type === ExerciseStep.WAITED && `flex-wrap: nowrap;`}\n  `}\n`;\n\nconst TimerWrapper = styled.div`\n  width: 100px;\n  height: 100px;\n  align-self: center;\n\n  ${media.xsOnly`\n    width: 67px;\n    height: 67px;\n  `}\n`;\n\nconst TextWrapper = styled.div`\n  align-self: center;\n  margin: 0 ${spacings.default * 2}px;\n\n  ${media.xsOnly`\n    margin: 0 0 0 20px;\n    width: 70%;\n  `}\n`;\n\nconst TextCentredWrapper = styled(TextWrapper)`\n  margin: 0 auto;\n\n  ${media.xsOnly`\n    width: 100%;\n  `}\n`;\n\nconst Progress = styled.h3`\n  font-weight: 700;\n  font-size: ${rem(14)};\n  letter-spacing: ${rem(2)};\n  text-transform: uppercase;\n\n  margin: 0;\n  margin-bottom: ${spacings.default}px;\n`;\n\nconst Text = styled.p`\n  font-weight: 700;\n  font-size: ${rem(24)};\n  max-width: 600px;\n\n  ${media.xsOnly`\n    font-size: ${rem(15)};\n  `}\n`;\n\nconst ButtonsWrapper = styled(FlexAlignCenter.Component)`\n  align-self: center;\n  margin: 0 0 0 auto;\n\n  ${media.xsOnly`\n    justify-content: flex-start;\n    margin: 20px 0 0 0;\n    width:100%;\n  `}\n`;\n\nconst EndingMessage = styled(P)`\n  text-align: center;\n  font-weight: 400;\n\n  margin: auto auto ${spacings.default * 2}px;\n  max-width: 650px;\n`;\n\nconst ButtonExit = styled(Button.Default)`\n  margin: 0 auto;\n`;\n\nexport default Exercise;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignCenter, FlexAlignMiddle } from '@styles/tools/index';\n\nimport { H2 } from '@components/generics/basics/Heading';\nimport Button from '@components/generics/buttons/Button';\n\n/**\n * Confirm Overlay\n */\nconst ConfirmOverlay = (props) => {\n  const { t } = useTranslation();\n  const close = props.close ? props.close : () => {};\n  const confirm = props.confirm ? props.confirm : () => {};\n\n  return (\n    <ContainerWrapper>\n      <Container>\n        <Title\n          dangerouslySetInnerHTML={{ __html: t('GUI:confirm:title') }}\n        ></Title>\n        <NavWrapper>\n          <Button.Default label={t('cta:cancel')} onClick={close} />\n          <Button.Outline label={t('cta:confirm')} onClick={confirm} />\n        </NavWrapper>\n      </Container>\n    </ContainerWrapper>\n  );\n};\n\nconst ContainerWrapper = styled(FlexAlignMiddle.Component)`\n  width: 100%;\n  height: calc(100vh - 200px);\n  background-color: ${({ theme }) => `${theme.colors.background}`};\n`;\n\nconst Container = styled.div`\n  max-width: 600px;\n  margin: 0 auto;\n`;\n\nconst Title = styled(H2)`\n  text-align: center;\n`;\n\nconst NavWrapper = styled(FlexAlignCenter.Component)`\n  gap: ${spacings.default}px;\n`;\n\nexport { ConfirmOverlay };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport GUI from 'lil-gui';\nimport React, {\n  useRef,\n  useEffect,\n  useState,\n  useContext,\n  useCallback,\n  createContext,\n} from 'react';\nimport { useNotify, useGetIdentity } from 'react-admin';\nimport { useTranslation } from 'react-i18next';\nimport { useNavigate } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\n\nimport { useApi } from '@hooks/useApi';\n\nimport { RequestEndpoint } from '@utils/constants';\n\nimport { LoadingCircle } from '@components/generics/LoadingCircle';\nimport Button from '@components/generics/buttons/Button';\nimport { OverlayContext, ConfirmOverlay } from '@components/overlays';\n\n/**\n * GUI DEFAULTS\n */\nconst defaultPosition = { x: 0, y: 0, z: 0 };\nconst defaultRotation = { x: 0, y: 0, z: 0 };\nconst defaultScale = { x: 1, y: 1, z: 1 };\n\n/**\n * GUI CONTEXT\n */\nconst GUIContext = createContext({\n  position: { ...defaultPosition },\n  rotation: { ...defaultRotation },\n  scale: { ...defaultScale },\n});\n\n/**\n * GUI PROVIDER\n */\nconst GUIProvider = ({ children }) => {\n  const { t } = useTranslation();\n  const notify = useNotify();\n  const navigate = useNavigate();\n  const { open, close } = useContext(OverlayContext);\n  const { identity, isLoading: identityLoading } = useGetIdentity();\n  const { patch, loading } = useApi(RequestEndpoint.SETTINGS);\n  const [position, setPosition] = useState({ ...defaultPosition });\n  const [rotation, setRotation] = useState({ ...defaultRotation });\n  const [scale, setScale] = useState({ ...defaultScale });\n  const [ready, setReady] = useState(false);\n  const guiRef = useRef(null);\n\n  const onChangePosition = useCallback(\n    (obj) => {\n      setPosition({ ...obj });\n    },\n    [setPosition, identity],\n  );\n\n  const onChangeRotation = useCallback(\n    (obj) => {\n      setRotation({ ...obj });\n    },\n    [setRotation],\n  );\n\n  const onChangeScale = useCallback(\n    (obj) => {\n      setScale({ ...obj });\n    },\n    [setScale],\n  );\n\n  const onApplyProfile = useCallback(() => {\n    if (!identity) return;\n    const clone = guiRef.current.save();\n    if (identity.mirror_settings) {\n      // prettier-ignore\n      clone.folders[t('GUI:folders:position')].controllers = {\n        ...getMappedCoordinates(identity.mirror_settings.position, 'position')\n      };\n      // prettier-ignore\n      clone.folders[t('GUI:folders:rotation')].controllers = {\n        ...getMappedCoordinates(identity.mirror_settings.rotation, 'rotation')\n      };\n      // prettier-ignore\n      clone.folders[t('GUI:folders:scale')].controllers = {\n        ...getMappedCoordinates(identity.mirror_settings.scale, 'scale')\n      };\n    } else {\n      // prettier-ignore\n      clone.folders[t('GUI:folders:position')].controllers = {\n        ...getMappedCoordinates(defaultPosition, 'position')\n      };\n      // prettier-ignore\n      clone.folders[t('GUI:folders:rotation')].controllers = {\n        ...getMappedCoordinates(defaultRotation, 'rotation')\n      };\n      // prettier-ignore\n      clone.folders[t('GUI:folders:scale')].controllers = {\n        ...getMappedCoordinates(defaultScale, 'scale')\n      };\n    }\n    guiRef.current.load(clone);\n  }, [identity]);\n\n  const onApplyDefault = () => {\n    const clone = guiRef.current.save();\n    // prettier-ignore\n    clone.folders[t('GUI:folders:position')].controllers = {\n      ...getMappedCoordinates(defaultPosition, 'position')\n    };\n    // prettier-ignore\n    clone.folders[t('GUI:folders:rotation')].controllers = {\n      ...getMappedCoordinates(defaultRotation, 'rotation')\n    };\n    // prettier-ignore\n    clone.folders[t('GUI:folders:scale')].controllers = {\n      ...getMappedCoordinates(defaultScale, 'scale')\n    };\n    guiRef.current.load(clone);\n  };\n\n  const closeWithoutSaveConfirm = () => {\n    guiRef.current.hide();\n    open(\n      <ConfirmOverlay\n        close={() => {\n          guiRef.current.show();\n          close();\n        }}\n        confirm={() => {\n          navigate('/intro');\n        }}\n      />,\n    );\n  };\n\n  const getSanitizedFolder = (data, folder) => {\n    let controllers = data.folders[t(`GUI:folders:${folder}`)].controllers;\n\n    return {\n      'x': controllers[t(`GUI:labels:${folder}:x`)],\n      'y': controllers[t(`GUI:labels:${folder}:y`)],\n      'z': controllers[t(`GUI:labels:${folder}:z`)]\n    };\n\n  };\n\n  const getMappedCoordinates = (obj, folder) => {\n    let controllers = {};\n\n    controllers[t(`GUI:labels:${folder}:x`)] = obj.x;\n    controllers[t(`GUI:labels:${folder}:y`)] = obj.y;\n    controllers[t(`GUI:labels:${folder}:z`)] = obj.z;\n\n    return controllers;\n  };\n\n  const onSave = useCallback(() => {\n    const data = guiRef.current.save();\n    const position = getSanitizedFolder(data, 'position');\n    const rotation = getSanitizedFolder(data, 'rotation');\n    const scale = getSanitizedFolder(data, 'scale');\n\n    const send = async () => {\n      const { response } = await patch({\n        position,\n        rotation,\n        scale,\n      });\n      if (response.status === 200) {\n        notify('api.success.settings_update', { type: 'success' });\n        identity.mirror_settings = {\n          position,\n          rotation,\n          scale,\n        };\n      } else {\n        notify('api.error.generic', { type: 'error' });\n      }\n    };\n\n    send();\n  }, [patch, notify, t]);\n\n  const valuesAreEqual = (a, b) => {\n    return JSON.stringify(a) === JSON.stringify(b);\n  };\n\n  const formUnchanged = () => {\n    if (identity?.mirror_settings && guiRef?.current) {\n      const data = guiRef.current.save();\n      return (\n        valuesAreEqual(\n          getSanitizedFolder(data, 'position'),\n          identity.mirror_settings.position,\n        ) &&\n        valuesAreEqual(\n          getSanitizedFolder(data, 'rotation'),\n          identity.mirror_settings.rotation,\n        ) &&\n        valuesAreEqual(\n          getSanitizedFolder(data, 'scale'),\n          identity.mirror_settings.scale,\n        )\n      );\n    } else {\n      return true;\n    }\n  };\n\n  useEffect(() => {\n    if (ready) return;\n    if (!identity) return;\n\n    if (identity.mirror_settings) {\n      if (identity.mirror_settings.position) {\n        setPosition({ ...identity.mirror_settings.position });\n      }\n      if (identity.mirror_settings.rotation) {\n        setRotation({ ...identity.mirror_settings.rotation });\n      }\n      if (identity.mirror_settings.scale) {\n        setScale({ ...identity.mirror_settings.scale });\n      }\n    }\n    setReady(true);\n  }, [identity, ready]);\n\n  useEffect(() => {\n    if (!ready) return;\n    if (!identity) return;\n    if (guiRef.current) return;\n\n    const gui = new GUI({\n      title: t('GUI:title'),\n      closeFolders: true,\n    });\n\n    const positionFolder = gui.addFolder(t('GUI:folders:position'));\n    positionFolder\n      .add(position, 'x', -1, 1)\n      .name(t('GUI:labels:position:x'))\n      .onChange(() => {\n        onChangePosition(position);\n      });\n    positionFolder\n      .add(position, 'y', -1, 1)\n      .name(t('GUI:labels:position:y'))\n      .onChange(() => {\n      onChangePosition(position);\n    });\n    positionFolder\n      .add(position, 'z', -3, 3)\n      .name(t('GUI:labels:position:z'))\n      .onChange(() => {\n      onChangePosition(position);\n    });\n\n    const rotationFolder = gui.addFolder(t('GUI:folders:rotation'));\n    rotationFolder\n      .add(rotation, 'x', -2, 2)\n      .onChange(() => {\n        onChangeRotation(rotation);\n      })\n      .hide();\n    rotationFolder\n      .add(rotation, 'y', -2, 2)\n      .onChange(() => {\n        onChangeRotation(rotation);\n      })\n      .hide();\n    rotationFolder\n      .add(rotation, 'z', -10, 10)\n      .name(t('GUI:labels:rotation:z'))\n      .onChange(() => {\n        onChangeRotation(rotation);\n      });\n\n    const scaleFolder = gui.addFolder(t('GUI:folders:scale'));\n    scaleFolder\n      .add(scale, 'x', 0.5, 1.5)\n      .name(t('GUI:labels:scale:x'))\n      .onChange(() => {\n      onChangeScale(scale);\n    });\n    scaleFolder\n      .add(scale, 'y', 0.5, 1.5)\n      .name(t('GUI:labels:scale:y'))\n      .onChange(() => {\n      onChangeScale(scale);\n    });\n    scaleFolder\n      .add(scale, 'z', 0.5, 1.5)\n      .onChange(() => {\n        onChangeScale(scale);\n      })\n      .hide();\n\n    guiRef.current = gui;\n\n    return () => {\n      gui.destroy();\n    };\n  }, [identity, ready]);\n\n  return (\n    <GUIContext.Provider value={{ position, rotation, scale }}>\n      {children}\n      <ButtonWrapper>\n        <Button.Outline label={t('GUI:cta:profile')} onClick={onApplyProfile} />\n        <Button.Outline label={t('GUI:cta:default')} onClick={onApplyDefault} />\n        <Button.Secondary\n          label={t('cta:close')}\n          onClick={() => {\n            formUnchanged() ? navigate('/intro') : closeWithoutSaveConfirm();\n          }}\n        />\n        <Button.Default\n          disabled={formUnchanged() ? true : false}\n          label={t('cta:save')}\n          onClick={onSave}\n        />\n      </ButtonWrapper>\n      {(loading || identityLoading) && <LoadingCircle opaque />}\n    </GUIContext.Provider>\n  );\n};\n\nconst ButtonWrapper = styled.div`\n  position: absolute;\n  display: flex;\n  justify-content: right;\n  padding: ${spacings.default}px;\n  gap: ${spacings.default}px;\n  width: 100%;\n  bottom: 0;\n  z-index: 1;\n`;\n\nexport { GUIContext };\nexport default GUIProvider;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport * as deepar from 'deepar';\nimport React, { useRef, useEffect, useContext } from 'react';\nimport { useGetIdentity } from 'react-admin';\nimport styled from 'styled-components';\n\nimport { GUIContext } from '@components/generics/GUI';\n\nimport { ExerciseStep, ExerciseContext } from './ExerciseProvider';\n\n/**\n * DeepAP.ai player\n */\nconst Player = () => {\n  const gui = useContext(GUIContext);\n  const { exerciseStep, ready } = useContext(ExerciseContext);\n  const { identity, isLoading: identityLoading } = useGetIdentity();\n  const deepAR = useRef(null);\n  const deepARInit = useRef(false);\n  const canvas = useRef(null);\n\n  const updateEffectValues = (data) => {\n    if (!deepAR.current) return;\n    if (data) {\n      const position = data.position;\n      const rotation = data.rotation;\n      const scale = data.scale;\n      if (position) {\n        // prettier-ignore\n        deepAR.current.changeParameterVector('Root','','position', position.x, position.y, position.z);\n      }\n      if (rotation) {\n        // prettier-ignore\n        deepAR.current.changeParameterVector('Root', '', 'rotation', rotation.x, rotation.y, rotation.z);\n      }\n      if (scale) {\n        // prettier-ignore\n        deepAR.current.changeParameterVector('Root', '', 'scale', scale.x, scale.y, scale.z);\n      }\n    }\n  };\n\n  /**\n   * Init Deep AR\n   * doc: https://help.deepar.ai/en/articles/3545295-api-reference\n   */\n  useEffect(() => {\n    if (!identity) return;\n    if (!deepAR.current) {\n      if (!deepARInit.current) {\n        canvas.current.width = window.innerWidth;\n        canvas.current.height = window.innerHeight;\n\n        const side = identity.side === 0 ? 'left' : 'right';\n\n        let AR;\n        const init = async () => {\n          deepARInit.current = true;\n\n          AR = await deepar.initialize({\n            licenseKey: process.env.DEEPAR_LICENSE_KEY,\n            canvas: canvas.current,\n            effect: `./assets/effects/${side}`,\n          });\n\n          deepAR.current = AR;\n\n          updateEffectValues(identity.mirror_settings);\n          ready(true);\n        };\n\n        init();\n      }\n    }\n\n    return () => {\n      if (deepAR.current) {\n        deepAR.current.stopCamera();\n        deepAR.current.shutdown();\n        deepAR.current = null;\n      }\n    };\n  }, [identity]);\n\n  /**\n   * Resize browser event\n   * Destroy DeepAR\n   */\n  useEffect(() => {\n    let time = null;\n    const onResize = () => {\n      clearTimeout(time);\n      time = setTimeout(() => {\n        canvas.current.width = window.innerWidth;\n        canvas.current.height = window.innerHeight;\n      }, 100);\n    };\n\n    window.addEventListener('resize', onResize);\n\n    const screen = window.matchMedia('(orientation: portrait)');\n    screen.addEventListener('change', onResize);\n\n    return () => {\n      window.removeEventListener('resize', onResize);\n      screen.removeEventListener('change', onResize);\n\n      if (deepAR.current) {\n        try {\n          deepAR.current.stopCamera();\n          deepAR.current.shutdown();\n          deepAR.current = null;\n          // eslint-disable-next-line no-empty\n        } catch (e) {}\n      }\n    };\n  }, []);\n\n  /**\n   * Ending\n   * Destroy DeepAR\n   */\n  useEffect(() => {\n    if (exerciseStep === ExerciseStep.ENDED && deepAR.current && !gui) {\n      deepAR.current.stopCamera();\n      deepAR.current.shutdown();\n      deepAR.current = null;\n    }\n  }, [exerciseStep]);\n\n  /**\n   * Empty\n   * Destroy DeepAR\n   */\n  useEffect(() => {\n    if (exerciseStep === ExerciseStep.EMPTY && !gui) {\n      // weird settimeout because DeepAR seems not to be fully initialized to this state\n      // can't be destroy without this settimeout\n      setTimeout(() => {\n        if (deepAR.current) {\n          deepAR.current.stopCamera();\n          deepAR.current.shutdown();\n          deepAR.current = null;\n        }\n      }, 2000);\n    }\n  }, [exerciseStep]);\n\n  /**\n   * GUI modifiers\n   */\n  useEffect(() => {\n    if (deepAR.current && gui) {\n      updateEffectValues(gui);\n    }\n  }, [gui]);\n\n  if (identityLoading) return <></>;\n\n  return (\n    <Container>\n      {exerciseStep !== ExerciseStep.ENDED && (\n        <>\n          <Canvas ref={canvas}></Canvas>\n          <GradientTop />\n          <GradientBottom />\n        </>\n      )}\n    </Container>\n  );\n};\n\nconst Container = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100vw;\n  height: 100%;\n`;\n\nconst Canvas = styled.canvas``;\n\nconst Gradient = styled.div`\n  position: absolute;\n  width: 100%;\n  height: 300px;\n  opacity: 0.9;\n\n  ${({ theme }) =>\n    theme &&\n    `background: linear-gradient(0deg, ${theme.colors.black}00, ${theme.colors.black})`};\n`;\n\nconst GradientTop = styled(Gradient)`\n  top: 0;\n`;\n\nconst GradientBottom = styled(Gradient)`\n  bottom: 0;\n  transform: rotate(180deg);\n`;\n\nexport default Player;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport { DisabledBodyScrollGlogalStyle } from '@styles/utils/DisabledBodyScroll';\n\nimport withAuth from '@hocs/withAuth';\n\nimport { useTrackingView } from '@hooks/useTrackingView';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport Exercises from '@components/exercises/Exercise';\nimport ExerciseProvider from '@components/exercises/ExerciseProvider';\nimport Player from '@components/exercises/Player';\nimport { Header } from '@components/header/Header';\n\n/**\n * Mirror page with AR player with BasicLayout\n */\nconst MirrorPage = () => {\n  useTrackingView('/mirror');\n\n  return (\n    <ExerciseProvider>\n      <DisabledBodyScrollGlogalStyle />\n      <BasicLayout\n        header={<Header isLogged />}\n        content={\n          <ContainerWrapper>\n            <ContainerInner>\n              <Player />\n              <Exercises />\n            </ContainerInner>\n          </ContainerWrapper>\n        }\n      />\n    </ExerciseProvider>\n  );\n};\n\nconst ContainerWrapper = styled.div``;\n\nconst ContainerInner = styled.div``;\n\nexport default withAuth(MirrorPage);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport { DisabledBodyScrollGlogalStyle } from '@styles/utils/DisabledBodyScroll';\n\nimport withAuth from '@hocs/withAuth';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport ExerciseProvider from '@components/exercises/ExerciseProvider';\nimport Player from '@components/exercises/Player';\nimport GUIProvider from '@components/generics/GUI';\n\n/**\n * Mirror Settings page with AR player with BasicLayout + GUI Effect modifiers\n */\nconst MirrorSettingsPage = () => {\n  return (\n    <ExerciseProvider>\n      <DisabledBodyScrollGlogalStyle />\n      <BasicLayout\n        content={\n          <ContainerWrapper>\n            <ContainerInner>\n              <GUIProvider>\n                <Player />\n              </GUIProvider>\n            </ContainerInner>\n          </ContainerWrapper>\n        }\n      />\n    </ExerciseProvider>\n  );\n};\n\nconst ContainerWrapper = styled.div``;\n\nconst ContainerInner = styled.div``;\n\nexport default withAuth(MirrorSettingsPage);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport * as deepar from 'deepar';\nimport React, { useRef, useEffect, useContext } from 'react';\nimport styled from 'styled-components';\n\nimport { DisabledBodyScrollGlogalStyle } from '@styles/utils/DisabledBodyScroll';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport GUIProvider, { GUIContext } from '@components/generics/GUI';\n\n/**\n * Player Standalone page with BasicLayout\n */\nconst PlayerStandalonePage = () => {\n  return (\n    <>\n      <DisabledBodyScrollGlogalStyle />\n      <BasicLayout\n        header={<></>}\n        content={\n          <ContainerWrapper>\n            <ContainerInner>\n              <GUIProvider>\n                <Player />\n              </GUIProvider>\n            </ContainerInner>\n          </ContainerWrapper>\n        }\n      />\n    </>\n  );\n};\n\n/**\n * Player Standalone\n */\nconst Player = () => {\n  const deepARInit = useRef(false);\n  const deepAR = useRef(null);\n  const canvas = useRef(null);\n  const gui = useContext(GUIContext);\n\n  /**\n   * Init DeepAR\n   */\n  useEffect(() => {\n    if (deepAR.current) return;\n    if (deepARInit.current) return;\n\n    canvas.current.width = window.innerWidth;\n    canvas.current.height = window.innerHeight;\n    let AR;\n    const init = async () => {\n      deepARInit.current = true;\n      AR = await deepar.initialize({\n        licenseKey: process.env.DEEPAR_LICENSE_KEY,\n        canvas: canvas.current,\n        effect: './assets/effects/right',\n      });\n      deepAR.current = AR;\n    };\n    init();\n\n    return () => {\n      AR && AR.shutdown();\n    };\n  }, [deepAR, canvas]);\n\n  /**\n   * Resize browser event\n   * Destroy DeepAR\n   */\n  useEffect(() => {\n    let time = null;\n    const onResize = () => {\n      clearTimeout(time);\n      time = setTimeout(() => {\n        canvas.current.width = window.innerWidth;\n        canvas.current.height = window.innerHeight;\n      }, 100);\n    };\n\n    window.addEventListener('resize', onResize);\n\n    const screen = window.matchMedia('(orientation: portrait)');\n    screen.addEventListener('change', onResize);\n\n    return () => {\n      window.removeEventListener('resize', onResize);\n      screen.removeEventListener('change', onResize);\n\n      if (deepAR.current) {\n        try {\n          deepAR.current.shutdown();\n          deepAR.current = null;\n          // eslint-disable-next-line no-empty\n        } catch (e) {}\n      }\n    };\n  }, [deepAR]);\n\n  /**\n   * GUI modifiers\n   */\n  useEffect(() => {\n    if (deepAR.current) {\n      deepAR.current.changeParameterVector(\n        'Root',\n        '',\n        'rotation',\n        gui.rotation.x,\n        gui.rotation.y,\n        gui.rotation.z,\n      );\n\n      deepAR.current.changeParameterVector(\n        'Root',\n        '',\n        'position',\n        gui.position.x,\n        gui.position.y,\n        gui.position.z,\n      );\n\n      deepAR.current.changeParameterVector(\n        'Root',\n        '',\n        'scale',\n        gui.scale.x,\n        gui.scale.y,\n        gui.scale.z,\n      );\n    }\n  }, [deepAR, gui]);\n\n  return (\n    <Container>\n      <Canvas ref={canvas}></Canvas>\n    </Container>\n  );\n};\n\nconst ContainerWrapper = styled.div``;\n\nconst ContainerInner = styled.div``;\n\nconst Container = styled.div`\n  position: absolute;\n  top: 0;\n  width: 100vw;\n  height: 100%;\n  height: -moz-available;\n  height: -webkit-fill-available;\n  height: fill-available;\n  height: stretch;\n`;\n\nconst Canvas = styled.canvas``;\n\nexport default React.memo(PlayerStandalonePage);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignMiddle, Wrapper } from '@styles/tools';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { useTrackingView } from '@hooks/useTrackingView';\n\nimport { Language } from '@utils/constants';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport { Footer } from '@components/footer/Footer';\nimport { H3, H5, P, H6, BR, Href } from '@components/generics/basics/index';\nimport { Header } from '@components/header/Header';\n\n/**\n * Privacy policy page with BasicLayout\n */\nconst PrivacyPage = () => {\n  const {locale} = useLocale();\n  const {t} = useTranslation();\n  useTrackingView('/privacy');\n\n  return (\n    <BasicLayout\n      header={<Header/>}\n      content={\n        <ContainerWrapper>\n          <ContainerInner>\n            {locale === Language.FR ? <PrivacyFr t={t}/> : <PrivacyEn t={t}/>}\n          </ContainerInner>\n        </ContainerWrapper>\n      }\n      footer={<Footer/>}\n    />\n  );\n};\n\nconst PrivacyFr = ({t}) => {\n  return (\n    <>\n      <H3>POLITIQUE DE PROTECTION DES RENSEIGNEMENTS PERSONNELS</H3>\n      <P>Derniere mise a jour : Dcembre 2021</P>\n      <P>\n        Lquipe du MEPP, lUniversit de Montral, le CIUSSS du\n        Nord-de-lle-de-Montral ainsi que de lEst-de-lle-de-Montral ( ou <b>&nbsp;nous&nbsp;</b>)\n        accordent une grande importance a la protection de vos\n        renseignements personnels ainsi que votre vie privee et tient a ce que\n        votre experience avec elle et avec la plateforme MEPP (le <b>&nbsp;Service&nbsp;</b>)\n        soit la plus satisfaisante et la plus securitaire possible. Vous\n        comprenez quen utilisant le Service, le Service vous sera distribue par\n        MEPP et que les renseignements personnels que vous pourriez nous fournir\n        pourront etre utilises pour les fins indiquees aux presentes. Aux fins\n        de la presente politique de protection des renseignements personnels (la\n        <b>&nbsp;Politique&nbsp;</b>), lexpression <b>&nbsp;Renseignements personnels&nbsp;</b> signifie\n        toute information se rapportant a une personne physique identifiee ou\n        identifiable. Une personne identifiable est une personne qui peut etre\n        identifiee, directement ou indirectement, par reference a un ou\n        plusieurs elements specifiques, propres a son identite physique,\n        physiologique, genetique, psychique, economique, culturelle ou sociale.\n      </P>\n      <P>\n        Cette Politique vous informe i) des types de Renseignements personnels\n        que nous traitons par le biais du Service, ii) des finalites des\n        traitements quelle en fait et les bases juridiques de tels traitements\n        et iii) de la duree de conservation de vos Renseignements personnels.\n        Cette Politique vous informe egalement des categories de personnes a qui\n        nous pouvons transmettre vos Renseignements personnels et dans quelles\n        circonstances nous pouvons le faire. De plus, vous y retrouverez les\n        droits relatifs a vos Renseignements personnels que vous pouvez exercer\n        a notre endroit. Nous traiterons vos Renseignements personnels que sur\n        la base contractuelle de la presente Politique.\n      </P>\n      <P>\n        Nous ajustons en permanence nos pratiques en matiere de respect de\n        Renseignements personnels afin quelles soient en tout temps conformes\n        aux principes de la Loi sur la protection des renseignements personnels\n        et les documents electroniques (Canada), de la Loi sur la protection des\n        renseignements personnels dans le secteur prive (Quebec) et de toute\n        autre loi similaire applicable.\n      </P>\n\n      <H5>1. CATEGORIE DE RENSEIGNEMENTS PERSONNELS QUE NOUS TRAITONS</H5>\n\n      <H6>\n        Les Renseignements personnels que nous traitons lorsque vous creez votre\n        compte\n      </H6>\n      <P>\n        Lorsque votre compte est cr, vous devez nous fournir les\n        Renseignements personnels suivants : votre prnom, votre nom, votre\n        adresse courriel, un mot de passe de votre choix et le ct de votre\n        paralysie faciale\n      </P>\n\n      <H6>Finalites et bases legales du traitement</H6>\n      <P>\n        Nous traitons vos prnom, nom, adresse courriel, et mot de passe car\n        vous devez les utiliser pour creer votre compte. La base juridique de ce\n        traitement est notre interet legitime a securiser votre compte et a vous\n        identifier en cas de reinitialisation de votre mot de passe.\n      </P>\n      <P>\n        Nous traitons egalement votre adresse courriel pour vous faire parvenir\n        des messages importants a propos du Service, tels que des messages\n        relatifs a la securite du Service et a la mise a jour de la presente\n        Politique. La base juridique de ce traitement est notre interet legitime\n        a vous transmettre des informations importantes relatives a la securite\n        ou autres informations importantes relatives au Service ou a des\n        modifications a cette Politique.\n      </P>\n      <P>\n        Si vous avez consenti a recevoir des communications de notre part, nous\n        traiterons egalement votre adresse courriel pour vous transmettre de\n        telles informations a propos de nous ou du Service. La base juridique de\n        ce traitement est votre consentement. Vous pouvez retirer votre\n        consentement a tout moment en communiquant avec ladministrateur du\n        MEPP, dont les coordonnees apparaissent ci-dessous, ou en cliquant sur\n        le lien de retrait du consentement au bas de nos courriels.\n      </P>\n\n      <H6>\n        Les Renseignements personnels que vous nous transmettez par votre\n        utilisation du Service\n      </H6>\n      <P>\n        La fonction principale du Service est doffrir une plate-forme de\n        rducation faciale  Vous, un clinicien, et  une personne atteinte de\n        paralysie faciale (que nous appelons un <b>&nbsp;Beneficiaire&nbsp;</b> aux fins de la\n        presente Politique). Dans ce cadre, le Service permet egalement a\n        lequipe de chercheurs de lUdeM (les <b>&nbsp;Chercheurs&nbsp;</b>) damasser des\n        donnees qualitatives et quantitatives de meme que des statistiques\n        generees automatiquement par suite de lutilisation du Service.\n      </P>\n      <P>\n        Lors de votre utilisation du Service, vous pourrez utiliser une\n        interface permettant de crer une rducation faciale, laquelle vous\n        servira a repertorier les Beneficiaires avec lesquels vous etes en\n        contact et gerer leurs rducations faciales. <b>Vous reconnaissez que vous\n        etes responsable, a titre de clinicien, de recueillir un consentement\n        libre et eclaire du Beneficiaire a la collecte des informations\n        quantitatives et qualitatives le concernant.</b>\n      </P>\n      <P>\n        Veuillez noter que vous netes pas oblige didentifier un Beneficiaire\n        ni de fournir des Renseignements personnels le ou la concernant lors de\n        la creation du dossier de ce Beneficiaire dans votre espace\n        dintervention et que vous etes libre de plutot utiliser un pseudonyme.\n        <b>Veuillez noter que ces informations ne sont pas transmises aux\n        Chercheurs; en fait, le dossier de chaque Beneficiaire se voit associe\n        un numero au hasard et ce nest seulement qua cet identifiant quont\n        acces les Chercheurs.</b>\n      </P>\n      <P>\n        Pour chaque seance dexercice, le site web generera automatiquement un\n        certain nombre de statistiques en lien avec lutilisation du site (ces\n        donnees qualitatives, quantitatives et statistiques sont collectivement\n        designees les <b>&nbsp;Donnees&nbsp;</b>). Les Donnees ainsi transmises sont\n        enregistrees sur les serveurs du Service et pourront etre accessibles\n        aux Chercheurs.\n      </P>\n\n      <H6>Finalites et bases legales du traitement</H6>\n      <P>\n        Nous traitons les Donnees qui sont transmises lors de votre utilisation\n        du Service pour les rendre accessibles aux Chercheurs afin quils\n        puissent etre utilises a des fins de recherche. La base juridique de ce\n        traitement est le consentement obtenu aupres du Beneficiaire.\n      </P>\n      <P>\n        <b>Vous reconnaissez que vous etes responsable, a titre de clinicien, de\n        recueillir un consentement libre et eclaire du Beneficiaire a la\n        collecte des informations quantitatives et qualitatives le concernant.</b>\n        Si ce consentement devait etre retire par le Beneficiaire, vous devrez\n        des lors cesser dutiliser le Service en lien avec ce Beneficiaire.\n      </P>\n\n      <H6>Les temoins et autres technologies similaires</H6>\n      <P>\n        Certains temoins et autres technologies similaires peuvent constituer\n        des Renseignements personnels a votre egard. Nous traitons de tels\n        temoins et autres technologies similaires pour suivre les activites sur\n        le Service et retenir certaines informations pour ameliorer le Service\n        et lexperience globale lors de lutilisation du Service.\n      </P>\n\n      <H6>Finalites et bases legales du traitement</H6>\n      <P>\n        Si vous avez consenti a la collecte dinformation par le biais de\n        temoins et autres technologies similaires, nous traiterons ces temoins\n        et autres technologies similaires, avec laide de services analytiques\n        tiers, pour les finalites mentionnees a la section <b>&nbsp;TEMOINS (COOKIES)\n        ET AUTRES TECHNOLOGIES SIMILAIRES&nbsp;</b> de la presente Politique. La base\n        juridique de ce traitement est votre consentement. Vous pouvez retirer\n        votre consentement a tout moment en communiquant avec ladministrateur\n        dont les coordonnees apparaissent au bas de la presente Politique. Soyez\n        par ailleurs assures que nous nassocions aucun identifiant de temoins\n        ou de technologies similaires a des informations relatives a votre\n        origine raciale ou ethnique, vos opinions politiques, vos convictions\n        religieuses ou philosophiques ou votre appartenance syndicale, votre\n        sante, votre vie sexuelle ou votre orientation sexuelle ni a vos donnees\n        genetiques ou biometriques qui pourraient permettre votre identification\n        de maniere unique.\n      </P>\n\n      <H6>Les fichiers journaux (log)</H6>\n      <P>\n        Nous enregistrons sur les serveurs du Service des fichiers journaux\n        (log) qui comprennent certaines informations telles votre adresse IP, la\n        date et lheure de votre utilisation du Service, des temoins qui\n        identifient votre navigateur et la langue de celui-ci, ainsi que les\n        diverses requetes aux serveurs et reponses de ceux-ci. Ces fichiers\n        peuvent constituer des Renseignements personnels a votre egard.\n      </P>\n\n      <H6>Finalites et bases legales du traitement</H6>\n      <P>\n        Nous traitons les fichiers journaux relatifs a votre utilisation du\n        Service afin de comprendre la provenance dune erreur en cas derreur ou\n        bug du Service et afin detablir des statistiques de connexions au\n        Service. La base juridique de ces traitements est notre interet legitime\n        de reduire au maximum le nombre dinterruptions et de defaillances du\n        Service lors de votre utilisation de celui-ci.\n      </P>\n\n      <H6>Les informations de vos appareils</H6>\n      <P>\n        Nous colligeons des informations sur les appareils avec lesquels vous\n        accedez au Service, tels les identifiants uniques de lappareil, et les\n        informations issues des capteurs de lappareil (camera, microphones,\n        accelerometres, gyroscopes, boussoles, etc.). Ces informations peuvent\n        constituer des Renseignements personnels a votre egard.\n      </P>\n\n      <H6>Finalites et bases legales du traitement</H6>\n      <P>\n        Nous traitons les informations issues des appareils avec lesquels vous\n        accedez au Service pour assurer la coherence du Service sur tous vos\n        appareils supportant le Service. La base juridique de ce traitement est\n        notre interet legitime a ce que le Service puisse etre accessible de\n        maniere coherente sur le plus grand nombre possible dappareils que vous\n        possedez.\n      </P>\n\n      <H5>\n        2. LES CATEGORIES DE DESTINATAIRES DE VOS RENSEIGNEMENTS PERSONNELS\n      </H5>\n      <P>\n        A lexception des cas prevus par la loi ou de ceux expressement prevus\n        dans la presente Politique, nous ne divulguerons jamais vos\n        Renseignements personnels a une tierce partie.\n      </P>\n\n      <H6>Fournisseurs de service</H6>\n      <P>\n        Nous pouvons fournir certains de vos Renseignements personnels a de\n        tierces parties afin quelles les utilisent dans le cadre de leurs\n        fonctions commerciales internes (p. ex., firmes de developpement\n        logiciel, service a la clientele, maintenance, securite, analyse des\n        donnees, envoi de courriels, tests beta ou hebergement de donnees) en\n        notre nom. De plus, certains fournisseurs de service de tierce partie\n        peuvent recueillir de linformation, y compris des Renseignements\n        personnels, en notre nom. Ces fournisseurs de service se sont engages\n        aupres de nous a respecter les lois applicables a vos Renseignements\n        personnels ainsi que la presente Politique. Nous ne fournirons a ces\n        fournisseurs que les Renseignements personnels dont ils ont besoin pour\n        fournir leurs services et il leur est interdit dutiliser ces\n        Renseignements personnels a une autre fin.\n      </P>\n\n      <H6>Exigences legales</H6>\n      <P>\n        Nous pouvons divulguer vos Renseignements personnels si nous estimons de\n        bonne foi que cette mesure est requise par une assignation, un mandat,\n        ou toute autre decision judiciaire ou administrative rendue conformement\n        a la loi. Nous pourrions egalement divulguer des Renseignements\n        personnels si nous estimons de bonne foi que cette mesure est appropriee\n        ou necessaire pour eviter une violation de nos modalites ou conditions\n        dutilisation, de nos ententes de licences dutilisateurs ou de toute\n        autre entente a laquelle vous etes partie; pour nous premunir contre une\n        reclamation; pour proteger nos droits, notre propriete, notre securite\n        ou ceux dun partenaire, dune personne ou du public; pour maintenir et\n        assurer la securite et lintegrite du Service ou de nos infrastructures\n        a legard dune utilisation abusive ou illegale; pour nous defendre\n        contre des reclamations ou des allegations de tiers; ou pour collaborer\n        avec des agences de reglementation gouvernementales ayant juridiction.\n      </P>\n\n      <H6>Transfert de propriete</H6>\n      <P>\n        Les renseignements sur nos utilisateurs, y compris les Renseignements\n        personnels, peuvent etre divulgues dans le cadre dune faillite, dune\n        fusion, de la vente ou du transfert des activites reliees au Service,\n        dune acquisition ou dune transaction semblable. Dans leventualite\n        dune telle transaction au cours de laquelle vos Renseignements\n        personnels devraient etre transferes a une tierce partie, nous\n        deploierons des efforts raisonnables pour vous en aviser. Par exemple,\n        nous publierons un avis de transfert de Renseignements personnels sur le\n        Service et, si nous disposons de votre adresse courriel, nous\n        acheminerons un avis de transfert de Renseignements personnels a cette\n        adresse. De plus, nous exigerons de la tierce partie recevant vos\n        Renseignements personnels dans un tel cadre quelle accepte de proteger\n        la confidentialite de vos Renseignements personnels dune facon conforme\n        a cette Politique et quelle respecte les lois applicables en matiere de\n        Renseignements personnels. Elle devra par ailleurs sengager a ne\n        traiter vos Renseignements personnels que conformement a cette Politique\n        a moins de vous aviser au prealable, et lorsque requis par la loi, en\n        obtenant au prealable votre consentement.\n      </P>\n\n      <H6>Autres cas</H6>\n      <P>\n        Nous pouvons transmettre vos Renseignements personnels a des tiers si :\n        i) nous avons obtenu votre consentement a le faire, ii) a nos\n        conseillers juridiques ou autres, sils sont soumis a des obligations de\n        confidentialite au moins aussi strictes que celles prevues a la presente\n        politique et quils se conforment aux lois applicables en matiere de\n        Renseignements personnels.\n      </P>\n\n      <H5>3. SECURITE DE VOS RENSEIGNEMENTS PERSONNELS</H5>\n      <P>\n        Nous prenons des mesures considerables, y compris la mise en uvre et\n        lapplication de procedures physiques, electroniques et administratives,\n        pour assurer la securite, lintegrite et lexactitude de lensemble des\n        Renseignements personnels recueillis. Nos mesures comprennent des\n        procedures concues pour eviter lacces non autorise, la modification,\n        lutilisation abusive ou la divulgation de Renseignements personnels.\n        Dans leventualite dune breche dans les systemes de securite, nous\n        pourrions tenter de vous envoyer un avis par courriel pour vous\n        permettre de prendre les mesures de protection necessaires.\n      </P>\n      <P>\n        Malgre ce qui precede, les donnees, y compris les courriels et\n        communications Internet, les communications par reseau, telephone ou\n        tout autre moyen electronique peuvent etre interceptes illicitement par\n        des tiers non autorises. Nous ne saurions garantir une efficacite et/ou\n        une securite absolue du Service. Par des moyens detournes et illicites,\n        il est entre autres possible quun pirate informatique reussisse a\n        penetrer sur les serveurs du Service. Il est donc important de garder a\n        lesprit, avant dutiliser les fonctionnalites offertes par le Service,\n        quil est toujours possible quun individu malintentionne accede aux\n        serveurs du Service et utilise, a ses fins propres, les renseignements\n        que vous avez divulgues sur ou via celui-ci.\n      </P>\n\n      <H5>4. CONSERVATION DE VOS RENSEIGNEMENTS PERSONNELS</H5>\n      <P>\n        Nous conservons les Renseignements personnels uniquement pour la duree\n        requise afin de poursuivre nos activites commerciales de facon viable ou\n        selon ce que nous estimons legalement requis. Plus precisement, tant que\n        vous conserverez votre compte, nous conserverons les Renseignements\n        personnels qui vous sont demandes pendant un delai de cinq (5) ans\n        suivant votre derniere connexion au Service.\n      </P>\n\n      <H5>5. CONSENTEMENT</H5>\n      <P>\n        Avant de nous communiquer tout Renseignement personnel dun tiers, dont\n        les Beneficiaires, vous reconnaissez avoir obtenu le consentement de la\n        personne concernee par ces Renseignements personnels pour faire cette\n        communication.\n      </P>\n      <P>\n        En nous fournissant des Renseignements personnels, vous convenez que\n        nous pouvons recueillir ou utiliser ces Renseignements personnels\n        conformement a la presente Politique et selon les preferences en matiere\n        de la protection de la confidentialite que vous nous avez indiquees, le\n        cas echeant, et tel quautorise ou requis par la loi.\n      </P>\n      <P>\n        Sous reserve dexigences legales et contractuelles, vous pouvez refuser\n        ou retirer votre consentement a legard de certaines des fins\n        determinees en tout temps en communiquant avec nous. Si vous refusez ou\n        retirez votre consentement, il se peut que nous soyons dans\n        limpossibilite de vous fournir ou de continuer de vous fournir certains\n        services ou renseignements qui pourraient vous etre utiles.\n      </P>\n\n      <H5>6. TEMOINS (COOKIES) ET AUTRES TECHNOLOGIES SIMILAIRES</H5>\n\n      <H6>Quest-ce quun temoin?</H6>\n      <P>\n        Les temoins aussi appeles cookies sont des fichiers textes contenant de\n        petites quantites dinformation telechargees sur votre appareil lorsque\n        vous visitez un site Web. Les temoins sont ensuite renvoyes sur le site\n        Web dorigine a chaque visite suivante, ou sur un autre site Web qui\n        reconnait ce temoin. Les temoins sont utiles, car ils permettent a un\n        site Web de reconnaitre lappareil dun utilisateur. Vous pouvez trouver\n        des renseignements sur les temoins a www.allaboutcookies.org.\n      </P>\n      <P>\n        Les temoins servent plusieurs fonctions differentes, comme vous\n        permettre de naviguer entre des pages de facon efficace, enregistrer vos\n        preferences et ameliorer lexperience utilisateur dans son ensemble. Ils\n        peuvent egalement faire en sorte que les publicites que vous voyez en\n        ligne sont plus pertinentes pour vous et vos interets. Notre serveur\n        installe sur vos appareils un temoin permanent lors dune premiere\n        visite et, selon les applications utilisees, dautres temoins permanents\n        ou temporaires pourraient etre utilises pour gerer techniquement\n        certains choix que vous faites. Soyez assure quaucun Renseignement\n        personnel nest comme tel conserve dans les temoins.\n      </P>\n\n      <H6>Choisir de ne pas autoriser les temoins</H6>\n      <P>\n        Vous pouvez regler votre navigateur afin quil vous avise lorsque vous\n        recevez un temoin, vous permettant ainsi de decider si vous desirez ou\n        non laccepter.\n      </P>\n\n      <H5>7. ADRESSE DE PROTOCOLE INTERNET</H5>\n      <P>\n        Ladresse de protocole Internet (adresse IP) est associee a la connexion\n        Internet de votre appareil par votre fournisseur dacces Internet. Nous\n        pouvons utiliser cette adresse IP afin de, notamment, diagnostiquer des\n        problemes avec ses serveurs Web, gerer le Service et compiler des\n        statistiques.\n      </P>\n\n      <H5>8. VOS DROITS</H5>\n\n      <H6>Acces a vos Renseignements personnels et portabilite</H6>\n      <P>\n        De maniere generale, nous nous engageons a informer toute personne qui\n        en fait la demande de lexistence de Renseignements personnels qui la\n        concernent, de lusage qui en est fait et du fait, le cas echeant,\n        quils sont communiques a des tiers, et lui permettre de les consulter.\n        Il sera possible de contester lexactitude et lintegralite des\n        renseignements et dy faire apporter les corrections appropriees.\n      </P>\n      <P>\n        Veuillez noter que lacces a votre dossier comportant vos Renseignements\n        personnels est gratuit. Cependant, nous pouvons vous exiger le cout des\n        frais raisonnables relies a la reproduction physique et la transmission\n        de ces Renseignements personnels. Si tel est le cas, nous vous\n        informerons au prealable de ces couts.\n      </P>\n      <P>\n        Sans limiter la generalite de ce qui precede, vous avez le droit de\n        recevoir les Renseignements personnels vous concernant et que vous nous\n        avez fournis, dans un format structure, couramment utilise et lisible\n        par machine, vous avez le droit de transmettre ces Renseignements\n        personnels a un autre responsable du traitement sans que nous y fassions\n        obstacle, lorsque i) le traitement est fonde sur votre consentement ou\n        sur un contrat conclu entre vous et nous et ii) le traitement est\n        effectue a laide de procedes automatises. De plus, lorsque cela est\n        techniquement possible, vous pouvez obtenir que ces Renseignements\n        personnels soient transmis directement par nous a votre nouveau\n        responsable du traitement.\n      </P>\n\n      <H6>Exactitude de vos Renseignements personnels et droit a loubli </H6>\n      <P>\n        Les Renseignements personnels que vous nous divulguez doivent etre aussi\n        complets, exacts et a jour que lexigent les fins auxquelles ils sont\n        destines. Il vous est permis de faire modifier votre dossier pour\n        corriger les renseignements inexacts, incomplets ou equivoques et de\n        faire supprimer un renseignement perime ou non justifie par lobjet du\n        dossier, ou formuler par ecrit des commentaires et les faire verser a\n        votre dossier. La plupart de vos Renseignements personnels peuvent etre\n        consultes et corriges en vous connectant a votre compte et en accedant a\n        votre profil. Autrement, nous vous invitons a contacter ladministrateur\n        dont les coordonnees se trouvent a la fin de la presente Politique afin\n        de lui en faire la demande. Sans limiter la generalite de ce qui\n        precede, vous avez en tout temps le droit de demander, sauf dans\n        certaines circonstances prevues par la loi, leffacement de vos\n        Renseignements personnels si : i) ils ne sont plus necessaires au regard\n        des finalites pour lesquelles ils ont ete collectes ou traites dune\n        autre maniere; ii) nous avons obtenu de votre part le consentement au\n        traitement de ces Renseignements personnels et il nexiste pas dautre\n        fondement juridique au traitement; iii) vous vous opposez au traitement\n        sans que nous ayons un motif legitime imperieux pour le traitement, iv)\n        ces renseignements personnels ont fait lobjet dun traitement illicite;\n        ou v) ils doivent etre effaces pour respecter une obligation legale\n        prevue par la loi applicable.\n      </P>\n\n      <H6>Limitation du traitement ou le droit de sopposer au traitement</H6>\n      <P>\n        Vous avez en tout temps le droit, dans certaines circonstances prevues\n        par la legislation applicable, de demander  ladministrateur dont les\n        coordonnees se trouvent a la fin de la presente Politique que nous\n        limitions certains traitements que nous faisons de vos Renseignements\n        personnels ou de vous opposer a ces traitements.\n      </P>\n\n      <H6>Avis, plaintes et communications</H6>\n      <P>\n        Par la publication de la presente Politique, nous rendons accessible a\n        toute personne des informations precises sur nos politiques et pratiques\n        concernant la gestion des Renseignements personnels. Si vous avez des\n        questions relatives a cette Politique, nhesitez pas a communiquer avec\n        ladministrateur, lequel est responsable de la Politique et peut etre\n        rejoint a ladresse mentionnee a la fin de cette Politique, afin que\n        nous puissions y repondre dans la mesure du possible. Nous nous\n        reservons le droit de vous demander certaines informations afin de vous\n        identifier.\n      </P>\n      <P>\n        En cas de non-respect des principes enonces a la presente Politique,\n        vous pouvez nous adresser une plainte en communiquant ladministrateur\n        dont les coordonnes sont ci-bas. Selon votre juridiction (ex. Canada),\n        vous pouvez par ailleurs deposer une plainte une aupres dune autorite\n        de controle.\n      </P>\n\n      <H5>9. MODIFICATIONS DE LA POLITIQUE</H5>\n      <P>\n        Lorsque nous apporterons, a notre seule discretion, des changements a\n        cette Politique, nous modifierons la date de la <b>&nbsp;Derniere mise a jour&nbsp;</b>\n        telle que retrouvee ci-dessus.\n      </P>\n\n      <P>\n        Bien quil ne soit pas de notre intention de modifier frequemment ou\n        substantiellement cette Politique, il pourrait arriver que nous le\n        fassions pour mieux vous servir a lavenir ou compte tenu de levolution\n        de notre offre de services, de la technologie ou de la loi. Nous vous\n        invitons a en revoir le contenu regulierement afin detre avertis de\n        tout changement a la Politique. Si les changements saverent\n        substantiels, nous vous enverrons une notification via le Service ou par\n        tout autre moyen afin que vous puissiez prendre connaissance des\n        modifications avant de poursuivre votre utilisation du Service. Si vous\n        desapprouvez une ou plusieurs modifications, vous devez cesser\n        lutilisation du Service. Lutilisation par vous du Service\n        posterieurement a laffichage ou a la communication de telles\n        modifications vaudra acceptation de la Politique revisee.\n      </P>\n\n      <P>\n        <b>Pour toute question ou commentaire concernant cette Politique, nhesitez\n        pas a entrer en contact avec ladministrateur&bnsp;:</b>\n      </P>\n      <P>\n        Sarah Martineau\n        <BR/>\n        5415 Boulevard de lAssomption,\n        <BR/>\n        Montral, QC H1T 2M4\n        <BR/>\n        Courriel&nbsp;: <a href=\"mailto:info@mirroreffectplus.org\">info@mirroreffectplus.org</a>\n      </P>\n\n      <ButtonsWrapper>\n        <LoginLink\n          href=\"#\"\n          onClick={(e) => {\n            e.preventDefault();\n            window.location.href = '#/login';\n          }}\n        >\n          {t('cta:goto_login')}\n        </LoginLink>\n      </ButtonsWrapper>\n\n    </>\n  );\n};\n\nconst PrivacyEn = ({t}) => {\n  return (\n    <>\n      <H3>PERSONAL DATA PROTECTION POLICY</H3>\n      <P>Latest update: December 2021</P>\n      <P>\n        The MEPP team, the University of Montreal, the CIUSSS of North Montreal Island as well as of the East Montreal\n        Island (or <b>we</b>) the protection of your personal data as well as your privacy greatly matter so us and we\n        want\n        your experience with us and the MEPP platform (the <b>Service</b>) to be as satisfactory and as safe as\n        possible. You\n        understand that by using the Service, the Service will be provided to you by MEPP and that the personal data\n        that you may provide us may be used for the purposes specified in this document.\n      </P>\n      <P>\n        For the purpose of this personal data protection policy (the <b>Policy</b>), the expression <b>Personal\n        data</b> means any information pertaining to a physical person who is identified or identifiable. An\n        identifiable person is a person who can be identified, directly or indirectly, by reference to one or several\n        specific elements, particular to their physical, physiologic, genetic, psychologic, economic, cultural, or\n        social identity.\n      </P>\n      <P>\n        This policy informs you about i) the types of personal data that we process through the Service, ii) the\n        purposes of the processing and the legal basis of such processing and iii) the duration this personal data is\n        kept. This Policy also informs you on the categories of persons wo whom we may transmit your personal Data and\n        in which circumstances we may do so Additionally, you will find the rights pertaining to your personal Data that\n        you may practice with us. We will only process your personal Data on the contractual basis of this Policy.\n      </P>\n      <P>\n        We adjust our practice in matters of respect of personal Data all the time for them to always comply with the\n        principles of the <i>Law on personal data and electronic documents protection</i> (Canada), of the <i>Law on the\n        personal data in the private sector</i> (Quebec) and of any other similar applicable law.\n      </P>\n\n      <H5>1. CATEGORY OF PERSONAL DATA THAT WE PROCESS</H5>\n\n      <H6>\n        The personal Data that we process when you create your account\n      </H6>\n      <P>\n        When your account is created, you must provide us the following personal Data: your first name, your last name,\n        your email address, a password of your choice and the side of your facial paralysis.\n      </P>\n\n      <H6>Purposes and legal bases of the processing</H6>\n      <P>\n        We process your first name, last name, email address and password because you must use them to create your\n        account. The legal basis of this processing is our legitimate interest in securing your account and to identify\n        you in case of reinitialization of your password.\n      </P>\n      <P>\n        We also process your email address to send you important messages about the Service, such as messages pertaining\n        to the security of the Service and the update of this Policy. The legal basis of this processing is our\n        legitimate interest to send you important information pertaining to the safety or any important information\n        pertaining to the Service or to modifications of this Policy.\n      </P>\n      <P>\n        If you agreed to receive communications from us, we will also process your Email address to send you such\n        information about us or the Service. The legal basis of this processing is your consent. You can withdraw your\n        consent at any time by contacting the administrator of the MEPP, whose contact information appear below, or by\n        clicking on the consent withdrawal link at the bottom of our emails.\n      </P>\n\n      <H6>\n        The personal Data that you give us through your use of the Service\n      </H6>\n      <P>\n        The main function of the Service is to provide you, a clinician, and a person suffering from facial paralysis\n        (who we call a <b>Beneficiary</b> for the purpose of this Policy) with a reeducation platform a facial\n        reeducation platform. In this framework, the Service also allows the researchers team of UdeM (the\n        Researchers) to collect qualitative and quantitative data as well as statistics automatically generated\n        following the use of the Service.\n      </P>\n      <P>\n        During your use of the Service, you can use an interface allowing you to create a facial reeducation, which will\n        be used for you to make a list of Beneficiaries with whom you are in contact and manage their facial\n        reeducations. <b>You acknowledge that you are responsible, as a clinician, for collecting a free and enlightened\n        consent from the Beneficiary to collect quantitative and qualitative data pertaining to them</b>.\n      </P>\n      <P>\n        Please note that you do not have to identify a Beneficiary or provide personal Data pertaining to them when you\n        create the file for this Beneficiary in your intervention space and that you are free to use a pseudonym\n        instead. <b>Please note that this data is not transmitted to the Researchers; in fact, the file of each\n        Beneficiary is associated with a random number and Researchers only have access to this identifier</b>.\n      </P>\n      <P>\n        For each exercise session, the website will automatically generate a certain number of statistics in relation\n        with the use of the website (this qualitative, quantitative, and statistical data is collectively designated\n        the <b>Data</b>). The Data transmitted is saved on the servers of the Service and can be accessed by the\n        Researchers.\n      </P>\n\n      <H6>Purposes and legal basis of the processing</H6>\n      <P>\n        We process the Data transmitted to us during your use of the Service to make them accessible to the Researchers\n        for them to be used for research purposes. The legal basis of this processing is the consent obtained from the\n        Beneficiary.\n      </P>\n      <P>\n        <b>You acknowledge that you are responsible, as a clinician, for collecting a free and enlightened consent from\n          the Beneficiary to collect quantitative and qualitative data pertaining to them.</b>\n        If this consent were to be withdrawn by the Beneficiary, you must then stop using the Service in relation to\n        this Beneficiary.\n      </P>\n\n      <H6>Cookies and other similar technologies</H6>\n      <P>\n        Some cookies and other similar technologies may constitute personal Data in your regard. We process such\n        indicators and similar technologies to track the activities on the Service and retain certain information to\n        improve the Service and the global experience during the use of the Service.\n      </P>\n\n      <H6>Purposes and legal basis of the processing</H6>\n      <P>\n        If you consented to the collection of information through the cookies and other similar technologies, we will\n        process these indicators and other similar technologies with the help of third party analytical services, for\n        the purpose mentioned in the COOKIES AND OTHER SIMILAR TECHNOLOGIES section of this Policy. The legal basis of\n        this processing is your consent. You can withdraw your consent at any time by contacting the administrator whose\n        contact information appear at the bottom of this Policy. In addition, be assured that we do not associate any\n        cookies identifier or similar technologies to information pertaining to your racial or ethnic origin, your\n        political opinions, your religious or philosophical beliefs or your syndical affiliations, your health, your\n        sexual life, or your sexual orientation nor your genetic or biometric data which may facilitate your\n        identification in a unique manner.\n      </P>\n\n      <H6>Log files</H6>\n      <P>\n        We save the log files on the Services servers which contain some data such as your IP address, the date and\n        time of your use of the Service, the cookies identifying your browser and its language, as well as various\n        request to the servers and their responses. These files may constitute personal Data about you.\n      </P>\n\n      <H6>Purposes and legal basis of the processing</H6>\n      <P>\n        We process log files pertaining to your use of the Service to understand origin of an error or a bug in the\n        Service and to establish Service connection statistics. The legal basis of this processing is our legitimate\n        interest to reduce the number of interruptions and failures of the Service during your use of it as much as\n        possible.\n      </P>\n\n      <H6>Your devices data</H6>\n      <P>\n        We collect data on the devices with which you access the Service, such as the unique ID of the device, and\n        information from the devices captors (camera, microphones, accelerometers, gyroscopes, compasses, etc.). This\n        data may constitute personal Data about you.\n      </P>\n\n      <H6>Purposes and legal basis of the processing</H6>\n      <P>\n        We process the data from the devices with which you access the Service to ensure the cohesion of the Service on\n        all your devises supporting the Service. The legal basis of this processing is our legitimate interest for the\n        Service to be accessible in a coherent manner on as many devices that you own as possible.\n      </P>\n\n      <H5>\n        2. THE CATEGORIES OF RECIPIENTS OF YOUR PERSONAL DATA\n      </H5>\n      <P>\n        Except for the cases prescribed by the law or those expressly prescribed in this Policy, we never disclose your\n        personal Data to a third party.\n      </P>\n\n      <H6>Service providers</H6>\n      <P>\n        We may provide some of your personal Data to third parties for them to use them within the framework of their\n        internal commercial functions (for example, software development firms, customer service, maintenance, security,\n        data analysis, email expedition, beta tests or data hosting) on your behalf. In addition, some third-party\n        service providers may collect data, including personal Data on your behalf. These service providers committed to\n        comply with the applicable laws regarding your personal Data as well as this Policy. We will only provide these\n        providers with the personal Data they need to provide their services and they are forbidden from using this\n        personal Data for another purpose.\n      </P>\n\n      <H6>Legal requirements</H6>\n      <P>\n        We may disclose your personal Data if we deem in good faith that this measure is required by summons, a mandate\n        or any other legal or administrative decision rendered in compliance with the law. We may also disclose personal\n        Data if we deem in good faith that this measure is appropriate or necessary to avoid a breach of our modalities\n        or terms of use, our user licenses agreements or any other agreement you are a part of; to protect ourselves\n        from a claim; to protect our rights, our property, our safety or that of a partner, a person or the public; to\n        maintain and ensure the safety and integrity of the Service or of our infrastructures regarding an abusive or\n        illegal use; to defend ourselves against claims or allegations of a third party; or to collaborate with the\n        governmental regulatory agencies who have jurisdiction.\n      </P>\n\n      <H6>Property transfer</H6>\n      <P>\n        The data about our users, including the personal Data may be disclosed within the framework of a bankruptcy, a\n        merger, the sale or transfer of the activities linked to the Service, an acquisition or a similar transaction.\n        In the eventuality of such a transaction during which your personal Data shall be transferred to a third party,\n        we will make reasonable efforts to notify you. For example, we will publish a notice of transfer of personal\n        Data on the Service and, if we have your email address, we will send a notice of transfer of your personal Data\n        to this address. In addition, we will require from the third party receiving your personal Data in such a\n        framework that they agree to protect the confidentiality of your personal Data in manner in compliance with this\n        Policy and that they respect the applicable laws in matters of personal Data. They must also commit to only\n        process your personal Data in compliance with\n        this Policy unless they notify beforehand, and when required by the law, by obtaining your consent beforehand.\n      </P>\n\n      <H6>Other cases</H6>\n      <P>\n        We may transmit your personal Data to third parties if: i) we obtained your consent to do so, ii) to our legal\n        advisors or others, if they are subject to confidentiality obligations at least as strict as those prescribed by\n        this policy and that they comply with the applicable laws in matters of personal Data.\n      </P>\n\n      <H5>3. SECURITY OF YOUR PERSONAL DATA</H5>\n      <P>\n        We take considerable measures, including the implementation and application of physical, electronic, and\n        administrative procedures, to ensure the security, the integrity and the accuracy of all of the personal Data\n        collected. Our measures include procedures designed to avoid the non-authorized access, the modification, the\n        abusive use or the disclosure of personal Data. In the eventuality of a breach in the security systems, we may\n        attempt to send you a notice by Emil to allow you to take the necessary protection measures.\n      </P>\n      <P>\n        Despite what precedes, the data, including emails and internet communications, the network communications,\n        telephone communications or any other electronic mean may be intercepted illicitly by unauthorized third\n        parties. We cannot guarantee an absolute efficiency and/or security of the Service. Through diverted and illicit\n        means, it is for instance possible for a hacker to succeed in entering into the Services servers. It is\n        therefore important to keep in mind, before using the functionalities offered by the Service, that it is always\n        possible for a malevolent individual to access the Services servers and use for their own purposes, the data\n        you disclosed on or via the latter.\n      </P>\n\n      <H5>4. STORAGE OF YOUR PERSONAL DATA</H5>\n      <P>\n        We store the personal Data only for the duration required to be able to continue our commercial activities in a\n        viable manner or according to what we deem to be legally required. More precisely, for as long as you keep your\n        account, we will keep the personal Data which are requested from you for a duration of five (5) years following\n        your last connection to the Service.\n      </P>\n\n      <H5>5. CONSENT</H5>\n      <P>\n        Before providing us any personal Data for a third party, including the Beneficiaries, you acknowledge having\n        obtained the consent of the person who this personal Data pertains to, to provide them.\n      </P>\n      <P>\n        By providing us with this personal Data, you agree that we may collect or use this personal Data in compliance\n        with this Policy and according to the preferences in matter of confidentiality protection that you specified,\n        when applicable, and as authorized or required by the law.\n      </P>\n      <P>\n        Subject to legal and contractual requirements, you may refuse or withdraw your consent regarding some of the\n        purposes determined at any time by contacting us. If you refuse or withdraw your consent, it is possible that we\n        may not be able to provide or continue to provide some services or information which may be useful to you.\n      </P>\n\n      <H5>6. COOKIES AND OTHER SIMILAR TECHNOLOGIES</H5>\n\n      <H6>What is a cookie?</H6>\n      <P>\n        Cookies are text files containing small quantities of information downloaded on your device when you visit a\n        website. The cookies are then transferred to the original Website upon each following visit, or on another\n        website which recognizes this cookie. Cookies are useful, because they allow a Website to recognize a users\n        device. You can always find information regarding the cookies on allaboutcookies.org.\n      </P>\n      <P>\n        The cookies have several different functions, like allowing you to browse between pages efficiently, save your\n        preferences and improve the user experience. They may also ensure that the advertisements you see online are\n        more pertinent to you and your interests. Our server installs a permanent cookie on your devices during your\n        first visit and, depending on the applications used, other permanent or temporary cookies may be used to\n        technically manage some choices you make. Rest assured that no personal Data is kept as such in the cookies.\n      </P>\n\n      <H6>Choosing to not authorize cookies</H6>\n      <P>\n        You can set up your browser for it to notify you when you receive a cookie, therefore allowing you to decide if\n        you wish to accept it or not.\n      </P>\n\n      <H5>7. INTERNET PROTOCOL ADDRESS</H5>\n      <P>\n        The internet protocol address (IP address) is associated to your devices internet connection by your internet\n        access provider. We may use this IP address to, notably, diagnose issues with its web servers, manage the\n        Service and compile statistics.\n      </P>\n\n      <H5>8. YOUR RIGHTS</H5>\n\n      <H6>Access to your personal Data and portability</H6>\n      <P>\n        Generally, we commit to inform any person requesting it of the existence of personal Data pertaining to them, of\n        the use of it and of the fact, when applicable, that they are provided to third parties, and allow them to\n        consult them. It will be possible to contest the accuracy and integrality of the information and to make\n        appropriate corrections.\n      </P>\n      <P>\n        Please note that the access to your file containing your personal Data is free However, we may require the cost\n        of the reasonable fees linked to the physical reproduction and the transmission of this personal Data. If that\n        is the case, we will inform you of these costs beforehand.\n      </P>\n      <P>\n        Without limiting the generality of what precedes, you have the right to receive the personal Data pertaining to\n        you and that you provided us, in a structured format, commonly used and machine readable, you have the right to\n        transmit this personal Data to another person in charge of the processing without us standing in the way, when\n        i) the processing is founded on your consent or a contract concluded between you and us and ii) the processing\n        is done through automated processes. In addition, when it is technically possible, you may obtain for this\n        personal Data to be directly transmitted by us to your new person in charge of the processing.\n      </P>\n\n      <H6>Accuracy of your personal data and right to right to be forgotten</H6>\n      <P>\n        The personal Data that you disclose to us must be as complete, accurate and up to date as required by the\n        purposes for which they are destined. You are allowed to get them modified in your file to correct inaccurate,\n        incomplete or equivoque data and to delete an expired or unjustified data for the subject of the file. Most of\n        your personal Data may be consulted and corrected by connecting to your account and accessing your profile.\n        Otherwise, we invite you to contact the administrator whose contact information is located at the end of this\n        Policy to request for them to do it. Without limiting the generality of what precedes, you have, at any time,\n        the right to request, except in some circumstances prescribed by the law, the deletion of your personal Data if:\n        i) it is no longer necessary in regard to the purposes for which they were collected or processed in another\n        manner; ii) we obtained from you the consent to the processing of this personal Data and there is no other legal\n        basis to the processing; iii) you oppose the processing without us having a legitimate imperious reason for the\n        processing; iv) this personal data is the subject of an illicit processing; or v) they must be deleted to comply\n        with a legal obligation prescribed by the applicable law.\n      </P>\n\n      <H6>Limitation of the processing or the right to oppose to the processing</H6>\n      <P>\n        You have, at any time, the right, in some circumstances prescribed by the applicable legislation, to request for\n        the administrator whose contact information is located at the end of this Policy to limit some processing we\n        make of your personal Data or to oppose to their processing.\n      </P>\n\n      <H6>Notifications, complaints and communication</H6>\n      <P>\n        Through the publication of this Policy, we make precise information about our policies and practices regarding\n        the management of personal Data to anyone. If you have questions pertaining to this Policy, do not hesitate to\n        contact the administrator who is responsible for the Policy and can be contacted at the address mentioned at the\n        end of this Policy, for us to be able to reply if possible. We reserve the right to ask you for some information\n        to identify you.\n      </P>\n      <P>\n        In case of non-compliance with the principles listed in this Policy, you may address a complaint by contacting\n        the administrator whose contact information is below. Depending on your jurisdiction (ex: Canada), you can also\n        make a complaint with a control authority\n      </P>\n\n      <H5>9. MODIFICATIONS OF THE POLICY</H5>\n      <P>\n        When we make, at our discretion, any changes to this Policy, we will modify the date of the latest update as\n        found above.\n      </P>\n\n      <P>\n        Although it is not our intention to frequently or substantially modify this Policy, it may happen that we do it\n        to better serve you in the future or given the evolution of our offer of services, the technology, or the law.\n        We invite you to review its content regularly to be notified of any change to the Policy. If the changes are\n        substantial, we will send you a notification via the Service or via any other mean so you can take note of the\n        modifications before continuing your use of the Service. If you disapprove of one or more modifications, you\n        must stop using the Service. Your use of the Service after the display or the communication of such\n        modifications will be considered as acceptation of the revised Policy.\n      </P>\n\n      <P>\n        <b>For any question or comment regarding this Policy, please do not hesitate to contact the administrator:</b>\n      </P>\n      <P>\n        Sarah Martineau\n        <BR/>\n        5415 Boulevard de lAssomption,\n        <BR/>\n        Montral, QC H1T 2M4\n        <BR/>\n        Courriel&nbsp;: <a href=\"mailto:info@mirroreffectplus.org\">info@mirroreffectplus.org</a>\n      </P>\n\n      <ButtonsWrapper>\n        <LoginLink\n          href=\"#\"\n          onClick={(e) => {\n            e.preventDefault();\n            window.location.href = '#/login';\n          }}\n        >\n          {t('cta:goto_login')}\n        </LoginLink>\n      </ButtonsWrapper>\n    </>\n  );\n};\n\nconst ContainerWrapper = styled(Wrapper)`\n  position: relative;\n  padding-top: 120px;\n  padding-bottom: ${spacings.default * 2}px;\n\n  ${media.xsOnly`\n    padding-top: 0px;\n  `}\n\n  @media screen and (max-height: 850px) {\n    padding-top: 0px;\n  }\n`;\n\nconst ContainerInner = styled.div``;\n\nconst ButtonsWrapper = styled.div`\n  ${FlexAlignMiddle.CSS}\n  flex-direction: column;\n`;\n\nconst LoginLink = styled(Href)`\n  margin: ${spacings.default * 2}px 0 0;\n`;\n\nexport default PrivacyPage;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useRef } from 'react';\nimport { useNotify } from 'react-admin';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { spacings } from '@styles/configs/spacings';\nimport { FlexAlignMiddle, FlexAlignCenter } from '@styles/tools';\n\nimport { useApi } from '@hooks/useApi';\n\nimport { RequestEndpoint } from '@utils/constants';\n\nimport { LoadingCircle } from '@components/generics/LoadingCircle';\nimport { H2, P } from '@components/generics/basics';\nimport { Href } from '@components/generics/basics/Href';\nimport Button from '@components/generics/buttons/Button';\nimport Form from '@components/generics/forms/Form';\nimport Input from '@components/generics/forms/Input';\n\n/**\n * Reset Password Form\n */\nconst ResetPasswordForm = () => {\n  const { t } = useTranslation();\n  const notify = useNotify();\n  const newpassword = useRef();\n  const confirmpassword = useRef();\n  const { post, loading, success } = useApi(RequestEndpoint.CONFIRM_RESET_PWD);\n\n  const submit = async ({ newpassword }) => {\n    const queries = new URLSearchParams(window.location.search);\n    const token = queries.get('t');\n    const payload = { password: newpassword, token };\n\n    const { response } = await post(payload);\n    if (response.status === 404 || response.status === 400) {\n      notify('api.error.token_invalid', {type: 'error'});\n    }\n    if (response.status === 500) {\n      notify('api:error:generic', {type: 'error'});\n    }\n  };\n\n  return (\n    <>\n      <Title>{t('form:reset_password:title')}</Title>\n\n      {success ? (\n        <>\n          <Success xlarge>{t('form:reset_password:success')}</Success>\n          <ButtonsWrapper>\n            <Button.Default\n              label={t('cta:goto_login')}\n              onClick={() => {\n                window.location.href = '/';\n              }}\n            />\n          </ButtonsWrapper>\n        </>\n      ) : (\n        <FormWrapper>\n          <Form\n            submit={submit}\n            options={{\n              mode: 'onBlur',\n              reValidateMode: 'onChange',\n            }}\n          >\n            {({ errors }, watch) => {\n              newpassword.current = watch('newpassword', '');\n              confirmpassword.current = watch('confirmpassword', '');\n\n              return (\n                <>\n                  <Input.Password\n                    name=\"newpassword\"\n                    label={t('form:field:newpassword:label')}\n                    placeholder={t('form:field:newpassword:placeholder')}\n                    required\n                    validation={{\n                      minLength: {\n                        value: process.env.PASSWORD_MIN_LEN,\n                        message: t('form:field:error:min_length', {\n                          amount: process.env.PASSWORD_MIN_LEN,\n                        }),\n                      },\n                      pattern: {\n                        value: new RegExp(\n                          `^${process.env.PASSWORD_REGEX}{${process.env.PASSWORD_MIN_LEN},}$`,\n                        ),\n                        message: t('form:field:error:pwd'),\n                      },\n                    }}\n                  />\n                  {errors.newpassword && (\n                    <FieldError role=\"alert\" small>\n                      {errors.newpassword.message}\n                    </FieldError>\n                  )}\n\n                  <Input.Password\n                    name=\"confirmpassword\"\n                    label={t('form:field:confirmpassword:label')}\n                    placeholder={t('form:field:confirmpassword:placeholder')}\n                    required\n                    validation={{\n                      validate: (value) =>\n                        value === newpassword.current ||\n                        t('form:field:error:pwd_not_match'),\n                    }}\n                  />\n                  {errors.confirmpassword && (\n                    <FieldError role=\"alert\" small>\n                      {errors.confirmpassword.message}\n                    </FieldError>\n                  )}\n\n                  <ButtonsWrapper>\n                    <Button.Default label={t('cta:save')} type=\"submit\" />\n                    <LoginLink\n                      href=\"#\"\n                      onClick={(e) => {\n                        e.preventDefault();\n                        window.location.href = '/';\n                      }}\n                    >\n                      {t('cta:goto_login')}\n                    </LoginLink>\n                  </ButtonsWrapper>\n                </>\n              );\n            }}\n          </Form>\n          {loading && <LoadingCircle opaque />}\n        </FormWrapper>\n      )}\n    </>\n  );\n};\n\nconst Title = styled(H2)`\n  text-align: center;\n`;\n\nconst Success = styled(P)`\n  text-align: center;\n  font-weight: 400;\n  margin-bottom: ${spacings.default * 2}px;\n`;\n\nconst FormWrapper = styled(FlexAlignCenter.Component)`\n  position: relative;\n  width: 100%;\n\n  form {\n    width: 100%;\n    max-width: 430px;\n  }\n`;\n\nconst ButtonsWrapper = styled.div`\n  ${FlexAlignMiddle.CSS}\n  flex-direction: column;\n`;\n\nconst LoginLink = styled(Href)`\n  margin: ${spacings.default * 2}px 0 0;\n`;\n\nconst FieldError = styled(P)`\n  position: absolute;\n  margin-top: -${spacings.default * 1.8}px;\n  color: ${({ theme }) => theme.colors.error};\n`;\n\nexport default ResetPasswordForm;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport styled from 'styled-components';\n\nimport { WrapperFullSizeMiddle } from '@styles/tools';\n\nimport { useTrackingView } from '@hooks/useTrackingView';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport { Footer } from '@components/footer/Footer';\nimport ResetPasswordForm from '@components/forms/ResetPasswordForm';\nimport { Header } from '@components/header/Header';\n\n/**\n * Reset password page with BasicLayout\n */\nconst ResetPasswordPage = () => {\n  useTrackingView('/reset-password');\n\n  return (\n    <BasicLayout\n      header={<Header />}\n      content={\n        <ContainerWrapper>\n          <ContainerInner>\n            <ResetPasswordForm />\n          </ContainerInner>\n        </ContainerWrapper>\n      }\n      footer={<Footer />}\n    />\n  );\n};\n\nconst ContainerWrapper = styled(WrapperFullSizeMiddle)`\n  min-height: 50vh;\n`;\n\nconst ContainerInner = styled.div`\n  width: 100%;\n  max-width: 600px;\n`;\n\nexport default ResetPasswordPage;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { useTranslation } from 'react-i18next';\nimport styled from 'styled-components';\n\nimport { media } from '@styles/configs/breakpoints';\nimport { spacings } from '@styles/configs/spacings';\nimport {FlexAlignMiddle, Wrapper} from '@styles/tools';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { useTrackingView } from '@hooks/useTrackingView';\n\nimport { Language } from '@utils/constants';\n\nimport BasicLayout from '@layouts/Basic';\n\nimport { Footer } from '@components/footer/Footer';\nimport {H3, H5, P, UL, LI, Href} from '@components/generics/basics/index';\nimport { Header } from '@components/header/Header';\n\n\n/**\n * Terms of use page with BasicLayout\n */\nconst TermsPage = () => {\n  const { locale } = useLocale();\n  const { t } = useTranslation();\n  useTrackingView('/termofuse');\n\n  return (\n    <BasicLayout\n      header={<Header />}\n      content={\n        <ContainerWrapper>\n          <ContainerInner>\n            {locale === Language.FR ? <TermFr t={t} /> : <TermEn t={t}/>}\n          </ContainerInner>\n        </ContainerWrapper>\n      }\n      footer={<Footer />}\n    />\n  );\n};\n\nconst TermFr = ({t}) => {\n  return (\n    <>\n      <H3>CONDITIONS DUTILISATION</H3>\n      <P>Derniere mise a jour : Dcembre 2021</P>\n\n      <H5>1. Champ dapplication</H5>\n      <P>\n        Ces conditions generales (ci-apres les <b>&nbsp;Conditions&nbsp;</b>) constituent une\n        entente legale entre vous (<b>&nbsp;vous&nbsp;</b> ou l<b>&nbsp;Utilisateur&nbsp;</b>) et lquipe du MEPP, faisant egalement\n        affaires sous le nom MEPP(<b>&nbsp;MEPP&nbsp;</b> ou <b>&nbsp;nous&nbsp;</b>) et encadrent lutilisation\n        de la plateforme <b>&nbsp;MEPP&nbsp;</b>, comprenant un site web et une application\n        mobile (le <b>&nbsp;Service&nbsp;</b>).\n      </P>\n      <P>\n        VEUILLEZ LIRE ATTENTIVEMENT TOUTES LES CONDITIONS AVANT DUTILISER LE\n        SERVICE.\n      </P>\n\n      <H5>2. Acceptation des Conditions</H5>\n      <P>\n        En acceptant les Conditions, vous acceptez detre lie, sans reserve ni\n        restriction, par les modalites et stipulations des Conditions. Lacces\n        et lutilisation du Service sont subordonnes au respect integral et sans\n        reserve de ces Conditions.\n      </P>\n      <P>\n        Si vous ne souhaitez pas etre lie par ces Conditions ou si vous ne les\n        acceptez pas integralement, vous devez vous abstenir dacceder au\n        Service ou de lutiliser.\n      </P>\n      <P>\n        Sous reserve des termes des presentes Conditions, MEPP vous accorde\n        pendant la duree de lentente documentee par ces Conditions :\n      </P>\n      <UL>\n        <LI>\n          un droit dacceder aux composantes web du Service et den utiliser les\n          fonctionnalites; et\n        </LI>\n        <LI>\n          une licence non transferable, non exclusive, pour (a) utiliser pour\n          votre usage personnel, et (b) copier, aux fins de telechargement,\n          dinstallation et dexecution, le nombre de copies pour lesquelles\n          vous etes autorise par le site de telechargement de lapplication, sur\n          un appareil mobile que vous possedez ou controlez pour votre usage\n          personnel de sen service pour acceder a et utiliser le Service;\n        </LI>\n      </UL>\n\n      <H5>3. Droits dauteur</H5>\n      <P>\n        A lexclusion des images, photos, fichiers musicaux ou videos diffuses a\n        laide de lapplication mobile associee au Service (le <b>&nbsp;Contenu\n        audio-visuel&nbsp;</b>), lesquels demeurent la propriete de leurs ayants-droit\n        respectifs, le Service et ses composantes sont utilises par MEPP sous\n        licence de tiers et peuvent etre proteges par les lois en matiere de\n        propriete intellectuelle, dont la Loi sur le droit dauteur (L.R.C.\n        (1985), ch. C-42).\n      </P>\n      <P>\n        Outre les droits dutilisation qui vous sont consentis aux termes des\n        presentes Conditions, MEPP reserve, en son nom propre ou en celui de ses\n        concedants de licence, tous ses droits a legard du Service. En\n        consequence, il vous est interdit de copier, reproduire, modifier,\n        reformuler, reediter et, plus generalement, dutiliser les elements\n        composant le Service, tant de facon partielle que totale, sans avoir au\n        prealable obtenu lautorisation ecrite de MEPP.\n      </P>\n\n      <H5>4. Vos obligations</H5>\n      <P>\n        En utilisant le Service, sans limiter la portee de ce qui est autrement\n        prevu aux Conditions, vous acceptez (i) de respecter toutes les lois qui\n        vous sont applicables dans votre territoire de residence, (ii) de nous\n        communiquer des informations exactes et de les tenir a jour et (iii)\n        dutiliser le Service dune facon raisonnable et responsable.\n      </P>\n      <P>Par ailleurs, vous vous engagez a ne pas :</P>\n      <UL>\n        <LI>a) utiliser le Service a des fins illegales ou illicites;</LI>\n        <LI>\n          b) violer les droits de propriete intellectuelle de MEPP ou dautrui,\n          incluant son concedant de licence, notamment les brevets, les marques\n          de commerce, les secrets commerciaux, les licences, les droits\n          dauteur ou dautres droits de propriete;\n        </LI>\n        <LI>\n          c) surveiller la disponibilite, la performance ou la fonctionnalite du\n          Service a des fins concurrentielles;\n        </LI>\n        <LI>\n          d) utiliser des logiciels, appareils, robots de codage manuels ou\n          automates ou dautres moyens pour acceder, decomposer, analyser ou\n          indexer les fonctionnalites du Service ou tout service, donnee ou\n          information connexe;\n        </LI>\n        <LI>\n          e) transmettre du code de nature destructive susceptible dendommager,\n          dintercepter subrepticement ou dexproprier un systeme, des donnees\n          ou des renseignements personnels ou encore dinterferer de facon\n          prejudiciable avec ceux-ci;\n        </LI>\n        <LI>f) contourner toute fonctionnalite de securite du Service;</LI>\n        <LI>\n          g) utiliser le Service pour un usage auquel il nest pas destine,\n          notamment pour des fins commerciales.\n        </LI>\n      </UL>\n\n      <H5>5. Liens aux sites ou ressources de tiers</H5>\n      <P>\n        Vous pourriez trouver sur le Service des hyperliens menant a des sites\n        web ou autres ressources qui ne sont pas sous le controle ou la\n        responsabilite de MEPP. MEPP ne dispose daucun moyen pour controler ces\n        sites web et ne repond pas de la disponibilite, de la fiabilite ou de la\n        legalite de tels sites web ni ne les garantit. MEPP ne cautionne ni\n        napprouve les contenus auxquels ces sites web donnent acces et exclut\n        toute responsabilite et garantie en ce qui les concerne. LUtilisateur\n        qui accede aux sites Web tiers le fait entierement a ses risques.\n      </P>\n\n      <H5>6. Soumission didees</H5>\n      <P>\n        Vous reconnaissez que vos commentaires, suggestions, idees ou\n        propositions relatifs au Service, a ses fonctionnalites ou aux activites\n        commerciales dans lesquelles est engagee MEPP, que vous soumettez a MEPP\n        (les &nbsp;Suggestions&nbsp;), ne sont pas confidentiels et peuvent etre\n        divulgues, utilises, adaptes ou appliques par eValorix sans aucune\n        obligation de remuneration ni toute autre forme de retribution.\n      </P>\n\n      <H5>7. Exoneration de garanties</H5>\n      <P>\n        LE SERVICE SONT FOURNIS TELS QUELS. LORSQUE VOUS UTILISEZ LE SERVICE,\n        VOUS RECONNAISSEZ ET CONVENEZ QUE VOUS LE FAITES ENTIEREMENT A VOS\n        PROPRES RISQUES ET PERILS. LE SERVICE PEUT ETRE ABANDONNE OU SON ACCES\n        PEUT ETRE INTERROMPU A TOUT MOMENT PAR MEPP OU AUTREMENT. MEPP NE\n        FORMULE AUCUNE DECLARATION NI GARANTIE QUANT AU SERVICES OU\n        FONCTIONNALITES OFFERTES SUR LE SERVICE, Y COMPRIS, NOTAMMENT :\n      </P>\n      <UL>\n        <LI>\n          A) QUANT A LEXACTITUDE, LEFFICACITE, A LA DISPONIBILITE, A\n          LEXHAUSTIVITE, A LA FIABILITE, A LOPPORTUNITE DU SERVICE;\n        </LI>\n        <LI>\n          B) QUANT AU FONCTIONNEMENT OU A LACCESSIBILITE DU SERVICE SANS\n          INTERRUPTION NI ERREUR;\n        </LI>\n        <LI>\n          C) QUANT A LA CORRECTION DES DEFAUTS OU DES ERREURS DANS LE SERVICE;\n        </LI>\n        <LI>\n          D) QUANT A LABSENCE DE VIRUS OU DELEMENTS DOMMAGEABLES DANS LE\n          SERVICE;\n        </LI>\n        <LI>\n          E) QUANT A LA TRANSMISSION SECURITAIRE OU SANS INTERCEPTION DES\n          COMMUNICATIONS PAR LINTERMEDIAIRE DU SERVICE.\n        </LI>\n      </UL>\n\n      <H5>8. Limitation de responsabilite</H5>\n      <P>\n        DANS LA PLEINE MESURE PERMISE PAR LES LOIS APPLICABLES, MEPP, SON\n        CONCEDANT DE LICENCE, LUNIVERSIT DE MONTREAL (<b>&nbsp;UdeM&nbsp;</b>) ET LEURS\n        DIRIGEANTS, ADMINISTRATEURS, AGENTS, REPRESENTANTS, EMPLOYES,\n        CHERCHEURS, ETUDIANTS, MANDATAIRES, PARTENAIRES COMMERCIAUX ET LEURS\n        SUCCESSEURS ET AYANTS CAUSE RESPECTIFS, NE SAURAIENT EN AUCUN CAS ETRE\n        TENUS RESPONSABLES DE QUELQUE DOMMAGE INDIRECT, DE SOURCE CONTRACTUELLE\n        OU EXTRACONTRACTUELLE (Y COMPRIS LA NEGLIGENCE) OU AUTREMENT, MEME SI\n        LUdeM CONNAISSAIT OU AURAIT DU CONNAITRE LA POSSIBILITE DE TELS\n        DOMMAGES OU PERTES. PAR AILLEURS, MEPP NA AUCUNE OBLIGATION DE\n        CONSERVER OU DE STOCKER LES DONNEES QUE VOUS AMASSEZ PAR VOTRE\n        UTILISATION DU SERVICE ET NE SAURAIT ETRE TENUE RESPONSABLE DE QUELQUE\n        PERTE OU DOMMAGE RESULTANT DUNE PERTE DE CES DONNEES.\n      </P>\n      <P>\n        SI VOUS DECIDEZ DUTILISER LE SERVICE, VOUS LE FAITES ENTIEREMENT A VOS\n        PROPRES RISQUES.\n      </P>\n      <P>\n        IL SE PEUT QUE LE PRESENT ARTICLE NE VOUS SOIT PAS APPLICABLE, EN TOUT\n        OU EN PARTIE EN RAISON DUNE LOI REGISSANT LES DROITS DES CONSOMMATEURS\n        OU DUNE AUTRE LOI DORDRE PUBLIC QUI POURRAIT ETRE APPLICABLE A VOTRE\n        SITUATION.\n      </P>\n\n      <H5>9. Indemnisation</H5>\n      <P>\n        MEPP nest pas responsable des actions que vous posez ou que vous vous\n        abstenez de poser en lien avec le Service (vos <b>&nbsp;Actes&nbsp;</b>).\n      </P>\n      <P>\n        Vous acceptez que vos Actes soient sous votre seule et unique\n        responsabilite et reconnaissez les avoir effectues en connaissance de\n        cause. MEPP ne pourrait etre consideree comme responsable de toute\n        transgression aux Conditions que vous avez ou pourriez avoir commise.\n      </P>\n      <P>\n        En consequence, vous acceptez dindemniser et de degager de toute\n        responsabilite MEPP, son concedant de licence, lUdeM, leurs filiales et\n        societes affiliees, administrateurs, dirigeants, agents, representants,\n        employes, chercheurs, etudiants, partenaires commerciaux, mandataires et\n        leurs successeurs et ayants cause respectifs a legard des pertes,\n        obligations, reclamations, demandes, dommages, couts et depenses de\n        toute nature que ce soit, y compris les honoraires davocat\n        raisonnables, relativement a vos Actes ainsi qua toute violation des\n        Conditions, de toute loi ou des droits dun tiers.\n      </P>\n\n      <H5>10. Duree et resiliation</H5>\n      <P>\n        Les presentes Conditions entrent en vigueur a la date a laquelle vous\n        les acceptez (telle que decrit dans le preambule). Nonobstant ce qui\n        precede, si vous avez utilise le Service avant la date a laquelle vous\n        avez accepte ces Conditions (tel que decrit dans le preambule), vous\n        reconnaissez et acceptez par les presentes que ces Conditions sont\n        entrees en vigueur a la date a laquelle vous avez utilise pour la\n        premiere fois le Service (qui est la plus ancienne et qui peut etre\n        anterieure a la date de version des Conditions) et resteront en vigueur\n        tant que vous utiliserez le Service, a moins quil ny soit mis fin plus\n        tot conformement aux Conditions .\n      </P>\n      <P>\n        Nous pouvons (a) suspendre vos droits dutilisation du Service ou (b)\n        resilier les Conditions, a tout moment, pour quelque raison que ce soit,\n        a notre seule discretion, avec ou sans preavis, y compris si nous\n        croyons de bonne foi que vous avez manque a vos obligations aux termes\n        des Conditions. Sans limiter ce qui precede, MEPP se reserve le droit de\n        resilier le droit dutilisation consenti a tout utilisateur qui enfreint\n        les droits dauteur dun tiers sur notification a MEPP par le titulaire\n        des droits dauteur ou son representant legal.\n      </P>\n      <P>\n        De votre cote, vous pouvez mettre fin a lentente qui vous lie a MEPP en\n        demandant  ladministrateur de fermer votre compte sur le Service et en\n        cessant dutiliser lapplication mobile et les composantes web du\n        Service.\n      </P>\n\n      <H5>11. Mineurs de moins de 16 ans</H5>\n      <P>\n        Si vous etes age de moins de 16 ans, vous ne pouvez pas utiliser le\n        Service.\n      </P>\n\n      <H5>12. Juridiction et lois applicables</H5>\n      <P>\n        Les Conditions sont regies et interpretees par les lois du Quebec et du\n        Canada qui y sont applicables, sans egard au principe de conflit de\n        lois.\n      </P>\n      <P>\n        Ce paragraphe ne sapplique pas aux consommateurs de la province de\n        Quebec (Canada), auxquels sapplique plutot la Loi sur la protection du\n        consommateur (Quebec) (chapitre P-40.1). Vous acceptez et reconnaissez\n        irrevocablement la competence exclusive des tribunaux de juridiction\n        federale et provinciale, siegeant dans et pour le district judiciaire de\n        Montreal relativement a tout litige a naitre decoulant des Conditions ou\n        y etant lie, vous y elisez domicile et renoncez a toute objection fondee\n        sur labsence de competence territoriale ou a toute demande fondee sur\n        la notion de forum non conveniens.\n      </P>\n\n      <H5>13. Divisibilite</H5>\n      <P>\n        Chacune des dispositions des Conditions est individuelle et distincte\n        et, si lune ou lautre des Conditions etait jugee invalide, illegale ou\n        inapplicable, lensemble des autres dispositions des Conditions\n        conserveraient pleine vigueur et plein effet.\n      </P>\n\n      <H5>14. Renonciation</H5>\n      <P>\n        Le fait que MEPP ninsiste pas sur la pleine execution dune obligation\n        prevue par ces Conditions ou nexerce pas un droit qui lui est confere\n        ne sera pas considere comme une renonciation a lexecution de cette\n        obligation ou a ce droit. Toute renonciation par MEPP a un droit qui lui\n        est confere aux termes de ces Conditions ne vaudra que si elle est\n        etablie par un ecrit signe et ne vaudra qua legard du droit et des\n        circonstances expressement vises par cette renonciation.\n      </P>\n\n      <H5>15. Modification</H5>\n      <P>\n        Le Service est un environnement dynamique sujet a changements. Lorsque\n        MEPP, a sa seule discretion, apportera des changements a ces Conditions,\n        nous modifierons la date de la <b>&nbsp;Derniere mise a jour&nbsp;</b> telle que\n        retrouvee ci-dessus. Bien quil ne soit pas de notre intention de\n        modifier frequemment ou substantiellement ces Conditions, il pourrait\n        arriver que nous le fassions pour mieux vous servir a lavenir ou pour\n        tenir compte de levolution de notre offre de services, de la\n        technologie ou de la loi. Nous vous invitons a en revoir le contenu\n        regulierement afin detre avertis de tout changement a ces Conditions.\n        Si les changements saverent substantiels, nous vous enverrons une\n        notification via le Service ou par tout autre moyen afin que vous\n        puissiez prendre connaissance des modifications avant de poursuivre\n        votre utilisation du Service. Pour continuer a utiliser le Service, vous\n        devrez accepter les Conditions mises a jour, sans quoi le Service ne\n        vous sera plus disponible.\n      </P>\n\n      <H5>16. Communications et Service a la clientele</H5>\n      <P>\n        Les avis quil est exige ou permis de donner en vertu des Conditions\n        doivent etre faits par ecrit et seront consideres comme ayant ete\n        valablement donnes sils sont envoyes par courriel ou par courrier\n        recommande aux adresses suivantes :\n      </P>\n      <UL>\n        <LI>\n          a) si le destinataire est ladministrateur du MEPP : 5415 Boulevard de\n          lAssomption, Montral, QC H1T 2M4; courriel&nbsp;:\n          <a href=\"mailto:info@mirroreffectplus.org\">info@mirroreffectplus.org</a>\n        </LI>\n        <LI>\n          b) si le destinataire est lUtilisateur : a ladresse courriel fournie\n          a MEPP. Toute communication a lUtilisateur pourra egalement etre\n          envoyee par courrier, lorsque disponible.\n        </LI>\n      </UL>\n      <P>\n        Les avis et les communications seront reputes avoir ete donnes et recus\n        le jour de leur remise ou de leur envoi effectif (ou, si ce jour ne\n        tombe pas un jour ouvrable, le jour ouvrable suivant), a moins davoir\n        ete remis ou recus apres 16 h 30, auquel cas ils seront reputes avoir\n        ete donnes et recus le jour ouvrable suivant.\n      </P>\n\n      <H5>17. Survie</H5>\n      <P>\n        Les articles 6 (Soumission didees), 7 (Exoneration de garanties), 8\n        (Limitation de responsabilite), 9 (Indemnisation), 12 (Juridiction et\n        lois applicables), 13 (Divisibilite), 14 (Renonciation) et 17 (Survie)\n        continueront de produire leurs effets a la resiliation ou a lexpiration\n        de ces Conditions.\n      </P>\n\n      <P>\n        <b>Pour toute question ou commentaire concernant ces Conditions, nhesitez\n          pas a communiquer avec notre service a la clientele:</b>\n      </P>\n      <P>Courriel&nbsp;: <a href=\"mailto:info@mirroreffectplus.org\">info@mirroreffectplus.org</a></P>\n      <ButtonsWrapper>\n        <LoginLink\n          href=\"#\"\n          onClick={(e) => {\n            e.preventDefault();\n            window.location.href = '#/login';\n          }}\n        >\n          {t('cta:goto_login')}\n        </LoginLink>\n      </ButtonsWrapper>\n    </>\n  );\n};\n\nconst TermEn = ({t}) => {\n  return (\n    <>\n      <H3>TERMS OF USE</H3>\n      <P>Latest update: December 2021</P>\n\n      <H5>1. Field of application</H5>\n      <P>\n        These general conditions (hereafter the <b>Conditions</b>) constitute a legal agreement between you (<b>you</b> or the <b>User</b>),\n        and the MEPP team, also doing business under the name MEPP (<b>MEPP</b> or <b>we</b>) and regulate the use of the <b>MEPP</b>\n        platform, including a website and a mobile application (the <b>Service</b>).\n      </P>\n      <P>\n        PLEASE READ ALL OF THE CONDITIONS IN DETAIL BEFORE USING THE SERVICE.\n      </P>\n\n      <H5>2. Acceptation of the Conditions</H5>\n      <P>\n        By accepting the Conditions, you accept to be bound, without reserve or restriction, by the terms and stipulations of the Conditions. The access and use of the Service are subject to the full compliance to these Conditions without reserve.\n      </P>\n      <P>\n        If you do not wish to be bound by these Conditions or if you do not fully accept them, you must abstain from accessing or using the Service.\n      </P>\n      <P>\n        Subject to these terms and Conditions, MEPP grants you, for the duration of the agreement documented by these Conditions:\n      </P>\n      <UL>\n        <LI>\n          The right to access the web components of the Service and to use its functionalities; and\n        </LI>\n        <LI>\n          A non-transferable, non-exclusive license for (a) personal use, and (b) to copy, for download, installation, execution purposes, the number of copies for which you are authorized by the application download site, on a mobile device that you own or control for your personal use and to use it to access and use the Service;\n        </LI>\n      </UL>\n\n      <H5>3. Copyright</H5>\n      <P>\n        Excluding images, photos, music, or video files broadcast with the mobile application associated to the Service (the Audiovisual content), which remain the property of their respective beneficiaries, the Service and its components are used by MEPP under third-party license and may be protected by the laws in matters of intellectual property, including the Copyright law (L.R.C. (1985) ch. C-42).\n      </P>\n      <P>\n        In addition to the right to use, which are granted to you in the terms of these Conditions, MEPP reserves, in their own name or that of its licensors, all its rights regarding the Service. Consequently, it is forbidden to copy, reproduce, modify, reformulate, reedit, and more generally use the elements composing the Service, both in part and in full, without previously obtaining the written authorization of MEPP.\n      </P>\n\n      <H5>4. Your obligations</H5>\n      <P>\n        By using the Service, without limiting the scope of what is otherwise prescribed in the Conditions, you accept to (i) respect all the laws which are applicable in your territory of residence, (ii) to communicate exact information and to update them and (iii) to use the Service in a reasonable and responsible manner.\n      </P>\n      <P>Additionally, you commit to not:</P>\n      <UL>\n        <LI>a) use the Service for illegal or illicit purposes;</LI>\n        <LI>\n          b) breach the intellectual property rights of MEPP or others, including its licensor, notably the patents, trademarks, trade secrets, licenses, copyrights or any other property rights;\n        </LI>\n        <LI>\n          c) monitor the availability, performance or functionality of the Service for competition purposes;\n        </LI>\n        <LI>\n          d) use manual coding software, devices, robots or automats or any other means to access, decompose, analyze or index the functionalities of the Service or any related service, data or information;\n        </LI>\n        <LI>\n          e) transmit destructive code likely to damage, surreptitiously intercept or expropriate a system, data or personal information or to interfere with them in a detrimental manner;\n        </LI>\n        <LI>f) contourner toute fonctionnalite de securite du Service;</LI>\n        <LI>\n          g) use the Service for a use for which it is not destined, notably for commercial purposes.\n        </LI>\n      </UL>\n\n      <H5>5. Links to third party sites or resources</H5>\n      <P>\n        On the Service you may find hyperlinks leading to websites or other resources which are not under the control or responsibility of MEPP. MEPP does not have any means to control these websites and is not accountable for the availability, reliability or legality of such websites nor guarantees them. MEPP does not caution nor approve the contents which these websites give access to and excludes any responsibility and guarantee pertaining to them. The User who accesses the third-party Websites does so at their own risk.\n      </P>\n\n      <H5>6. Ideas submission</H5>\n      <P>\n        You acknowledge that your comments, suggestions, ideas or propositions pertaining to the Service, its functionalities or commercial activities in which MEPP is engaged, that you submit to MEPP (the Suggestions), are not confidential and may be disclosed, used, adapted or applied by eValorix without the obligation of any remuneration or any other form of retribution.\n      </P>\n\n      <H5>7. Guarantees exemption</H5>\n      <P>\n        THE SERVICES ARE PROVIDED AS IS. WHEN YOU USE THE SERVICE, YOU ACKNOWLEDGE AND AGREE THAT YOU DO SO FULLY AT YOUR OWN RISKS AND PERILS. THE SERVICE MAY BE ABANDONED OR ITS ACCESS MAY BE INTERRUPTED AT ANY TIME BY MEPP OR OTHERWISE. MEPP DOES NOT FORMULATE ANY DECLARATION OR GUARANTEE REGARDING THE SERVICES OR THE FUNCTIONALITIES OFFERED ON THE SERVICE, INCLUDING NOTABLY:\n      </P>\n      <UL>\n        <LI>\n          A) PERTAINING TO THE EXACTITUDE, EFFICIENCY, AVAILABILITY, EXHAUSTIVITY, RELIABILITY, OPPORTUNITY OF THE SERVICE;\n        </LI>\n        <LI>\n          B) PERTAINING TO THE FUNCTIONING OR THE ACCESSIBILITY OF THE SERVICE WITHOUT INTERRUPTION OR ERROR;\n        </LI>\n        <LI>\n          C) PERTAINING TO THE CORRECTION OF THE FAULTS OR ERRORS IN THE SERVICE;\n        </LI>\n        <LI>\n          D) PERTAINING TO THE ABSENCE OF VIRUS OR DAMAGEABLE ELEMENTS IN THE SERVICE;\n        </LI>\n        <LI>\n          E) PERTAINING TO THE SAFE TRANSMISSION OF THE COMMUNICATIONS OR WITHOUT INTERCEPTION THROUGH THE SERVICE\n        </LI>\n      </UL>\n\n      <H5>8. Liability limitations</H5>\n      <P>\n        TO THE FULL EXTENT PERMITTED BY THE APPLICABLE LAWS, MEPP, ITS LICENSOR, THE UNIVERSITY OF MONTREAL (<b>UdeM</b>) AND THEIR DIRECTORS, ADMINISTRATORS, AGENTS, REPRESENTATIVES, EMPLOYEES, RESEARCHERS, STUDENTS, AUTHORIZED REPRESENTATIVES, COMMERCIAL PARTNERS AND THEIR RESPECTIVE SUCCESSORS AND BENEFICIARIES CANNOT IN ANY CASE BE HELD RESPONSIBLE FOR ANY INDIRECT DAMAGE, OF CONTRACTUAL OR EXTRACONTRACTUAL SOURCE (INCLUDING THE NEGLIGENCE) OR OTHERWISE, EVEN IF UdeM KNEW OR SHOULD HAVE KNOWN THE POSSIBILITY OF SUCH DAMAGES OR LOSS. IN ADDITION, MEPP DOES NOT HAVE ANY OBLIGATION TO KEEP OR STORE THE DATA YOU AMASS THROUGH YOUR USE OF THE SERVICE AND CANNOT BE HELD RESPONSIBLE FOR ANY LOSS OR DAMAGE RESULTING FROM A LOSS OF THIS DATA.\n      </P>\n      <P>\n        IF YOU DECIDE TO USE THE SERVICE, YOU DO SO FULLY AT YOUR OWN RISK.\n      </P>\n      <P>\n        IT IS POSSIBLE FOR THIS ARTICLE TO NOT BE APPLICABLE TO YOU, IN FULL OR IN PART, BECAUSE OF A LAW RULING THE CONSUMERS RIGHTS OR ANY OTHER PUBLIC LAW WHICH MAY BE APPLICABLE TO YOUR SITUATION.\n      </P>\n\n      <H5>9. Compensation</H5>\n      <P>\n        MEPP is not responsible for the actions you take or abstain from taking in relation with the Service (your <b>Actions</b>).\n      </P>\n      <P>\n        You accept that your Actions are under your sole responsibility and acknowledge having taken them with full knowledge of the facts. MEPP cannot be deemed responsible of any transgression of the Conditions that you have or may have made.\n      </P>\n      <P>\n        Consequently, you accept to compensate and hold harmless MEPP, its licensor, UdeM, their branches and affiliated companies, administrators, directors, agents, representatives, employees, researchers, students, commercial partners, authorized representative and their respective successors and rightful claimants in regard to the losses, obligations, claims, requests, damages, costs and expenses of any type that may be, including the reasonable attorneys fees, pursuant to your Actions, as well as any breach of the Conditions, of any law or of a third partys rights.\n      </P>\n\n      <H5>10. Duration and cancelation</H5>\n      <P>\n        These Conditions take effect on the date on which you accept them (as described in the preamble). Notwithstanding what precedes, if you have used the Service before the date on which you accepted these Conditions (as described in the preamble), you hereby acknowledge and accept that these Conditions entered into effect on the date on which you used the Service for the first time (which is the oldest and which may be anterior to the version date of the Conditions) and will remain in effect for as long as you use the Service, unless an end is put to them earlier in compliance with the Conditions.\n      </P>\n      <P>\n        We can (a) suspend your rights to use the Service or (b) cancel the Conditions, at any time, for any reason, at our sole discretion, without or without notice, including if we believe in good faith that you neglected your duties in the terms and Conditions. Without limiting what precedes, MEPP reserves the right to cancel the usage right granted to any user who infringes the copyright of a third party upon notification to MEPP by the holder of the copyright or their legal representative.\n      </P>\n      <P>\n        On your side, you may put an end to the agreement which binds you to MEPP by requesting for the administrator to close your account on the Service and by stopping the use of the mobile application and the web components of the Service.\n      </P>\n\n      <H5>11. Minors under 16 years old</H5>\n      <P>\n        If you are under 16 years old, you cannot use the Service.\n      </P>\n\n      <H5>12. Jurisdiction and applicable laws</H5>\n      <P>\n        The Conditions are ruled and interpreted by the laws of Quebec and of Canada which are applicable, without regard to the laws conflict principle.\n      </P>\n      <P>\n        This paragraph does not apply to consumer of the province of Quebec (Canada), to whom the <i>Consumer protection</i> law (Quebec) (chapter P-40.1) applies. You irrevocably accept and acknowledge the exclusive competence of the federal and provincial jurisdiction tribunals, sitting in and for the judiciary district of Montreal in relation to any dispute arising from the Conditions or related to them, you elect domicile there and renounce to any objection founded on the absence of territorial competence or any request founded on the <i>non conveniens forum</i> notion.\n      </P>\n\n      <H5>13. Divisibility</H5>\n      <P>\n        Each of the provisions of the Conditions is individual and distinct and if, one or the other of the Conditions were deemed invalid, illegal, or inapplicable, the other provisions of the Conditions conserve full applicability and effect.\n      </P>\n\n      <H5>14. Renunciation</H5>\n      <P>\n        The fact that MEPP does not insist on the full execution of an obligation prescribed by these Conditions or does not practice a right which is conferred to them will not be considered as a renunciation to the execution of this obligation or right. Any renunciation by MEPP to a right that is conferred to them in the terms of these Conditions will only be applicable if it is established in writing and signed and will only be applicable toward the right or the circumstances expressly targeted by this renunciation.\n      </P>\n\n      <H5>15. Modification</H5>\n      <P>\n        The Service is a dynamic environment subject to changes. When MEPP, at its sole discretion, makes changes to these Conditions, we will modify the Latest update date as see above. Although it is not our intention to frequently or substantially modify these Conditions, it may happen that we do it to better serve you in the future or to consider the evolution of our services offer, technology and law. We invite you to regularly review its content to be aware of any change to these Conditions. If changes are substantial, we will send you a notification via the Service or any other mean for you to be informed of the modifications before continuing your use of the Service. To continue to use the Service, you will have to accept the updated Conditions, otherwise the Service will no longer be available to you.\n      </P>\n\n      <H5>16. Communications and Customer Service</H5>\n      <P>\n        The notices which are required to or allowed to be given pursuant to the Conditions must be sent in writing and will be considered as having been validly given if they are sent by Email or registered mail to the following addresses:\n      </P>\n      <UL>\n        <LI>\n          a) if the recipient is the MEPP administrator: 5415 Boulevard de\n          lAssomption, Montreal, QC H1T 2M4; E-mail:\n          <a href=\"mailto:info@mirroreffectplus.org\">info@mirroreffectplus.org</a>\n        </LI>\n        <LI>\n          b) if the recipient is the User: at the Email addresss provided to MEPP. Any communication to the User may also be sent by post when available.\n        </LI>\n      </UL>\n      <P>\n        The notices and communications will be deemed having been given and received on the day of their remittance or their effective expedition (or if that day is not a business day, the following day), unless it has been remitted or received after 4.30 PM, in which case they will be deemed having been given or received on the following business day.\n      </P>\n\n      <H5>17. Survival</H5>\n      <P>\n        Articles 6 (Ideas submission), 7 (Guarantees exemption), 8 (Liability limitations), 9 (Compensation), 12 (Jurisdiction and applicable laws), 13 (Divisibility), 14 (Renunciation) and 17 (Survival) will continue to produce their effects upon the cancelation or expiration of these Conditions.\n      </P>\n\n      <P>\n        <b>For any question or comment regarding these Conditions, please do not hesitate to communicate with our customer service:</b>\n      </P>\n      <P>E-mail: <a href=\"mailto:info@mirroreffectplus.org\">info@mirroreffectplus.org</a></P>\n\n      <ButtonsWrapper>\n        <LoginLink\n          href=\"#\"\n          onClick={(e) => {\n            e.preventDefault();\n            window.location.href = '#/login';\n          }}\n        >\n          {t('cta:goto_login')}\n        </LoginLink>\n      </ButtonsWrapper>\n    </>\n  );\n};\n\nconst ContainerWrapper = styled(Wrapper)`\n  position: relative;\n  padding-top: 120px;\n  padding-bottom: ${spacings.default * 2}px;\n\n  ${media.xsOnly`\n    padding-top: 0px;\n  `}\n\n  @media screen and (max-height: 850px) {\n    padding-top: 0px;\n  }\n`;\n\nconst ContainerInner = styled.div``;\n\nconst ButtonsWrapper = styled.div`\n  ${FlexAlignMiddle.CSS}\n  flex-direction: column;\n`;\n\nconst LoginLink = styled(Href)`\n  margin: ${spacings.default * 2}px 0 0;\n`;\n\nexport default TermsPage;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { createGlobalStyle } from 'styled-components';\nimport { normalize } from 'styled-normalize';\nimport reset from 'styled-reset';\n\nimport { BASE_FONT_SIZE } from '@styles/configs/fontsize';\nimport { spacings } from '@styles/configs/spacings';\nimport { zindex } from '@styles/configs/zindex';\nimport { rem } from '@styles/utils/rem';\n\nimport { theme } from '@themes/index';\n\nimport { HeadingCss } from '@components/generics/basics/Heading';\nimport { hrefCss } from '@components/generics/basics/Href';\nimport { ParagraphBaseCss } from '@components/generics/basics/Paragraph';\n\n/**\n * Global style definition (use it with precaution)\n */\nconst GlobalStyles = createGlobalStyle`\n  ${normalize}\n  ${reset}\n\n  html {\n    font-size: ${rem(BASE_FONT_SIZE)};\n    font-family: 'Inter', Helvetica, Arial, sans-serif;\n    font-weight: 500;\n    width: 100%;\n    height: -webkit-fill-available;\n    scroll-behavior: smooth;\n    overflow-x: hidden;\n  }\n\n  body{\n    position: relative;\n    background-color: ${theme.colors.background};\n    color: ${theme.colors.text};\n    font-family: 'Inter', Helvetica, Arial, sans-serif;\n    line-height: 1;\n\n    min-height: 100vh;\n    min-height: -webkit-fill-available;\n\n    font-size: ${rem(BASE_FONT_SIZE)};\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    overflow-x: hidden;\n  }\n\n  h1 {\n    ${HeadingCss.h1}\n  }\n\n  h2 {\n    ${HeadingCss.h2}\n  }\n\n  h3 {\n    ${HeadingCss.h3}\n  }\n\n  h4 {\n    ${HeadingCss.h4}\n  }\n\n  h5 {\n    ${HeadingCss.h5}\n  }\n\n  h6 {\n    ${HeadingCss.h6}\n  }\n\n  p {\n    ${ParagraphBaseCss}\n  }\n\n  a {\n    ${hrefCss}\n  }\n\n  strong {\n    font-weight: 700;\n  }\n\n  hr{\n    border: 0;\n    height: ${rem(2)};\n    background-color: ${theme.colors.grey};\n    margin: ${rem(spacings.default / 2)} 0;\n  }\n\n  button, a {\n    border: none;\n    border-radius: 0;\n    outline: none;\n    -webkit-appearance: none;\n\n    &:focus-visible {\n      outline-width: 2px;\n      outline-offset: 4px;\n      outline-style: dotted;\n      outline-color: ${theme.colors.primary};\n      box-shadow: 0px 0px 0px 2px ${theme.colors.white};\n    }\n\n    &:focus:not(:focus-visible) {\n      outline: none;\n    }\n\n  }\n\n  ul {\n    line-height: 1.5;\n    list-style-type: square;\n    list-style-position: inside;\n  }\n\n  ol {\n    line-height: 1.5;\n    list-style-type: decimal;\n    list-style-position: inside;\n  }\n\n  input {\n    -webkit-appearance: none;\n\n    &:focus {\n     outline: none;\n    }\n  }\n\n  .MuiScopedCssBaseline-root {\n    background-color: ${theme.colors.background};\n    color: ${theme.colors.text};\n    font-family: 'Inter', Helvetica, Arial, sans-serif;\n    line-height: 1;\n    font-size: ${rem(BASE_FONT_SIZE)};\n  }\n\n  .lil-gui.autoPlace {\n    top: 23px;\n    right:0;\n    z-index: ${zindex.max};\n  }\n`;\n\nexport default React.memo(GlobalStyles);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { detect } from 'detect-browser';\nimport React, { useEffect, useState, useRef } from 'react';\nimport { useTranslation } from 'react-i18next';\nimport cmp from 'semver-compare';\nimport styled from 'styled-components';\n\nimport { FlexAlignCenter } from '@styles/tools';\nimport { rem } from '@styles/utils/rem';\n\nconst browsers = {\n  chrome: '112.0',\n  firefox: '111.0',\n  edge: '9999.0',\n  'edge-chromium': '9999.0',\n  safari: '13.0',\n  opera: '9999',\n  msie: '20',\n  yandex: '9999',\n};\n\n/**\n * Browser Support Banner Detection\n */\nconst BrowserSupportBanner = () => {\n  const { t } = useTranslation();\n  const [supported, setSupported] = useState(null);\n  const browserName = useRef(null);\n  const browserVersion = useRef(null);\n\n  const supportedBrowser = (browser) => {\n    if (!browser) return false;\n    if (!browser.name) return false;\n    if (!browsers[browser.name])\n      return true; // unknown browser = supported by default (like Android navigators)\n    else {\n      if (cmp(browser.version, browsers[browser.name]) < 0) return false;\n      else return true;\n    }\n  };\n\n  useEffect(() => {\n    if (supported === true || supported === false) return;\n\n    const browser = detect();\n    if (browser) {\n      if (browser.name && browser.version) {\n        browserName.current = browser.name;\n        browserVersion.current = browser.version;\n        setSupported(supportedBrowser(browser));\n      }\n    }\n  }, [setSupported]);\n\n  return (\n    <>\n      {supported === false && (\n        <Container>\n          {t('browserSupport:label').replace(\n            /{([\\s\\S]+?)}/g,\n            (match, value) => {\n              const key = value.trim();\n              const data = {\n                name: browserName.current,\n                version: browserVersion.current,\n              };\n              return data[key] === undefined ? '' : data[key];\n            },\n          )}\n        </Container>\n      )}\n    </>\n  );\n};\n\nconst Container = styled(FlexAlignCenter.Component)`\n  padding: 10px;\n  font-weight: bold;\n  font-size: ${rem(14)};\n  color: ${({ theme }) => theme.colors.tertiary};\n  background-color: ${({ theme }) => theme.colors.warning};\n`;\n\nexport { BrowserSupportBanner };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\n\nimport { FlexAlignCenter } from '@styles/tools';\nimport { rem } from '@styles/utils/rem';\n\n/**\n * Environment Banner (show dev/staging banner)\n * default = Prod\n */\nconst EnvironmentBanner = () => {\n  const [isProd, setIsProd] = useState(true);\n\n  useEffect(() => {\n    if (isProd === false) return;\n\n    // env detection\n    const env = process.env.ENVIRONMENT;\n    if (env === 'staging') {\n      setIsProd(false);\n    }\n  }, [setIsProd]);\n\n  return (\n    <>\n      {isProd === false && (\n        <Container>Version {`${process.env.ENVIRONMENT}`}</Container>\n      )}\n    </>\n  );\n};\n\nconst Container = styled(FlexAlignCenter.Component)`\n  padding: 3px;\n  font-size: ${rem(12)};\n  font-weight: bold;\n  color: ${({ theme }) => theme.colors.white};\n  background-color: ${({ theme }) => theme.colors.primary};\n`;\n\nexport { EnvironmentBanner };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport ReactAdminEn from 'ra-language-english';\n\nimport a11y from './a11y';\nimport admin from './admin';\nimport api from './api';\nimport cta from './cta';\nimport exercise from './exercise';\nimport footer from './footer';\nimport form from './form';\nimport intro from './intro';\nimport settings from './settings';\n\nexport default {\n  ...ReactAdminEn,\n  ...admin,\n  ...a11y,\n  ...cta,\n  ...form,\n  ...footer,\n  ...intro,\n  ...exercise,\n  ...settings,\n  ...api,\n\n  temporaryProfile: {\n    label: 'You are connected a temporary session',\n  },\n\n  browserSupport: {\n    label: '{name} version {version} is not supported',\n  },\n\n  GUI: {\n    title: 'Effect settings',\n    folders: {\n      position: 'Position',\n      rotation: 'Rotation',\n      scale: 'Scale',\n    },\n    labels: {\n      position: {\n        x: 'Left  Right',\n        y: 'Top  Bottom',\n        z: 'Forward  Backward',\n      },\n      rotation: {\n        x: 'x',\n        y: 'y',\n        z: ' | ',\n      },\n      scale: {\n        x: 'Narrow  Large',\n        y: 'Small  Long',\n        z: 'z',\n      },\n    },\n    cta: {\n      profile: 'Profile values',\n      default: 'Default values',\n    },\n    confirm: {\n      title: 'Are you sure you want to exit without saving?',\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  admin: {\n    shared: {\n      labels: {\n        archives: 'Archives',\n        cancelButton: 'Cancel',\n        confirmButton: 'Confirm',\n        archiveButton: 'Archive',\n        unarchiveButton: 'Restore',\n        activateButton: 'Activate',\n        deactivateButton: 'Desactivate',\n        backButton: 'Back',\n        exportButton: 'Export',\n        card: {\n          identity: 'Identity',\n          informations: 'Profile',\n          reset_password: 'Reset the password',\n          create_password: 'Create the password',\n        },\n        profile: 'My profile'\n      },\n      notifications: {\n        archive: {\n          success: 'Item has been archived successfully',\n          failure: 'An error has occurred',\n        },\n        unarchive: {\n          success: 'Item has been restored successfully',\n          failure: 'An error has occurred',\n        },\n        activate: {\n          success: 'Item has been activated successfully',\n          failure: 'An error has occurred',\n        },\n        deactivate: {\n          success: 'Item has been deactivated successfully',\n          failure: 'An error has occurred',\n        },\n        bulkArchive: {\n          success: 'Items have been archived successfully',\n          failure: 'An error has occurred',\n        },\n        bulkUnarchive: {\n          success: 'Items have been restored successfully',\n          failure: 'An error has occurred',\n        },\n        'export': {\n          start: 'The download still start soon',\n          failure: 'An error has occurred',\n        },\n        mirror: {\n          failure: 'An error has occurred',\n        },\n        language: {\n          success: 'Your language has been updated successfully',\n          failure: 'An error has occurred. Your profile has not been updated',\n        },\n        profile: {\n          success: 'Your profile has been updated successfully',\n        },\n      },\n      text: {\n        cancelDialog: {\n          title: 'Are your sure?',\n          body: 'All the changes will be lost',\n        },\n        emailDialog: {\n          title: 'Onboarding e-mail',\n          body: 'Are you sure you want to send the e-mail again?',\n        },\n      },\n      errors: {\n        field_required: 'This field is required',\n        password_mismatch: 'Passwords do not match',\n        password_too_short: 'Password must be %{min_length} characters long',\n        password_not_secure: 'Password must contain at least one lower case, one upper case one number and one special character (-_ @$!%*#?&)',\n        password_required: 'This field is required',\n      }\n    },\n    dashboard: {\n      title: 'Welcome %{name}',\n      labels: {\n        openMirrorButton: 'Open the facial mirror'\n      },\n      widgets: {\n        daily_repeats: {\n          card_header: 'Completed repetitions'\n        },\n        sessions: {\n          card_header: 'Open sessions'\n        },\n        choices: {\n          one_week: 'the last 7 days',\n          two_weeks: 'the last 14 days',\n          one_month: 'the last 30 days',\n          all: 'all time'\n        },\n        labels: {\n          completed: 'Completed',\n          uncompleted: 'Uncompleted',\n          since: 'For'\n        }\n      },\n      mirror_dialog: {\n        title: 'Open the facial mirror',\n        labels: {\n          autocomplete: 'Choose a patient'\n        }\n      }\n    },\n  },\n\n  languages: {\n    'en': 'English',\n    'fr': 'Franais',\n  },\n\n  resources: {\n    categories: {\n      name: 'Category |||| Categories',\n      fields: {\n        'i18n.name.en': 'Name',\n        'i18n.name': 'Name'\n      }\n    },\n    clinicians: {\n      name: 'Clinician |||| Clinicians',\n      fields: {\n        email: 'E-mail',\n        first_name: 'First name',\n        full_name: 'Full name',\n        last_name: 'Last name',\n        language: 'Language',\n        password: 'Password',\n        confirm_password: 'Confirm the password',\n        archived: 'Archives',\n        is_superuser: 'Administrator'\n      },\n      list: {\n        labels: {\n          patients_count: 'Patients',\n        },\n      },\n      card: {\n        title: {\n          default: 'Clinician %{placeholder}',\n          create: 'Add a clinician'\n        },\n      },\n      delete: {\n        confirmTitle: 'Delete the clinician %{placeholder}',\n      },\n      errors: {\n        email: 'E-mail address already in use'\n      },\n    },\n    exercises: {\n      name: 'Exercise |||| Exercises',\n      fields: {\n        archived: 'Archives',\n        'i18n.description.en': 'Description',\n        'i18n.description': 'Description',\n        movement_duration: 'Duration',\n        pause: 'Pause',\n        repeat: 'Repetitions',\n        clinician_uid: 'Clinician',\n        category__uid: 'Category',\n        uid: 'Sub-category',\n        is_system: 'System',\n        sub_categories: 'Categories and sub-categories'\n      },\n      card: {\n        title: {\n          default: 'Exercise %{placeholder}',\n          create: 'Add an exercise'\n        },\n        labels: {\n          definition: 'Definition',\n          classification: 'Classification'\n        }\n      },\n      list: {\n        labels: {\n          user: 'My exercises',\n          system: 'System'\n        }\n      },\n      delete: {\n        confirmTitle: 'Delete the exercise %{placeholder}',\n      },\n      errors: {\n        sub_categories: 'You must choose at least one category/sub-category',\n        gt_zero: 'Must be greater than zero'\n      }\n    },\n    patients: {\n      name: 'Patient |||| Patients',\n      fields: {\n        archived: 'Archives',\n        clinician_uid: 'Clinician',\n        email: 'E-mail',\n        first_name: 'First name',\n        full_name: 'Full name',\n        last_name: 'Last name',\n        side: 'Paralyzed side',\n        use_audio: 'Audio on',\n        language: 'Language',\n        password: 'Password',\n        confirm_password: 'Confirm the password',\n      },\n      card: {\n        title: {\n          default: 'Patient %{placeholder}',\n          create: 'Add a patient'\n        },\n        labels: {\n          plans: 'Treatment plan',\n        },\n        plan_dialog: {\n          title: 'Add a treatment plan',\n          labels: {\n            autocomplete: 'Name',\n            radio_new: 'Create a new treatment plan',\n            radio_template: 'Use an existing template'\n          }\n        },\n        actions: {\n          copy: 'Create a template'\n        }\n      },\n      errors: {\n        email: 'E-mail address already in use'\n      },\n      filters: {\n        last_visited: 'Last visit',\n        today: 'Today',\n        this_week: 'This week',\n        this_month: 'This month',\n      },\n      shared: {\n        side: {\n          '0': 'Left',\n          '1': 'Right',\n        },\n        audio: {\n          'true': 'Yes',\n          'false': 'No',\n        },\n      },\n      delete: {\n        confirmTitle: 'Delete the patient %{placeholder}',\n      },\n      notifications: {\n        plans: {\n          add: {\n            success: 'Treatment plan added successfully',\n            failure: 'An error has occurred',\n          },\n        },\n        email: {\n          send: {\n            success: 'E-mail has been sent successfully',\n            failure: 'An error has occurred. No e-mails have been sent',\n          }\n        }\n      },\n    },\n    plans: {\n      name: 'Treatment plan |||| Treatment plans',\n      fields: {\n        name: 'Name',\n        'i18n.name.en': 'Name',\n        'i18n.name': 'Name',\n        'i18n.description.en': 'Description',\n        'i18n.description': 'Description',\n        clinician_uid: 'Clinician',\n        archived: 'Archives',\n        daily_repeat: 'Daily repetitions',\n        randomize: 'Random positions',\n        is_system: 'System',\n        start_date: 'Start date',\n        end_date: 'End date',\n        exercise: {\n          description: 'Description',\n          movement_duration: 'Duration',\n          pause: 'Pause',\n          repeat: 'Repetitions'\n        }\n      },\n      list: {\n        labels: {\n          exercises_count: 'Exercises',\n          user: 'My templates',\n          admin: 'Templates',\n          system: 'System'\n        },\n      },\n      edit: {\n        title: 'Treatment plan %{placeholder}',\n      },\n      show: {\n        title: 'Treatment plan %{placeholder}',\n      },\n      delete: {\n        confirmTitle: 'Delete the treatment plan %{placeholder}',\n      },\n      card: {\n        exercise_dialog: {\n          title: 'Add an exercise',\n          labels: {\n            autocomplete: {\n              category: 'Category',\n              sub_category: 'Sub-category',\n              exercise: 'Description',\n              sub_category_empty_label: 'All'\n            }\n          }\n        },\n        title: {\n          default: 'Treatment plan %{placeholder}',\n          create: 'Add a treatment plan'\n        },\n        labels: {\n          definition: 'Definition',\n          exercises: 'Exercises',\n          is_system_warning: 'All related exercises will be publicly accessible'\n        }\n      }\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  a11y: {\n    show_password: 'View your password',\n    settings: 'Go to settings',\n    support: 'Go to support page',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  cta: {\n    login: 'Connect',\n    logout: 'Logout',\n\n    send: 'Send',\n\n    goto_forgot_password: 'Forgot your password?',\n    goto_login: 'Back to login',\n\n    start: 'Start the session',\n    settings: 'Configure the effect',\n    start_exercise: 'Start',\n    restart: 'Start a new session',\n    restart_exercise: 'Continue',\n    pause_exercise: 'Pause',\n    skip_exercise: 'Skip',\n    next_exercise: 'Next',\n    authorize: 'Authorize',\n\n    cancel: 'Cancel',\n    close: 'Close',\n    save: 'Save',\n    modify: 'Modify',\n    back: 'Back',\n    confirm: 'Ok',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  form: {\n    field: {\n      email: {\n        label: 'Your e-mail address',\n        placeholder: 'E-mail address',\n      },\n      password: {\n        label: 'Your password',\n        placeholder: 'Password',\n      },\n      oldpassword: {\n        label: 'Your password',\n        placeholder: '',\n      },\n      confirmpassword: {\n        label: 'Confirm your new password',\n        placeholder: '',\n      },\n      newpassword: {\n        label: 'New password',\n        placeholder: '',\n      },\n      error: {\n        login_invalid: 'Your e-mail address or password is invalid',\n        email_invalid: 'Invalid e-mail address',\n        pwd_not_match: 'Passwords do not match',\n        pwd: 'Invalid password',\n        min_length: 'This password is too short',\n        required: 'This field is required',\n      },\n    },\n\n    login: {\n      title: 'Login',\n    },\n\n    reset_password: {\n      title: 'Reset your password',\n      success: 'Your password has been modified successfully.',\n    },\n\n    forgot_password: {\n      title: 'Forgot your password?',\n      introduction:\n        'Please provide your e-mail address and we will send you a link to reset your password.',\n      success:\n        'If your account exists, an e-mail will be sent to <span>{{ email }}</span>. Please follow the provided instructions.',\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  footer: {\n    title: 'With the financial aid from',\n    copyright: 'All rights reserved  MEPP 2021',\n    privacy: 'Privacy\\u00A0policy',\n    termsofuse: 'Terms of Use',\n    license: 'License',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  intro: {\n    title: 'Hello {{name}}',\n    introduction: 'Ready to start your workout? Focus on the muscle contractions and try to feel them, even if you do not see any movement. Relax the other muscles in your face.',\n    instruction:\n      'Do the exercises slowly, following the suggested rhythm.',\n  },\n  permission: {\n    title: 'Permission',\n    introduction:\n      'To be able to continue with your session, you must allow this web page access to your camera and microphone.',\n    instruction:\n      'To access your session, you will first need to authorize it by changing your browser settings.',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  exercise: {\n    name: 'Exercise',\n    rest: 'Make a pause for a moment',\n    complete: 'Exercise completed',\n    end: 'Congratulations! You are at the end of your workout. Keep up the good work: perseverance is essential to your success.',\n    empty: 'A treatment plan has not been created for you yet. See your clinician to activate your profile.',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  settings: {\n    title: 'Settings',\n    nav: {\n      languages: 'Language',\n      infos: 'Credentials',\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  api: {\n    success: {\n      settings_update: 'Effects settings has been updated successfully',\n      profile_update: 'Your profile has been updated successfully',\n    },\n    error: {\n      generic: 'An error has occurred',\n      token_invalid: 'Your request is invalid or has expired',\n      pwd_invalid: 'Your password is invalid',\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport ReactAdminFr from 'ra-language-french';\n\nimport a11y from './a11y';\nimport admin from './admin';\nimport api from './api';\nimport cta from './cta';\nimport exercise from './exercise';\nimport footer from './footer';\nimport form from './form';\nimport intro from './intro';\nimport settings from './settings';\n\nconst reactAdminFrOverride = { ...ReactAdminFr };\nreactAdminFrOverride.ra.action.show = 'Voir';\nreactAdminFrOverride.ra.action.edit = 'Modifier';\nreactAdminFrOverride.ra.notification.updated =\n  'lment mis  jour avec succs |||| %{smart_count} lements mis  jour avec succs';\nreactAdminFrOverride.ra.notification.created = 'lment cr avec succs';\n\nexport default {\n  ...reactAdminFrOverride,\n  ...admin,\n  ...a11y,\n  ...cta,\n  ...form,\n  ...footer,\n  ...intro,\n  ...exercise,\n  ...settings,\n  ...api,\n\n  temporaryProfile: {\n    label: 'Vous tes connect(e) dans une session temporaire',\n  },\n\n  browserSupport: {\n    label: '{name} version {version} nest pas support',\n  },\n\n  GUI: {\n    title: 'Configurations de leffet',\n    folders: {\n      position: 'Position',\n      rotation: 'Rotation',\n      scale: 'chelle',\n    },\n    labels: {\n      position: {\n        x: 'Gauche  Droite',\n        y: 'Haut  Bas',\n        z: 'Avant  Arrire',\n      },\n      rotation: {\n        x: 'x',\n        y: 'y',\n        z: ' | ',\n      },\n      scale: {\n        x: 'troit  Large',\n        y: 'Petit  Long',\n        z: 'z',\n      },\n    },\n    cta: {\n      profile: 'Valeurs du profil',\n      default: 'Valeurs par dfaut',\n    },\n    confirm: {\n      title: 'Voulez-vous vraiment quitter sans enregistrer&nbsp;?',\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  admin: {\n    shared: {\n      labels: {\n        archives: 'Archives',\n        cancelButton: 'Annuler',\n        confirmButton: 'Confirmer',\n        archiveButton: 'Archiver',\n        unarchiveButton: 'Dsarchiver',\n        activateButton: 'Activer',\n        deactivateButton: 'Dsactiver',\n        backButton: 'Retour',\n        exportButton: 'Exporter',\n        card: {\n          identity: 'Identit',\n          informations: 'Profil',\n          reset_password: 'Rinitialiser le mot de passe',\n          create_password: 'Crer le mot de passe',\n        },\n        profile: 'Mon profil'\n      },\n      notifications: {\n        archive: {\n          success: 'lment archiv avec succs',\n          failure: 'Une erreur est survenue',\n        },\n        unarchive: {\n          success: 'lment dsarchiv avec succs',\n          failure: 'Une erreur est survenue',\n        },\n        activate: {\n          success: 'lment activ avec succs',\n          failure: 'Une erreur est survenue',\n        },\n        deactivate: {\n          success: 'lment dsactiv avec succs',\n          failure: 'Une erreur est survenue',\n        },\n        bulkArchive: {\n          success: 'lments archivs avec succs',\n          failure: 'Une erreur est survenue',\n        },\n        bulkUnarchive: {\n          success: 'lments dsarchivs avec succs',\n          failure: 'Une erreur est survenue',\n        },\n        'export': {\n          start: 'Le tlchargement va commencer bientt',\n          failure: 'Une erreur est survenue',\n        },\n        mirror: {\n          failure: 'Une erreur est survenue',\n        },\n        language: {\n          success: 'Votre langue a t mise  jour avec succs',\n          failure: 'Une erreur est survenue, votre profil na pas t mis  jour',\n        },\n        profile: {\n          success: 'Votre profil a t mis  jour avec succs',\n        },\n      },\n      text: {\n        cancelDialog: {\n          title: 'Voulez-vous vraiment annuler?',\n          body: 'Tous les changements seront perdus.',\n        },\n        emailDialog: {\n          title: 'Courriel de bienvenue',\n          body: 'Voulez-vous renvoyer le courriel?',\n        },\n      },\n      errors: {\n        field_required: 'Ce champ est requis',\n        password_mismatch: 'Les mots de passe ne correspondent pas',\n        password_too_short: 'Le mot de passe doit contenir %{min_length} caractres',\n        password_not_secure: 'Le mot de passe doit contenir au moins une minuscule, une majuscule, un chiffre et un caractre spcial (-_ @$!%*#?&)',\n        password_required: 'Ce champ est requis',\n      }\n    },\n    dashboard: {\n      title: 'Bienvenue %{name}',\n      labels: {\n        openMirrorButton: 'Ouvrir le miroir facial'\n      },\n      widgets: {\n        daily_repeats: {\n          card_header: 'Frquences quotidiennes atteintes'\n        },\n        sessions: {\n          card_header: 'Sances ouvertes',\n        },\n        choices: {\n          one_week: 'les 7 derniers jours',\n          two_weeks: 'les 14 derniers jours',\n          one_month: 'les 30 derniers jours',\n          all: 'le dbut'\n        },\n        labels: {\n          completed: 'Entirement excutes',\n          uncompleted: 'Partiellement excutes',\n          since: 'Depuis'\n        }\n      },\n      mirror_dialog: {\n        title: 'Ouvrir le miroir facial',\n        labels: {\n          autocomplete: 'Choisir un patient'\n        }\n      }\n    },\n  },\n\n  languages: {\n    'en': 'English',\n    'fr': 'Franais',\n  },\n\n  resources: {\n    categories: {\n      name: 'Catgorie |||| Catgories',\n      fields: {\n        'i18n.name.fr': 'Nom',\n        'i18n.name': 'Nom'\n      },\n      labels: {\n        category: 'Catgorie',\n        sub_category: 'Sous-catgorie'\n      }\n    },\n    clinicians: {\n      name: 'Clinicien(ne) |||| Clinicien(ne)s',\n      fields: {\n        email: 'Courriel',\n        first_name: 'Prnom',\n        full_name: 'Nom complet',\n        last_name: 'Nom',\n        language: 'Langue',\n        password: 'Mot de passe',\n        confirm_password: 'Confirmer le mot de passe',\n        archived: 'Archives',\n        is_superuser: 'Administrateur'\n      },\n      list: {\n        labels: {\n          patients_count: 'Patients',\n        },\n      },\n      card: {\n        title: {\n          default: 'Clinicien(ne) %{placeholder}',\n          create: 'Ajouter un(e) clinicien(ne)'\n        },\n      },\n      delete: {\n        confirmTitle: 'Supprimer le(la) clinicien(ne) %{placeholder}',\n      },\n      errors: {\n        email: 'Adresse courriel dj utilise'\n      },\n    },\n    exercises: {\n      name: 'Exercice |||| Exercices',\n      fields: {\n        archived: 'Archives',\n        'i18n.description.fr': 'Description',\n        'i18n.description': 'Description',\n        movement_duration: 'Dure',\n        pause: 'Pause',\n        repeat: 'Rptitions',\n        clinician_uid: 'Clinicien(ne)',\n        category__uid: 'Catgorie',\n        uid: 'Sous-catgorie',\n        is_system: 'Systme',\n        sub_categories: 'Catgories et sous-catgories'\n      },\n      card: {\n        title: {\n          default: 'Exercice %{placeholder}',\n          create: 'Ajouter un exercice'\n        },\n        labels: {\n          definition: 'Caractristiques',\n          classification: 'Classification'\n        }\n      },\n      list: {\n        labels: {\n          user: 'Mes exercices',\n          system: 'Systme'\n        }\n      },\n      delete: {\n        confirmTitle: 'Supprimer lexercice %{placeholder}',\n      },\n      errors: {\n        sub_categories: 'Vous devez choisir au moins une catgorie/sous-catgorie',\n        gt_zero: 'Doit tre suprieur  zro'\n      }\n    },\n    patients: {\n      name: 'Patient(e) |||| Patient(e)s',\n      fields: {\n        archived: 'Archives',\n        clinician_uid: 'Clinicien(ne)',\n        email: 'Courriel',\n        first_name: 'Prnom',\n        full_name: 'Nom complet',\n        last_name: 'Nom',\n        side: 'Ct paralys',\n        use_audio: 'Audio actif',\n        language: 'Langue',\n        password: 'Mot de passe',\n        confirm_password: 'Confirmer le mot de passe',\n      },\n      card: {\n        title: {\n          default: 'Patient(e) %{placeholder}',\n          create: 'Ajouter un(e) patient(e)'\n        },\n        labels: {\n          plans: 'Plans dintervention',\n        },\n        plan_dialog: {\n          title: 'Ajouter un plan dintervention',\n          labels: {\n            autocomplete: 'Nom',\n            radio_new: 'Crer un nouveau plan dintervention',\n            radio_template: 'Utiliser un modle existant'\n          }\n        },\n        actions: {\n          copy: 'Crer un modle'\n        }\n      },\n      errors: {\n        email: 'Adresse courriel dj utilise'\n      },\n      filters: {\n        last_visited: 'Dernire visite',\n        today: 'Aujourdhui',\n        this_week: 'Cette semaine',\n        this_month: 'Ce mois-ci'\n      },\n      shared: {\n        side: {\n          '0': 'Gauche',\n          '1': 'Droit',\n        },\n        audio: {\n          'true': 'Oui',\n          'false': 'Non',\n        },\n      },\n      delete: {\n        confirmTitle: 'Supprimer le(la) patient(e) %{placeholder}',\n      },\n      notifications: {\n        plans: {\n          add: {\n            success: 'Plan dintervention ajout avec succs',\n            failure: 'Une erreur est survenue',\n          },\n        },\n        email: {\n          send: {\n            success: 'Courriel envoy avec succs',\n            failure: 'Une erreur est survenue. Aucun courriel na t envoy',\n          }\n        },\n      },\n    },\n    plans: {\n      name: 'Plan dintervention |||| Plans dintervention',\n      fields: {\n        name: 'Nom',\n        'i18n.name.fr': 'Nom',\n        'i18n.name': 'Nom',\n        'i18n.description.fr': 'Complment dinformations',\n        'i18n.description': 'Complment dinformations',\n        clinician_uid: 'Clinicien(ne)',\n        archived: 'Archives',\n        daily_repeat: 'Frquences quotidiennes',\n        randomize: 'Ordre alatoire',\n        is_system: 'Systme',\n        start_date: 'Date de dbut',\n        end_date: 'Date de fin',\n        exercise: {\n          description: 'Description',\n          movement_duration: 'Dure',\n          pause: 'Pause',\n          repeat: 'Rptitions'\n        }\n      },\n      list: {\n        labels: {\n          exercises_count: 'Exercices',\n          user: 'Mes modles',\n          admin: 'Modles',\n          system: 'Systme'\n        },\n      },\n      edit: {\n        title: 'Plan dintervention %{placeholder}',\n      },\n      show: {\n        title: 'Plan dintervention %{placeholder}',\n      },\n      delete: {\n        confirmTitle: 'Supprimer le plan dintervention %{placeholder}',\n      },\n      card: {\n        exercise_dialog: {\n          title: 'Ajouter un exercice',\n          labels: {\n            autocomplete: {\n              category: 'Catgorie',\n              sub_category: 'Sous-catgorie',\n              exercise: 'Description',\n              sub_category_empty_label: 'Toutes'\n            }\n          }\n        },\n        title: {\n          default: 'Plan dintervention %{placeholder}',\n          create: 'Ajouter un plan dintervention'\n        },\n        labels: {\n          definition: 'Caractristiques',\n          exercises: 'Exercices',\n          is_system_warning: 'Tous les exercices associs seront aussi publiquement accessibles'\n        }\n      }\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  a11y: {\n    show_password: 'Visualiser votre mot de passe',\n    settings: 'Allez vers vos paramtres de compte',\n    support: 'Allez  la page daide',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  cta: {\n    login: 'Se connecter',\n    logout: 'Se dconnecter',\n    send: 'Envoyer',\n\n    goto_forgot_password: 'Mot de passe oubli?',\n    goto_login: 'Revenir  lcran de connexion',\n\n    start: 'Commencer la sance',\n    settings: 'Configurer leffet',\n    start_exercise: 'Commencer',\n    restart: 'Recommencer',\n    restart_exercise: 'Continuer',\n    pause_exercise: 'Pause',\n    skip_exercise: 'Sauter',\n    next_exercise: 'Suivant',\n    authorize: 'Autoriser',\n\n    cancel: 'Annuler',\n    close: 'Fermer',\n    save: 'Sauvegarder',\n    modify: 'Modifier',\n    back: 'Retour',\n    confirm: 'Ok',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  form: {\n    field: {\n      email: {\n        label: 'Votre adresse courriel',\n        placeholder: 'Adresse courriel',\n      },\n      password: {\n        label: 'Votre mot de passe',\n        placeholder: 'Mot de passe',\n      },\n      oldpassword: {\n        label: 'Votre mot de passe',\n        placeholder: '',\n      },\n      confirmpassword: {\n        label: 'Confirmation',\n        placeholder: '',\n      },\n      newpassword: {\n        label: 'Nouveau mot de passe',\n        placeholder: '',\n      },\n      error: {\n        login_invalid: 'Adresse courriel ou mot de passe invalide',\n        email_invalid: 'Adresse courriel invalide',\n        pwd_not_match: 'Les mots de passe ne sont pas identiques',\n        pwd: 'Doit contenir une minuscule, une majuscule, un chiffre et un caractre spcial (-_ @$!%*#?&)',\n        min_length: 'Ce mot de passe est trop court',\n        required: 'Ce champ est requis',\n      },\n    },\n\n    login: {\n      title: 'Connexion',\n    },\n\n    reset_password: {\n      title: 'Rinitialisation de votre mot de passe',\n      success: 'Votre mot de passe a t modifi avec succs.',\n    },\n\n    forgot_password: {\n      title: 'Mot de passe oubli?',\n      introduction:\n        'Incrivez votre adresse courriel et nous vous acheminerons un lien pour rinitialiser votre mot de passe.',\n      success:\n        'Si votre compte existe, un courriel sera envoy  <span>{{ email }}</span>. Il vous indiquera les tapes  suivre pour rinitialiser votre mot de passe.',\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  footer: {\n    title: 'Avec laide financire de',\n    copyright: 'Tous droits rservs  MEPP 2021',\n    privacy: 'Vie\\u00A0prive',\n    termsofuse: 'Conditions\\u00A0dutilisation',\n    license: 'Licence'\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  intro: {\n    title: 'Bonjour {{name}}',\n    introduction:\n      'Prt(e)  commencer votre sance dexercices? Concentrez-vous sur les contractions musculaires et tentez de les sentir, mme si vous ne voyez rien bouger. Laissez le reste du visage au repos.',\n    instruction:\n      'Faites les exercices lentement en suivant le rythme propos.',\n  },\n  permission: {\n    title: 'Permission',\n    introduction:\n      'Pour tre en mesure de poursuivre votre sance, vous devez autoriser laccs de cette page Web  votre camra et  votre microphone.',\n    instruction:\n      'Pour avoir accs  votre sance, vous devrez dabord lautoriser en modifiant les paramtres de votre navigateur.',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  exercise: {\n    name: 'Exercice',\n    rest: 'Reposez-vous un instant.',\n    complete: 'Exercice termin.',\n    end: 'Flicitations! Vous voici  la fin de votre sance dexercices. Continuez votre bon travail : la persvrance est une condition essentielle  votre russite.',\n    empty: 'Aucun plan dintervention na encore t cr pour vous. Consultez votre clinicien(ne) pour activer votre profil dexercices.',\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  settings: {\n    title: 'Paramtres',\n    nav: {\n      languages: 'Langue',\n      infos: 'Identifiant',\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nexport default {\n  api: {\n    success: {\n      settings_update: 'Modification de leffet effectue avec succs',\n      profile_update: 'Modification de votre profil effectue avec succs',\n    },\n    error: {\n      generic: 'Une erreur inconnue est survenue',\n      token_invalid: 'Votre demande de modification est invalide ou expire',\n      pwd_invalid: 'Votre mot de passe est invalide',\n    },\n  },\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport i18n from 'i18next';\nimport LanguageDetector from 'i18next-browser-languagedetector';\nimport { initReactI18next } from 'react-i18next';\n\nimport { Language } from '@utils/constants';\n\nimport en from './en';\nimport fr from './fr';\n\ni18n\n  .use(LanguageDetector)\n  .use(initReactI18next)\n  .init({\n    fallbackLng: 'fr',\n    resources: { fr, en },\n    react: {\n      wait: true,\n    },\n    detection: {\n      order: ['localStorage', 'cookie'],\n      lookupLocalStorage: 'language',\n    },\n  });\n\nexport const LANGUAGES = Object.freeze([Language.FR, Language.EN]);\nexport default i18n;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useEffect } from 'react';\nimport { Notification } from 'react-admin';\nimport { useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport { temporaryProfil } from '@admin/authProvider';\n\nimport GlobalStyles from '@styles/Global';\nimport { zindex } from '@styles/configs/zindex';\n\nimport { BrowserSupportBanner } from '@components/header/BrowserSupportBanner';\nimport { EnvironmentBanner } from '@components/header/EnvironmentBanner';\nimport { TemporaryProfilBanner } from '@components/header/TemporaryProfilBanner';\nimport OverlayProvider from '@components/overlays/OverlayProvider';\nimport { useLocale } from '@hooks/locale/useLocale';\n\nimport { LANGUAGES } from '../locales';\n\n/**\n * Basic page wrapper\n * @param Page Component\n */\nconst withPage = (Component) => {\n  return function withPage(props) {\n    return (\n      <OverlayProvider>\n        <GlobalStyles />\n        <Main>\n          <BannersContainer>\n            {temporaryProfil && <TemporaryProfilBanner />}\n            <EnvironmentBanner />\n            <BrowserSupportBanner />\n          </BannersContainer>\n          <Component {...props} />\n          <Notification />\n        </Main>\n      </OverlayProvider>\n    );\n  };\n};\n\nconst Main = (props) => {\n  const { locale, setLocale } = useLocale();\n  const location = useLocation();\n\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, [location]);\n\n  useEffect(() => {\n    const queries = new URLSearchParams(window.location.search);\n    const lang = queries.get('l');\n\n    if (lang !== locale && LANGUAGES.includes(lang)) {\n      setLocale(lang);\n    }\n  }, []);\n\n  return <main>{props.children}</main>;\n};\n\nconst BannersContainer = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: ${zindex.max};\n`;\n\nexport default withPage;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport {\n  List,\n  TextField,\n  Datagrid,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { Chip } from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\n\nconst SubCategoriesRow = ({ record, locale }) => {\n  const theme = useTheme();\n  return (\n    <div\n      style={{\n        display: 'inline-flex',\n        flexWrap: 'wrap',\n        gap: theme.spacing(1),\n      }}\n    >\n      {record.sub_categories.map((subCategory) => (\n        <Chip key={subCategory.id} label={subCategory.i18n.name[locale]} />\n      ))}\n    </div>\n  );\n};\n\nexport const CategoryList = () => {\n  const t = useTranslate();\n  const { locale } = useLocale();\n\n  return (\n    <List\n      pagination={false}\n      sort={{ field: `i18n.name.${locale}`, order: 'ASC' }}\n      filterDefaultValues={{\n        language: locale,\n      }}\n      actions={false}\n    >\n      <Datagrid\n        bulkActionButtons={false}\n        expand={<SubCategoriesRow locale={locale} />}\n      >\n        <TextField source={`i18n.name.${locale}`} />\n      </Datagrid>\n    </List>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst sanitizeRestProps = (props, subsetProps, remove) => {\n  const sanitizedProps = {...props};\n\n  if (remove) {\n    subsetProps.forEach(prop => {\n      if (sanitizedProps.hasOwnProperty(prop)) {\n        delete sanitizedProps[prop];\n      }\n    });\n  } else {\n    Object.keys(props).forEach(prop => {\n      if (!subsetProps.includes(prop)) {\n        delete sanitizedProps[prop];\n      }\n    });\n  }\n\n  return sanitizedProps;\n};\n\nexport { sanitizeRestProps };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { Typography as MuiTypography} from '@mui/material';\nimport {sanitizeRestProps} from '@admin/utils/props';\n\nexport const Div = (props) => {\n  const validProps = [\n    'children',\n    'className',\n  ];\n  const sanitizedProps = sanitizeRestProps(props, validProps, false);\n  return (\n    <div {...sanitizedProps}>{props.children}</div>\n  );\n}\n\nexport const Typography = ({gutterTop, ...props}) => {\n  const validProps = [\n    'children',\n    'align',\n    'color',\n    'display',\n    'gutterBottom',\n    'noWrap',\n    'paragraph',\n    'variant',\n    'variantMapping',\n    'sx'\n  ];\n  const sanitizedProps = sanitizeRestProps(props, validProps, false);\n  if (gutterTop) {\n    sanitizedProps['sx'] = {\n      ...sanitizedProps?.sx || {},\n      marginTop: '10px'\n    };\n  }\n  return (\n    <MuiTypography {...sanitizedProps}>\n      {props.children}\n    </MuiTypography>\n  );\n}\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport {\n  useTranslate,\n} from 'react-admin';\nimport { LANGUAGES } from '../../../locales';\n\nconst Options = () => {\n\n  const t = useTranslate();\n\n  return {\n    audio: [\n      { id: 'false', name: t('resources.patients.shared.audio.false') },\n      { id: 'true', name: t('resources.patients.shared.audio.true') }\n    ],\n\n    languages: LANGUAGES.map((language) => (\n      { id: language, name: t(`languages.${language}`) }\n    )),\n\n    sides: [\n      { id: 0, name: t('resources.patients.shared.side.0') },\n      { id: 1, name: t('resources.patients.shared.side.1') }\n    ]\n\n  };\n};\n\nexport default Options;\n\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { email, minLength, required } from 'react-admin';\n\nconst securePasswordOptional = (new_password) => {\n  const passwordMinLen = process.env.PASSWORD_MIN_LEN;\n  const passwordRegex = process.env.PASSWORD_REGEX;\n  const regex = new RegExp(`^${passwordRegex}{${passwordMinLen},}$`);\n\n  if (!new_password) {\n    return undefined;\n  }\n\n  if (new_password.length < passwordMinLen) {\n    return {\n      message: 'admin.shared.errors.password_too_short',\n      args: { min_length: passwordMinLen },\n    };\n  }\n\n  if (!regex.test(new_password)) {\n    return 'admin.shared.errors.password_not_secure';\n  }\n\n  return undefined;\n};\n\nconst securePasswordRequired = (new_password) => {\n  if (!new_password) {\n    return 'admin.shared.errors.password_required';\n  }\n  return securePasswordOptional(new_password);\n};\n\nconst greaterThanZero = (value) => {\n  if (value < 1) {\n    return 'admin.shared.errors.gt_zero';\n  }\n  return undefined;\n};\n\nexport const requiredLocalizedField = (value, record, locale, field) => {\n  if (!value) {\n    if (!record.i18n[field][locale]) {\n      return 'admin.shared.errors.field_required';\n    }\n  }\n  return undefined;\n};\n\nexport const validateEmail = [required(), email()];\nexport const validateFirstName = [required(), minLength(2)];\nexport const validateLanguage = [required()];\nexport const validateLastName = [required(), minLength(2)];\nexport const validateNumber = [required(), greaterThanZero];\nexport const validatePasswordOptional = [securePasswordOptional];\nexport const validatePasswordRequired = [securePasswordRequired];\nexport const validatePasswords = (confirm_password, record) => {\n  if ((record.new_password || confirm_password) && record.new_password !== confirm_password) {\n    return 'admin.shared.errors.password_mismatch';\n  }\n  return undefined;\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport {\n  Button,\n  useNotify,\n  useRefresh,\n  useUpdate,\n  useRedirect,\n  useRecordSelection,\n  useTranslate,\n  useStore,\n} from 'react-admin';\n\nimport ArchiveIcon from '@mui/icons-material/Archive';\nimport UnarchiveIcon from '@mui/icons-material/Unarchive';\n\nimport { sanitizeRestProps } from '@admin/utils/props';\n\nconst ToggleArchiveButton = ({\n  resource,\n  record,\n  className,\n  showLabel,\n  ...rest\n}) => {\n  const notify = useNotify();\n  const t = useTranslate();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n  const label = showLabel\n    ? record.archived\n      ? 'admin.shared.labels.unarchiveButton'\n      : 'admin.shared.labels.archiveButton'\n    : '';\n  const [selectedIds, { select }] = useRecordSelection(resource);\n  const handleToggleArchive = (e) => {\n    e.preventDefault();\n    // Update bulk actions counter\n    const newSelectedIds = selectedIds.filter((id) => id !== record.id);\n    if (newSelectedIds !== selectedIds) {\n      select(newSelectedIds);\n    }\n    // Update data\n    updateHandler();\n  };\n  const [updateHandler, { isLoading }] = useUpdate(\n    resource,\n    {\n      id: record.id,\n      data: { archived: !record.archived },\n      previousData: record,\n    },\n    {\n      onSuccess: () => {\n        const translatedText = record.archived\n          ? 'admin.shared.notifications.unarchive.success'\n          : 'admin.shared.notifications.archive.success';\n        if (patientUid) {\n            if (patientUid && resource === 'patients') {\n              setPatientUid(false);\n              redirect(resource);\n            }\n        }\n        refresh();\n        notify(translatedText, { type: 'info' });\n        select([]);\n      },\n      onError: (error) => {\n        const translatedText = record.archived\n          ? 'admin.shared.notifications.unarchive.failure'\n          : 'admin.shared.notifications.archive.failure';\n        notify(translatedText, { type: 'error' });\n      },\n    }\n  );\n\n  return (\n    <Button\n      label={t(label)}\n      onClick={handleToggleArchive}\n      disabled={isLoading}\n      className={className}\n      {...sanitizeRestProps(\n        rest,\n        ['showLabel', 'showLocation'],\n        true,\n      )}\n      variant={rest.variant}\n      color={rest.color}\n    >\n      {!record.archived ? <ArchiveIcon /> : <UnarchiveIcon />}\n    </Button>\n  );\n};\n\nexport default ToggleArchiveButton;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useMemo } from 'react';\nimport {\n  SaveButton,\n  Toolbar,\n  useRecordContext,\n  useRedirect,\n  useResourceContext, useStore,\n  useTranslate,\n} from 'react-admin';\nimport { useFormState } from 'react-hook-form';\nimport { useSearchParams } from 'react-router-dom';\n\nimport CheckCircle from '@mui/icons-material/CheckCircle';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport {\n  Button,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  useMediaQuery,\n} from '@mui/material';\nimport { useTheme } from '@mui/material/styles';\nimport { makeStyles } from '@mui/styles';\n\nimport { Div } from '@components/admin/shared/dom/sanitize';\n\nimport ToggleArchiveButton from '../buttons/ToggleArchiveButton';\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    toolbar: {\n      display: 'flex',\n      justifyContent: 'space-between',\n    },\n    cancelButton: {\n      marginRight: theme.spacing(2),\n    },\n  };\n});\n\nconst SimpleFormToolBar = ({ identity }) => {\n  const t = useTranslate();\n  const theme = useTheme();\n  const classes = useStyles();\n  const record = useRecordContext();\n  const redirect = useRedirect();\n  const resource = useResourceContext();\n  const { isDirty } = useFormState();\n  const [confirm, setConfirm] = React.useState(false);\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const fullScreen = useMediaQuery(theme.breakpoints.down('md'));\n  const showEditButtons = useMemo(() => {\n    if (identity === false) {\n      return true;\n    }\n    return identity?.uid !== record?.id;\n  }, [identity, record]);\n\n  const handleBackClick = (e) => {\n    e.preventDefault();\n    if (isDirty) {\n      setConfirm(true);\n    } else {\n      const redirectUrl = getRedirectUrl;\n      setPatientUid(false);\n      redirect(redirectUrl);\n    }\n  };\n  const handleClose = () => {\n    setConfirm(false);\n  };\n\n  const handleConfirmClose = () => {\n    const redirectUrl = getRedirectUrl;\n    setPatientUid(false);\n    redirect(redirectUrl);\n  };\n\n  const getRedirectUrl = useMemo(() => {\n    if (!showEditButtons) {\n      if (searchParams.get('back')) {\n        return decodeURIComponent(searchParams.get('back'));\n      } else {\n        return '/';\n      }\n    } else {\n      return (patientUid && resource !== 'patients')\n        ? `/patients/${patientUid}/show`\n        : `/${resource}`;\n    }\n  }, [showEditButtons]);\n\n  return (\n    <Toolbar className={classes.toolbar}>\n      <Div>\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          color=\"secondary\"\n          className={classes.cancelButton}\n          onClick={handleBackClick}\n        >\n          {t('admin.shared.labels.cancelButton')}\n        </Button>\n        <Dialog fullScreen={fullScreen} open={confirm} onClose={handleClose}>\n          <DialogTitle>{t('admin.shared.text.cancelDialog.title')}</DialogTitle>\n          <DialogContent>\n            <DialogContentText>\n              {t('admin.shared.text.cancelDialog.body')}\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button\n              onClick={handleClose}\n              autoFocus\n              size=\"small\"\n              variant=\"contained\"\n              color=\"secondary\"\n              startIcon={<ErrorOutlineIcon />}\n            >\n              {t('admin.shared.labels.cancelButton')}\n            </Button>\n            <Button\n              onClick={handleConfirmClose}\n              color=\"primary\"\n              variant=\"contained\"\n              startIcon={<CheckCircle />}\n            >\n              {t('admin.shared.labels.confirmButton')}\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <SaveButton size=\"small\" />\n      </Div>\n      {showEditButtons && record && record?.id && (\n        <ToggleArchiveButton\n          resource={resource}\n          record={record}\n          className=\"\"\n          showLabel={true}\n          showLocation={true}\n          variant=\"outlined\"\n        />\n      )}\n    </Toolbar>\n  );\n};\n\nexport default SimpleFormToolBar;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { RaBox } from 'ra-compact-ui';\nimport React from 'react';\nimport {\n  Create,\n  SelectInput,\n  SimpleForm,\n  PasswordInput,\n  TextInput,\n  BooleanInput,\n  useResourceContext,\n  useTranslate,\n  useNotify,\n} from 'react-admin';\n\nimport { makeStyles } from '@mui/styles';\n\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport Options from '@components/admin/shared/options';\nimport {\n  validateEmail,\n  validateFirstName,\n  validateLanguage,\n  validateLastName,\n  validatePasswordRequired as validatePassword,\n  validatePasswords,\n} from '@components/admin/shared/validators';\n\nimport SimpleFormToolBar from '../shared/toolbars/SimpleFormToolbar';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    '& > div': {\n      flex: '0 0 45%',\n    },\n  },\n}));\n\nexport const ClinicianCreate = () => {\n  const resourceName = useResourceContext();\n  const t = useTranslate();\n  const classes = useStyles();\n  const options = Options();\n  const notify = useNotify();\n  const onError = (error) => {\n    let message = '';\n    if (error?.body) {\n      Object.entries(error.body).forEach(([key, values]) => {\n        message += t(`resources.${resourceName}.errors.${key}`);\n      });\n    } else {\n      message = t('api.error.generic');\n    }\n    notify(message, { type: 'error' });\n  };\n\n  return (\n    <Create mutationOptions={{ onError: onError }} redirect=\"list\">\n      <SimpleForm toolbar={<SimpleFormToolBar identity={false} />} >\n        <Typography variant=\"h6\" gutterBottom>\n          {t('admin.shared.labels.card.identity')}\n        </Typography>\n        <RaBox className={classes.root}>\n          <TextInput\n            source=\"first_name\"\n            fullWidth\n            validate={validateFirstName}\n          />\n          <TextInput source=\"last_name\" fullWidth validate={validateLastName} />\n        </RaBox>\n        <RaBox className={classes.root}>\n          <TextInput source=\"email\" fullWidth validate={validateEmail} />\n        </RaBox>\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('admin.shared.labels.card.informations')}\n        </Typography>\n        <RaBox className={classes.root}>\n          <SelectInput\n            source=\"language\"\n            choices={options.languages}\n            fullWidth\n            validate={validateLanguage}\n          />\n          <BooleanInput source=\"is_superuser\" />\n        </RaBox>\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('admin.shared.labels.card.create_password')}\n        </Typography>\n        <RaBox className={classes.root}>\n          <PasswordInput\n            label={t('resources.clinicians.fields.password')}\n            source=\"new_password\"\n            validate={validatePassword}\n            fullWidth\n          />\n          <PasswordInput\n            label={t('resources.clinicians.fields.confirm_password')}\n            source=\"confirm_password\"\n            validate={validatePasswords}\n            fullWidth\n          />\n        </RaBox>\n      </SimpleForm>\n    </Create>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { useCreatePath, useResourceContext } from 'ra-core';\nimport React, { useMemo } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport ContentCreate from '@mui/icons-material/Create';\nimport ImageEye from '@mui/icons-material/RemoveRedEye';\nimport Button from '@mui/material/Button';\n\nimport { sanitizeRestProps } from '@admin/utils/props';\n\n// useful to prevent click bubbling in a datagrid with rowClick\nconst stopPropagation = (e) => e.stopPropagation();\n\nconst CRUDButton = (props) => {\n  const {\n    label = false,\n    record,\n    scrollToTop = true,\n    type = 'edit',\n    color = 'primary',\n    variant = undefined,\n    ...rest\n  } = props;\n\n  const resource = rest.resource || useResourceContext();\n  const createPath = useCreatePath();\n  const link = createPath({type: type, resource: resource, id: record.id });\n  const icon = type === 'show' ? <ImageEye /> : <ContentCreate />;\n  const state = { _scrollToTop: scrollToTop };\n  const context =\n    rest.hasOwnProperty('context') && rest.context\n      ? { ...state, ...props.context }\n      : state;\n  const handleClick = rest.handleClick || stopPropagation;\n  const location = rest.hasOwnProperty('location')\n    ? props.location\n    : record\n      ? link\n      : '';\n\n  return (\n    <Button\n      component={Link}\n      to={useMemo(\n        () => ({\n          pathname: location,\n          state: context,\n        }),\n        [location, context],\n      )}\n      onClick={handleClick}\n      color={color}\n      variant={variant}\n      startIcon={label !== false && icon}\n      {...sanitizeRestProps(rest, ['context'], true)}\n    >\n      {label !== false && label}\n      {label === false && icon}\n    </Button>\n  );\n};\n\nexport default CRUDButton;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { fetchJsonWithAuthToken } from 'ra-data-django-rest-framework';\nimport React, { useCallback } from 'react';\nimport {\n  useNotify,\n  useUnselectAll,\n  useTranslate,\n  useResourceContext,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport DownloadIcon from '@mui/icons-material/GetApp';\nimport Button from '@mui/material/Button';\n\nconst ExportButton = (props) => {\n  const {\n    selectedIds = [],\n    scrollToTop = true,\n    showLabel = true,\n    color = 'primary',\n    variant = undefined,\n    size = 'small',\n    filterValues = {},\n    ...rest\n  } = props;\n\n  const resource = rest.resource || useResourceContext();\n  const t = useTranslate();\n  const { locale } = useLocale();\n  const notify = useNotify();\n  const unselectAll = useUnselectAll(resource);\n  const label = showLabel ? t('admin.shared.labels.exportButton') : '';\n  const exportEndpoint = useCallback(\n    (token) => {\n      const data = {\n        ...filterValues,\n        ...{ selectedIds: selectedIds },\n        ...{ language: locale },\n        ...{ t: token },\n      };\n\n      const qs = new URLSearchParams(data).toString();\n      return `${process.env.API_ENDPOINT}/${resource}/export/?${qs}`;\n    },\n    [selectedIds, filterValues, locale]\n  );\n\n  const handleClick = (e) => {\n    e.stopPropagation();\n    // Wait for the click action to be triggered before reset selectedIds\n    const url = `${process.env.API_ENDPOINT}/token/`;\n\n    fetchJsonWithAuthToken(url, {\n      method: 'POST',\n      body: '{\"type\":\"export\"}',\n    })\n      .then((response) => {\n        notify('admin.shared.notifications.export.start', { type: 'info' });\n        window.location.href = exportEndpoint(response.json['token']);\n      })\n      .catch(() => {\n        notify('admin.shared.notifications.export.failure', { type: 'error' });\n      })\n      .finally(() => {\n        setTimeout(() => {\n          if (selectedIds.length && resource) unselectAll(resource);\n        }, 500);\n      });\n  };\n\n  return (\n    <Button\n      onClick={handleClick}\n      color={color}\n      variant={variant}\n      size={size}\n      startIcon={showLabel && <DownloadIcon />}\n      {...rest}\n    >\n      {showLabel && label}\n      {!showLabel && <DownloadIcon />}\n    </Button>\n  );\n};\n\nexport default ExportButton;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { useRecordContext } from 'react-admin';\nimport {\n  TopToolbar as RaTopToolbar,\n  useTranslate,\n} from 'react-admin';\nimport CRUDButton from '@components/admin/shared/buttons/CRUDButton';\nimport ExportButton from '@components/admin/shared/buttons/ExportButton';\n\nconst TopToolbar = (props) => {\n  const t = useTranslate();\n  const record = useRecordContext();\n  let context = false;\n\n  if (props.patientUid) {\n    context = { patientUid: props.patientUid };\n  }\n\n  if (!record?.id || (props?.identity?.uid === record?.id)) {\n    return <></>;\n  }\n\n  return (\n    <RaTopToolbar>\n      {props.showExport &&\n        <ExportButton\n          selectedIds={[record.id]}\n          variant=\"outlined\"\n        />\n      }\n      {props.hasEdit &&\n        <CRUDButton\n          record={record}\n          type=\"edit\"\n          label={t('ra.action.edit')}\n          context={context}\n          size=\"small\"\n          variant=\"outlined\"\n        />\n      }\n      {props.hasShow &&\n        <CRUDButton\n          record={record}\n          type=\"show\"\n          label={t('ra.action.show')}\n          context={context}\n          size=\"small\"\n          variant=\"outlined\"\n        />\n      }\n    </RaTopToolbar>\n  );\n\n};\n\nexport default TopToolbar;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { RaBox } from 'ra-compact-ui';\nimport React from 'react';\nimport {\n  BooleanInput,\n  Edit,\n  SelectInput,\n  SimpleForm,\n  PasswordInput,\n  TextInput,\n  useGetIdentity,\n  useRecordContext,\n  useResourceContext,\n  useTranslate,\n  useNotify,\n  useResourceDefinition,\n  useRedirect\n} from 'react-admin';\nimport { useSearchParams } from 'react-router-dom';\nimport { makeStyles } from '@mui/styles';\n\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport Options from '@components/admin/shared/options';\nimport TopToolbar from '@components/admin/shared/toolbars/TopToolbar';\nimport {\n  validateEmail,\n  validateFirstName,\n  validateLanguage,\n  validateLastName,\n  validatePasswordOptional as validatePassword,\n  validatePasswords,\n} from '@components/admin/shared/validators';\n\nimport SimpleFormToolBar from '../shared/toolbars/SimpleFormToolbar';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    '& > div': {\n      flex: '0 0 45%',\n    },\n  },\n}));\n\nconst ProfileRow = ({ identity, identityLoading, ...props }) => {\n  const record = useRecordContext();\n  if (identityLoading || identity?.uid === record?.id) {\n    return false;\n  } else {\n    return props.children;\n  }\n};\n\nexport const ClinicianEdit = () => {\n  const t = useTranslate();\n  const { hasShow } = useResourceDefinition();\n  const { identity, isLoading: identityLoading, refetch } = useGetIdentity();\n  const resource = useResourceContext();\n  const redirect = useRedirect();\n  const [searchParams, setSearchParams] = useSearchParams();\n  const classes = useStyles();\n  const notify = useNotify();\n  const options = Options();\n  const onError = (error) => {\n    let message = '';\n    if (error?.body) {\n      Object.entries(error.body).forEach(([key, values]) => {\n        message += t(`resources.${resourceName}.errors.${key}`);\n      });\n    } else {\n      message = t('api.error.generic');\n    }\n    notify(message, { type: 'error' });\n  };\n  const onSuccess = (data) => {\n    if (identity?.uid === data.id) {\n      const backUrl = decodeURIComponent(searchParams.get('back'));\n      const profile = JSON.parse(localStorage.getItem('profile'));\n\n      profile.first_name = data.first_name;\n      profile.last_name = data.last_name;\n      profile.full_name = `${profile.first_name} ${profile.last_name}`;\n      profile.email = data.email;\n      localStorage.setItem('profile', JSON.stringify(profile));\n      refetch();\n      redirect(backUrl);\n      notify('admin.shared.notifications.profile.success', { type: 'info' });\n    } else {\n      redirect(`/${resource}`);\n      notify('ra.notification.updated', { type: 'info', messageArgs: { smart_count: 1 }});\n    }\n  };\n\n  return (\n    <Edit\n      mutationMode=\"pessimistic\"\n      mutationOptions={{ onSuccess: onSuccess, onError: onError }}\n      actions={<TopToolbar hasShow={hasShow} identity={identity} />}\n      redirect=\"list\"\n    >\n      <SimpleForm\n        toolbar={<SimpleFormToolBar identity={identity} />}\n      >\n        <Typography variant=\"h6\" gutterBottom>\n          {t('admin.shared.labels.card.identity')}\n        </Typography>\n        <RaBox className={classes.root}>\n          <TextInput\n            source=\"first_name\"\n            fullWidth\n            validate={validateFirstName}\n          />\n          <TextInput source=\"last_name\" fullWidth validate={validateLastName} />\n        </RaBox>\n        <RaBox className={classes.root}>\n          <TextInput source=\"email\" fullWidth validate={validateEmail} />\n        </RaBox>\n        <ProfileRow identity={identity} identityLoading={identityLoading}>\n          <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n            {t('admin.shared.labels.card.informations')}\n          </Typography>\n          <RaBox className={classes.root}>\n            <SelectInput\n              source=\"language\"\n              label={t('resources.clinicians.fields.language')}\n              choices={options.languages}\n              fullWidth\n              validate={validateLanguage}\n            />\n            <BooleanInput\n              label={t('resources.clinicians.fields.is_superuser')}\n              source=\"is_superuser\"\n            />\n          </RaBox>\n        </ProfileRow>\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('admin.shared.labels.card.reset_password')}\n        </Typography>\n        <RaBox className={classes.root}>\n          <PasswordInput\n            label={t('resources.clinicians.fields.password')}\n            source=\"new_password\"\n            validate={validatePassword}\n            fullWidth\n          />\n          <PasswordInput\n            label={t('resources.clinicians.fields.confirm_password')}\n            source=\"confirm_password\"\n            validate={validatePasswords}\n            fullWidth\n          />\n        </RaBox>\n      </SimpleForm>\n    </Edit>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport {\n  Datagrid as RaDatagrid,\n  DatagridBody as RaDatagridBody,\n  useListContext,\n} from 'react-admin';\n\nconst DatagridBody = ({ data, total, ...rest }) => {\n  const { filterValues } = useListContext();\n  const data_copy = data.filter((item) => {\n    if (item.archived != filterValues.archived) {\n      return false;\n    }\n    return true;\n  });\n\n  // const ids_copy = ids.filter((id) => {\n  //   if (!data.hasOwnProperty(id)) {\n  //     return false;\n  //   }\n  //   if (data[id].archived != filterValues.archived) {\n  //     return false;\n  //   }\n\n  //   data_copy[id] = data[id];\n\n  //   if (data.hasOwnProperty('fetchedAt')) {\n  //     if (!data_copy.hasOwnProperty('fetchedAt')) {\n  //       data_copy['fetchedAt'] = {};\n  //     }\n  //     data_copy['fetchedAt'][id] = data['fetchedAt'][id];\n  //   }\n\n  //   return true;\n  // });\n\n  return <RaDatagridBody data={data_copy} total={data_copy.length} {...rest} />;\n};\n\nconst Datagrid = (props) => {\n  const { bulkActionButtons, filterValues, data, ...rest } = props;\n  return (\n    <RaDatagrid\n      {...rest}\n      filterValues={filterValues}\n      bulkActionButtons={bulkActionButtons}\n      body={<DatagridBody data={data} />}\n    />\n  );\n};\n\nexport default Datagrid;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { BooleanInput, Filter } from 'react-admin';\n\nconst ArchivableFilter = (props) => {\n  return (\n  <Filter {...props}>\n    <BooleanInput size=\"large\" source=\"archived\" alwaysOn />\n  </Filter>\n  );\n};\n\nexport default ArchivableFilter;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\n\n\nconst getPlaceHolder = (record, locale) => {\n  let placeholder = record.id;\n  if (record.hasOwnProperty('full_name')) {\n    placeholder = record.full_name;\n  } else {\n    if (record.i18n?.name?.hasOwnProperty(locale)) {\n      placeholder = record.i18n.name[locale];\n    } else if (record.i18n?.description?.hasOwnProperty(locale)) {\n      const description = record.i18n.description[locale];\n      placeholder = description.length <= 20\n        ? description\n        : `${description.substring(0, 20)}...`;\n    }\n  }\n  return placeholder;\n};\n\nexport { getPlaceHolder };\n\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useRef } from 'react';\nimport {\n  Button,\n  useNotify,\n  useRefresh,\n  useUpdate,\n  useRedirect,\n  useRecordSelection,\n  useTranslate,\n} from 'react-admin';\n\nimport PauseCircleFilledIcon from '@mui/icons-material/PauseCircleFilled';\nimport PlayCircleFilledIcon from '@mui/icons-material/PlayCircleFilled';\n\nimport { sanitizeRestProps } from '@admin/utils/props';\n\nconst ToggleActiveButton = ({\n  resource,\n  record,\n  className,\n  showLabel,\n  redirectLocation,\n  ...rest\n}) => {\n  const notify = useNotify();\n  const t = useTranslate();\n  const refresh = useRefresh();\n  const redirect = useRedirect();\n  const label = showLabel\n    ? record.archived\n      ? 'admin.shared.labels.deactivateButton'\n      : 'admin.shared.labels.archiveButton'\n    : '';\n  const [selectedIds, { select }] = useRecordSelection(resource);\n  const redirectionRef = useRef();\n  const handleToggleArchive = (e) => {\n    e.preventDefault();\n    // Update bulk actions counter\n    const newSelectedIds = selectedIds.filter((id) => id !== record.id);\n    if (newSelectedIds !== selectedIds) {\n      select(newSelectedIds);\n    }\n    // Update data\n    updateHandler();\n  };\n  const [updateHandler, { isLoading }] = useUpdate(\n    resource,\n    {\n      id: record.id,\n      data: { active: !record.active },\n      previousData: record,\n    },\n    {\n      onSuccess: () => {\n        const translatedText = record.active\n          ? 'admin.shared.notifications.deactivate.success'\n          : 'admin.shared.notifications.activate.success';\n        if (redirectionRef.current) {\n          redirect(redirectionRef.current);\n        }\n        refresh();\n        notify(translatedText, { type: 'info' });\n      },\n      onError: (error) => {\n        const translatedText = record.active\n          ? 'admin.shared.notifications.deactivate.failure'\n          : 'admin.shared.notifications.activate.failure';\n        notify(translatedText, { type: 'error' });\n      },\n    },\n  );\n  redirectionRef.current = redirectLocation;\n\n  return (\n    <Button\n      label={t(label)}\n      onClick={handleToggleArchive}\n      disabled={isLoading}\n      className={className}\n      {...sanitizeRestProps(\n        rest,\n        ['showLabel', 'context', 'showLocation'],\n        true,\n      )}\n    >\n      {!record.active ? <PlayCircleFilledIcon /> : <PauseCircleFilledIcon />}\n    </Button>\n  );\n};\n\nexport default ToggleActiveButton;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport {\n  CloneButton,\n  DeleteWithConfirmButton,\n  useTranslate,\n  useRecordContext,\n  useResourceContext,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport FileCopyIcon from '@mui/icons-material/FileCopy';\nimport Queue from '@mui/icons-material/Queue';\nimport Tooltip from '@mui/material/Tooltip';\nimport { makeStyles } from '@mui/styles';\n\nimport { getPlaceHolder } from '@admin/utils/placeholder';\n\nimport CRUDButton from '@components/admin/shared/buttons/CRUDButton';\n\nimport ToggleActiveButton from '../buttons/ToggleActiveButton';\nimport ToggleArchiveButton from '../buttons/ToggleArchiveButton';\n\nconst useRowActionToolbarStyles = makeStyles({\n  toolbar: {\n    textAlign: 'right',\n    whiteSpace: 'nowrap',\n  },\n  icon_action_button: {\n    minWidth: '40px;',\n    padding: '4px 5px',\n    '& svg': { fontSize: '1.35rem !important' },\n    '& .MuiButton-startIcon': { marginRight: 0 }\n  },\n  icon_action_button_red: {\n    color: 'red',\n    minWidth: '40px;',\n    padding: '4px 5px',\n    '& svg': { fontSize: '1.35rem !important' },\n    '& .MuiButton-startIcon': { marginRight: 0 }\n  },\n});\n\nconst RowActionToolbar = ({ clonable, activable, permissions, ...props }) => {\n  const t = useTranslate();\n  const record = useRecordContext();\n  const resource = useResourceContext();\n  const { locale } = useLocale();\n  const classes = useRowActionToolbarStyles();\n  const confirmTitle = t('resources.' + resource + '.delete.confirmTitle', {\n    placeholder: getPlaceHolder(record, locale),\n  });\n  const archiveTitle = record.archived\n    ? 'admin.shared.labels.unarchiveButton'\n    : 'admin.shared.labels.archiveButton';\n  const activeTitle = record.active\n    ? 'admin.shared.labels.deactivateButton'\n    : 'admin.shared.labels.activateButton';\n\n  // Row is editable by default\n  const isSystem = record.hasOwnProperty('is_system') && record.is_system;\n  const editable = !isSystem || permissions === 'admin';\n  const context = props.hasOwnProperty('context') && props.context;\n\n  return (\n    <div className={classes.toolbar}>\n      <Tooltip title={t('ra.action.show')} arrow>\n        <span>\n          <CRUDButton\n            resource={props.rowResource || resource}\n            record={record}\n            className={classes.icon_action_button}\n            type=\"show\"\n            size=\"small\"\n            context={context}\n            color=\"secondary\"\n          />\n        </span>\n      </Tooltip>\n      {editable && (\n        <Tooltip title={t(archiveTitle)} arrow>\n          <span>\n            <ToggleArchiveButton\n              resource={props.rowResource || resource}\n              record={record}\n              className={classes.icon_action_button}\n              showLabel={false}\n              size=\"small\"\n              color=\"secondary\"\n            />\n          </span>\n        </Tooltip>\n      )}\n      {editable && !record.archived && (\n        <Tooltip title={t('ra.action.edit')} arrow>\n          <span>\n            <CRUDButton\n              resource={props.rowResource || resource}\n              record={record}\n              className={classes.icon_action_button}\n              type=\"edit\"\n              context={context}\n              size=\"small\"\n              color=\"secondary\"\n            />\n          </span>\n        </Tooltip>\n      )}\n      {clonable && (\n        <Tooltip\n          title={\n            context\n              ? t('resources.patients.card.actions.copy')\n              : t('ra.action.clone')\n          }\n          arrow\n        >\n          <span>\n            <CloneButton\n              label=\"\"\n              record={record}\n              resource={props.rowResource || resource}\n              className={classes.icon_action_button}\n              size=\"small\"\n              icon={context ? <FileCopyIcon /> : <Queue />}\n              color=\"secondary\"\n            />\n          </span>\n        </Tooltip>\n      )}\n      {activable && !record.archived && (\n        <Tooltip title={t(activeTitle)} arrow>\n          <span>\n            <ToggleActiveButton\n              resource={props.rowResource || resource}\n              record={record}\n              className={classes.icon_action_button}\n              showLabel={false}\n              size=\"small\"\n              color=\"secondary\"\n            />\n          </span>\n        </Tooltip>\n      )}\n      {permissions === 'admin' && record.archived && (\n        <Tooltip title={t('ra.action.delete')} arrow>\n          <span>\n            <DeleteWithConfirmButton\n              confirmTitle={confirmTitle}\n              mutationMode=\"pessimistic\"\n              resource={props.rowResource || resource}\n              label=\"\"\n              record={record}\n              className={classes.icon_action_button_red}\n              color=\"secondary\"\n            />\n          </span>\n        </Tooltip>\n      )}\n    </div>\n  );\n};\n\nexport default RowActionToolbar;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { TopToolbar, CreateButton, useResourceContext } from 'react-admin';\n\nimport ExportButton from '@components/admin/shared/buttons/ExportButton';\n\nconst ListActions = ({ showExport, ...props }) => {\n  const resourceName = useResourceContext();\n  return (\n    <TopToolbar>\n      {showExport && (\n        <ExportButton\n          resource={resourceName}\n          variant=\"outlined\"\n          sx={{\n            marginRight: {\n              xs: '5px', // theme.breakpoints.up('xs')\n              md: 0, // theme.breakpoints.up('md')\n            }\n          }}\n          filterValues={props.filterValues}\n        />\n      )}\n      <CreateButton variant=\"outlined\" />\n    </TopToolbar>\n  );\n};\n\nexport default ListActions;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport {\n  Button,\n  useListContext,\n  useNotify,\n  useRefresh,\n  useUnselectAll,\n  useUpdateMany,\n  useTranslate,\n} from 'react-admin';\n\nimport ArchiveIcon from '@mui/icons-material/Archive';\nimport UnarchiveIcon from '@mui/icons-material/Unarchive';\n\nconst getContext = (archivedFilterValue) => {\n  return {\n    newValue: !archivedFilterValue,\n    currentValue: archivedFilterValue,\n    icon: archivedFilterValue ? <UnarchiveIcon /> : <ArchiveIcon />,\n    notifications: {\n      success: archivedFilterValue\n        ? 'admin.shared.notifications.bulkUnarchive.success'\n        : 'admin.shared.notifications.bulkArchive.success',\n      failure: archivedFilterValue\n        ? 'admin.shared.notifications.bulkUnarchive.failure'\n        : 'admin.shared.notifications.bulkArchive.failure',\n    },\n    buttonLabel: archivedFilterValue\n      ? 'admin.shared.labels.unarchiveButton'\n      : 'admin.shared.labels.archiveButton',\n  };\n};\n\nconst ToggleBulkArchiveButton = ({\n  resource,\n  selectedIds,\n  archivedFilterValue,\n  ...rest\n}) => {\n  const t = useTranslate();\n  const context = getContext(archivedFilterValue);\n  const [updateMany, { isLoading }] = useUpdateMany(\n    resource,\n    {\n      ids: selectedIds,\n      data: { archived: context.newValue },\n    },\n    {\n      onSuccess: () => {\n        notify(context.notifications.success, { type: 'info' });\n        refresh();\n      },\n      onError: (error) => {\n        notify(context.notifications.failure, { type: 'error' });\n      },\n    },\n  );\n  const notify = useNotify();\n  const refresh = useRefresh();\n  const unselectAll = useUnselectAll(resource);\n  const { data } = useListContext();\n  const handleClick = () => {\n    selectedIds.forEach(updateRecords);\n    updateMany();\n    unselectAll();\n    refresh();\n  };\n  const updateRecords = (value) => {\n    const recordIndex = data.findIndex((record) => record.id === value);\n    data[recordIndex].archived = context.newValue;\n  };\n\n  return (\n    <Button\n      label={t(context.buttonLabel)}\n      disabled={isLoading}\n      onClick={handleClick}\n      variant={rest.variant}\n      color={rest.color}\n    >\n      {context.icon}\n    </Button>\n  );\n};\n\nexport default ToggleBulkArchiveButton;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Fragment } from 'react';\nimport { BulkDeleteButton, useResourceContext } from 'react-admin';\n\nimport ExportButton from '@components/admin/shared/buttons/ExportButton';\nimport ToggleBulkArchiveButton from '@components/admin/shared/buttons/ToggleBulkArchiveButton';\n\nconst BulkActionsToolbar = ({ permissions, showExport, ...props }) => {\n  const filterValues = props.filterValues;\n  const resourceName = useResourceContext();\n\n  if (\n    filterValues.hasOwnProperty('is_system') &&\n    filterValues.is_system &&\n    permissions !== 'admin'\n  ) {\n    return false;\n  } else {\n    return (\n      <Fragment>\n        {showExport && (\n          <ExportButton\n            resource={resourceName}\n            variant=\"contained\"\n            color=\"primary\"\n            style={{ marginRight: '10px' }}\n            selectedIds={props.selectedIds}\n            filterValues={props.filterValues}\n          />\n        )}\n        <ToggleBulkArchiveButton\n          archivedFilterValue={filterValues.archived}\n          variant=\"contained\"\n          color=\"primary\"\n          {...props}\n        />\n        {permissions === 'admin' && filterValues.archived && (\n          <BulkDeleteButton\n            variant=\"outlined\"\n            style={{ lineHeight: 1.6, marginLeft: '10px', borderColor: 'red' }}\n            mutationMode=\"pessimistic\"\n            {...props}\n          />\n        )}\n      </Fragment>\n    );\n  }\n};\n\nexport default BulkActionsToolbar;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, {useEffect} from 'react';\nimport {\n  BooleanField,\n  List,\n  TextField,\n  FunctionField,\n  usePermissions,\n  useTranslate, useStore,\n} from 'react-admin';\n\n\nimport Datagrid from '@components/admin/shared/Datagrid';\nimport ArchivableFilter from '@components/admin/shared/filters/ArchivableFilter';\nimport RowActionToolbar from '@components/admin/shared/toolbars/RowActionToolbar';\nimport ListActions from '@components/admin/shared/toolbars/ListToolbar';\nimport BulkActionButtons from '@components/admin/shared/toolbars/BulkActionsToolbar';\n\nexport const ClinicianList = () => {\n  const { permissions } = usePermissions();\n  const t = useTranslate();\n\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n  useEffect(() => {\n    setPatientUid(false);\n  }, []);\n\n  return (\n    <List\n      sort={{ field: 'first_name', order: 'ASC' }}\n      filters={<ArchivableFilter />}\n      filterDefaultValues={{ archived: false, me: false }}\n      perPage={25}\n      actions={<ListActions/>}\n    >\n      <Datagrid bulkActionButtons={<BulkActionButtons permissions={permissions} />}>\n        <TextField source=\"full_name\" />\n        <BooleanField\n          textAlign=\"center\"\n          source=\"is_superuser\"\n        />\n        <FunctionField\n          label={t('resources.clinicians.list.labels.patients_count')}\n          render={(record) => record.patients.length}\n          textAlign=\"center\"\n        />\n        <RowActionToolbar permissions={permissions} />\n      </Datagrid>\n    </List>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {\n  useRedirect,\n  useResourceContext,\n  useTranslate,\n} from 'react-admin';\nimport Button from '@mui/material/Button';\nimport ArrowBackIosIcon from '@mui/icons-material/ArrowBackIos';\nimport { useStore } from 'react-admin';\n\nconst BackButton = () => {\n  const redirect = useRedirect();\n  const t = useTranslate();\n  const resource = useResourceContext();\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n\n  const handleBack = (e) => {\n    let redirectUrl = `/${resource}`;\n    if (patientUid && resource !== 'patients') {\n      redirectUrl = `/patients/${patientUid}/show`;\n      setPatientUid(false);\n    }\n    redirect(redirectUrl);\n  };\n\n  return (\n    <Button\n      startIcon={<ArrowBackIosIcon/>}\n      size=\"small\"\n      onClick={handleBack}\n      color=\"secondary\"\n      variant=\"contained\"\n    >\n      {t('admin.shared.labels.backButton')}\n    </Button>\n  );\n};\n\nexport default BackButton;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { makeStyles } from '@mui/styles';\nimport React from 'react';\n\nimport BackButton from '../buttons/BackButton';\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    toolbar: {\n      display: 'flex',\n      justifyContent: 'space-between',\n      marginTop: theme.spacing(4),\n    },\n  };\n});\n\nconst ShowToolBar = () => {\n  const classes = useStyles();\n  return (\n    <div className={classes.toolbar}>\n      <BackButton />\n    </div>\n  );\n};\n\nexport default ShowToolBar;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport {makeStyles} from \"@mui/styles\";\n\nexport const translatorInputStyle = { width: 'calc(2*256px + 1em)' };\n\nexport const categoriesSelectorStyle = {\n    '>ul>li': {\n      borderBottom: 'none'\n    }\n};\n\n\nexport const useRaBoxStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    width: '100%',\n  },\n  container: {\n    paddingTop: '0 !important',\n  },\n  leftColumn: {\n    flexDirection: 'column',\n    flex: '0 0 60%',\n    flexGrow: '3',\n    justifyContent: 'center',\n    marginBottom: '10px',\n    paddingRight: '10px',\n    borderRight: 'solid thin',\n    marginRight: '10px',\n  },\n  rightColumn: {\n    flex: '0 0 40%',\n    flexDirection: 'column',\n    flexGrow: '1',\n  },\n  columnChild: {\n    display: 'flex',\n    alignItems: 'flex-start',\n    justifyContent: 'center',\n    paddingLeft: '10px',\n    '& .innerChild': {\n      paddingLeft: 0,\n    },\n  },\n  innerChild: {\n    width: '50%',\n  },\n  buttonLine: {\n    display: 'flex',\n    width: '100%',\n    justifyContent: 'space-between',\n  },\n  buttonLineLeft: {\n    display: 'flex',\n  },\n}));\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, {useState} from 'react';\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport { BoxedShowLayout, RaBox } from 'ra-compact-ui';\nimport {\n  BooleanField,\n  Show,\n  TextField,\n  EmailField,\n  FunctionField,\n  useTranslate,\n  useResourceDefinition,\n  useNotify,\n  useRecordContext,\n} from 'react-admin';\n\nimport ShowToolBar from '@components/admin/shared/toolbars/ShowToolbar';\nimport TopToolbar from '@components/admin/shared/toolbars/TopToolbar';\nimport {\n  Button,\n  Dialog, DialogActions,\n  DialogContent,\n  DialogContentText,\n  DialogTitle,\n  IconButton\n} from \"@mui/material\";\nimport MailOutlineIcon from \"@mui/icons-material/MailOutline\";\nimport ErrorOutlineIcon from \"@mui/icons-material/ErrorOutline\";\nimport CheckCircle from \"@mui/icons-material/CheckCircle\";\nimport {fetchJsonWithAuthToken} from \"ra-data-django-rest-framework\";\nimport {useRaBoxStyles} from \"@components/admin/shared/styles/shared\";\n\nexport const ClinicianShow = () => {\n  const { hasEdit } = useResourceDefinition();\n\n  return (\n    <Show actions={<TopToolbar hasEdit={hasEdit} />}>\n      <ClinicianShowRecord />\n    </Show>\n  );\n};\n\n\nexport const ClinicianShowRecord = () => {\n  const record = useRecordContext();\n  if (!record) return null;\n  const classes = useRaBoxStyles();\n\n  return (\n    <BoxedShowLayout className={classes.container}>\n      <ClinicianShowLayout record={record}></ClinicianShowLayout>\n    </BoxedShowLayout>\n  );\n\n};\n\nexport const ClinicianShowLayout = ({ record }) => {\n  const t = useTranslate();\n  const notify = useNotify();\n  const classes = useRaBoxStyles();\n  const [openDialogEmail, setOpenDialogEmail] = useState(false);\n\n  const handleOpenDialogEmail = (event) => {\n    setOpenDialogEmail(true);\n  };\n\n  const handleCloseDialogEmail = (event) => {\n    setOpenDialogEmail(false);\n  };\n\n  const handleSendOnboarding = (event) => {\n    setOpenDialogEmail(false);\n    const url = `${process.env.API_ENDPOINT}/clinicians/${record.id}/resend/`;\n\n    fetchJsonWithAuthToken(url, {\n      method: 'POST',\n      body: JSON.stringify({ 'confirm': true }),\n    })\n      .then(() => {\n        notify('resources.patients.notifications.email.send.success', {\n          type: 'info',\n        });\n      })\n      .catch((e) => {\n        notify('resources.patients.notifications.email.send.failure', {\n          type: 'error',\n        });\n      })\n      .finally(() => {});\n  };\n\n  return (\n      <BoxedShowLayout className={classes.container}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('admin.shared.labels.card.identity')}\n        </Typography>\n        <RaBox>\n          <RaBox className={classes.columnChild}>\n            <RaBox className={classes.innerChild}>\n              <TextField source=\"first_name\" />\n              <div>\n                <EmailField source=\"email\" />\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: '0.5em' }}\n                  onClick={handleOpenDialogEmail}\n                >\n                  <MailOutlineIcon />\n                </IconButton>\n                <Dialog open={openDialogEmail}>\n                  <DialogTitle>\n                    {t('admin.shared.text.emailDialog.title')}\n                  </DialogTitle>\n                  <DialogContent>\n                    <DialogContentText>\n                      {t('admin.shared.text.emailDialog.body')}\n                    </DialogContentText>\n                  </DialogContent>\n                  <DialogActions>\n                    <Button\n                      onClick={handleCloseDialogEmail}\n                      autoFocus\n                      size=\"small\"\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      startIcon={<ErrorOutlineIcon />}\n                    >\n                      {t('admin.shared.labels.cancelButton')}\n                    </Button>\n                    <Button\n                      onClick={handleSendOnboarding}\n                      color=\"primary\"\n                      variant=\"contained\"\n                      startIcon={<CheckCircle />}\n                    >\n                      {t('admin.shared.labels.confirmButton')}\n                    </Button>\n                  </DialogActions>\n                </Dialog>\n              </div>\n            </RaBox>\n            <RaBox className={classes.innerChild}>\n              <TextField source=\"last_name\" />\n            </RaBox>\n          </RaBox>\n        </RaBox>\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('admin.shared.labels.card.informations')}\n        </Typography>\n        <RaBox>\n          <RaBox className={classes.columnChild}>\n            <RaBox className={classes.innerChild}>\n              <FunctionField\n                label={t('resources.clinicians.fields.language')}\n                render={(record) => t(`languages.${record.language}`)}\n              />\n            </RaBox>\n            <RaBox className={classes.innerChild}>\n              <BooleanField source=\"is_superuser\" />\n            </RaBox>\n          </RaBox>\n        </RaBox>\n\n        <ShowToolBar />\n      </BoxedShowLayout>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport CircularProgress from '@mui/material/CircularProgress';\nimport { makeStyles } from '@mui/styles';\nimport React from 'react';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'center',\n    padding: '10px',\n    '& > * + *': {\n      marginLeft: theme.spacing(2),\n    },\n    width: '100%',\n    height: '100%'\n  },\n}));\n\nconst Spinner = () => {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <CircularProgress />\n    </div>\n  );\n};\n\nexport default Spinner;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { useEffect, useState } from 'react';\nimport {\n  useTranslate,\n} from 'react-admin';\nimport { Card, CardContent } from '@mui/material';\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport { fetchJsonWithAuthToken } from 'ra-data-django-rest-framework';\nimport {\n  BarChart,\n  Bar,\n  Legend,\n  Tooltip,\n  XAxis,\n  YAxis,\n  ResponsiveContainer\n} from 'recharts';\nimport Spinner from \"@components/admin/shared/Spinner\";\nimport { makeStyles } from '@mui/styles';\nimport FormControl from '@mui/material/FormControl';\nimport NativeSelect from '@mui/material/NativeSelect';\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    formControl: {\n      margin: theme.spacing(1),\n        minWidth: 120,\n    },\n    selectEmpty: {\n      marginTop: theme.spacing(2),\n    },\n    widget: {\n      '& header': {\n        paddingLeft: '15px',\n          '& > span': {\n          fontFamily: theme.typography.fontFamily\n        },\n        '& > div': {\n          display: 'inline-flex',\n            marginTop: '-30px'\n        }\n      }\n    },\n    widgetTooltipInner: {\n      '& > p:first-child': { fontWeight: 'bold', fontSize: '0.9em' },\n      '& > p:not(:first-child)': { padding: 0, fontSize: '0.8em' }\n    }\n  };\n});\n\nconst widgetTooptipWrapperStyle = {\n  backgroundColor: '#FFF',\n  border: 'solid 2px #078EE4',\n  padding: '0 10px',\n  fontFamily: 'Inter',\n  outlineColor: null,\n  outlineWidth: 0,\n};\n\n\nexport const DashboardWidget = ({widget}) => {\n  const t = useTranslate();\n  const classes = useStyles();\n  const [loading, setLoading] = useState(true);\n  const [data, setData] = useState([]);\n  const [weekRange, setWeekRange] = useState('one_week');\n  const [widgetHeight, setWidgetHeight] = useState(400);\n  const fetchData = async () => {\n    setLoading(true);\n    const options = {\n      ordering: 'full_name',\n      archived: false,\n      week_range: weekRange,\n    };\n    const qs = new URLSearchParams(options).toString();\n    const url = `${process.env.API_ENDPOINT}/patients/widgets/${widget}/?${qs}`;\n    const response = await fetchJsonWithAuthToken(url, {});\n    const data = response.json;\n    setData(data);\n    setLoading(false);\n    setWidgetHeight(Math.max(data.length * 40, 400));\n  };\n  const handleChange = (event) => {\n    setWeekRange(event.target.value);\n  };\n  useEffect(() => {\n    fetchData();\n  }, [weekRange]);\n\n  const CustomTooltip = ({widget, active, payload}) => {\n    console.log('PAYLOAD', payload);\n\n    if (!payload || !payload.length) {\n      return null;\n    }\n\n    if (active) {\n      return (\n        <div className={classes.widgetTooltipInner}>\n          <p>{payload[0].payload.full_name}</p>\n          <p>{`${payload[0].name} : ${payload[0].value}`}\n          {widget === 'sessions' &&\n            <span><br />{`${payload[1].name} : ${payload[1].value}`}</span>\n          }\n          </p>\n        </div>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <Card className={classes.widget}>\n      <header>\n        <Typography variant=\"h6\" gutterTop={true} gutterBottom>\n          {t(`admin.dashboard.widgets.${widget}.card_header`)}\n        </Typography>\n        <span>{t(`admin.dashboard.widgets.labels.since`)}</span>\n        <div>\n          <FormControl variant=\"filled\" className={classes.formControl}>\n            <NativeSelect\n              value={weekRange}\n              onChange={handleChange}\n              className={classes.selectEmpty}\n            >\n              <option value=\"one_week\">\n                {t('admin.dashboard.widgets.choices.one_week')}\n              </option>\n              <option value=\"two_weeks\">\n                {t('admin.dashboard.widgets.choices.two_weeks')}\n              </option>\n              <option value=\"one_month\">\n                {t('admin.dashboard.widgets.choices.one_month')}\n              </option>\n              <option value=\"all\">\n                {t('admin.dashboard.widgets.choices.all')}\n              </option>\n            </NativeSelect>\n          </FormControl>\n        </div>\n      </header>\n\n      <CardContent>\n        <div style={{ width: '100%', height: widgetHeight }}>\n          {loading && <Spinner />}\n          {!loading &&\n            <ResponsiveContainer width=\"99%\" height={widgetHeight}>\n              <BarChart\n                data={data}\n                margin={{\n                  top: 5,\n                  right: 30,\n                  left: 20,\n                  bottom: 5,\n                }}\n                layout=\"vertical\"\n              >\n                <XAxis\n                  type=\"number\"\n                  domain={[0, dataMax => (dataMax >= 4 ? dataMax : 4)]}\n                  style={{ fontFamily: 'Inter' }}\n                />\n                <YAxis\n                  type=\"category\"\n                  dataKey=\"y_axis\"\n                  style={{ fontFamily: 'Inter' }}\n                  width={100}\n                />\n                <Tooltip\n                  isAnimationActive={false}\n                  wrapperStyle={widgetTooptipWrapperStyle}\n                  contentStyle={{backgroundColor: 'green'}}\n                  itemStyle={{backgroundColor: 'purple'}}\n                  content={<CustomTooltip widget={widget} />}\n                />\n                <Bar\n                  name={t('admin.dashboard.widgets.labels.completed')}\n                  dataKey=\"completed\"\n                  fill=\"#078EE4\"\n                />\n                {widget === 'sessions' &&\n                  <Bar\n                    name={t('admin.dashboard.widgets.labels.uncompleted')}\n                    dataKey=\"uncompleted\"\n                    fill=\"#939DAB\"\n                  />\n                }\n                {widget === 'sessions' &&\n                  <Legend\n                    wrapperStyle={{ fontFamily: 'Inter', fontSize: '0.8em'}}\n                  />\n                }\n\n              </BarChart>\n            </ResponsiveContainer>\n          }\n        </div>\n      </CardContent>\n    </Card>\n  )\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const MirrorIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 512 512\">\n      <g id=\"Outline\">\n        <path d=\"m432 192c0-97.047-78.953-176-176-176s-176 78.953-176 176c0 .231.01.463.03.693l.333 3.823a64.005 64.005 0 0 0 11.406 122.305 270.426 270.426 0 0 0 54.4 123.8 139.677 139.677 0 0 0 219.662 0 270.426 270.426 0 0 0 54.4-123.8 64.009 64.009 0 0 0 11.406-122.306l.333-3.822c.02-.23.03-.462.03-.693zm-376 64a47.937 47.937 0 0 1 25.834-42.566l7.4 85.119c.095 1.083.2 2.164.312 3.245a47.727 47.727 0 0 1 -33.546-45.798zm350.825 41.166a254.573 254.573 0 0 1 -53.575 135.567 123.678 123.678 0 0 1 -194.5 0 254.573 254.573 0 0 1 -53.575-135.567l-9.175-105.509c.184-88.069 71.889-159.657 160-159.657s159.816 71.588 160 159.657zm35.115-75.111a48.025 48.025 0 0 1 -19.487 79.745c.107-1.081.217-2.162.312-3.245l7.4-85.119a48.16 48.16 0 0 1 11.775 8.619z\" />\n        <path d=\"m480 448v-72h-16v64h-56v16h64a8 8 0 0 0 8-8z\" />\n        <path d=\"m32 448a8 8 0 0 0 8 8h64v-16h-56v-64h-16z\" />\n        <path d=\"m32 64v72h16v-64h56v-16h-64a8 8 0 0 0 -8 8z\" />\n        <path d=\"m480 64a8 8 0 0 0 -8-8h-64v16h56v64h16z\" />\n        <path d=\"m168 224a32 32 0 1 0 32 32 32.036 32.036 0 0 0 -32-32zm0 48a16 16 0 1 1 16-16 16.019 16.019 0 0 1 -16 16z\" />\n        <path d=\"m344 224a32 32 0 1 0 32 32 32.036 32.036 0 0 0 -32-32zm0 48a16 16 0 1 1 16-16 16.019 16.019 0 0 1 -16 16z\" />\n        <path d=\"m248 240h16v104h-16z\" />\n        <path d=\"m217.569 368.155-3.138 15.69a210.913 210.913 0 0 0 83.138 0l-3.138-15.69a194.977 194.977 0 0 1 -76.862 0z\" />\n        <path d=\"m298.668 202.036 10.664 11.928c20.8-18.592 49.267-18.636 69.224-.1l10.888-11.724c-13.084-12.15-29-18.436-46.041-18.128a69.212 69.212 0 0 0 -44.735 18.024z\" />\n        <path d=\"m122.556 202.138 10.888 11.724c19.959-18.533 48.424-18.49 69.224.1l10.664-11.928a69.212 69.212 0 0 0 -44.732-18.024c-17.045-.301-32.96 5.978-46.044 18.128z\" />\n      </g>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { fetchJsonWithAuthToken } from 'ra-data-django-rest-framework';\nimport React, { Fragment, useMemo, useState } from 'react';\nimport {\n  useGetIdentity,\n  useGetList,\n  useNotify,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport CheckCircle from '@mui/icons-material/CheckCircle';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport {\n  Box,\n  Card,\n  CardActions,\n  Button,\n  DialogTitle,\n  DialogContent,\n  TextField as TextFieldMui,\n  CircularProgress,\n  DialogActions,\n  Dialog,\n} from '@mui/material';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport { makeStyles } from '@mui/styles';\n\nimport { MirrorIcon } from '@components/admin/shared/icons/MirrorIcon';\n\nconst useStyles = makeStyles((theme) => ({\n  actions: {\n    justifyContent: 'center',\n    [theme.breakpoints.down('md')]: {\n      marginTop: 0,\n      padding: 0,\n      flexWrap: 'wrap',\n      '& button': {\n        marginBottom: '0.5em',\n        marginTop: '0.5em',\n        marginLeft: '0!important',\n      },\n    },\n  },\n}));\n\nexport const Welcome = () => {\n  const classes = useStyles();\n  const t = useTranslate();\n  const { locale } = useLocale();\n  const notify = useNotify();\n  const { isLoading: identityLoading } = useGetIdentity();\n  const [confirmDisabled, setConfirmDisabled] = useState(true);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [selectedPatient, setSelectedPatient] = useState(undefined);\n  const handleOpenDialog = () => {\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n  };\n  const handleAutocompleteChange = (event, patient) => {\n    setSelectedPatient(patient);\n    setConfirmDisabled(patient ? false : true);\n  };\n  const handleConfirmClick = (e) => {\n    e.stopPropagation();\n    // Wait for the click action to be triggered before reset selectedIds\n    const url = `${process.env.API_ENDPOINT}/token/`;\n\n    fetchJsonWithAuthToken(url, {\n      method: 'POST',\n      body: `{\"type\":\"mirror\", \"patient_uid\": \"${selectedPatient.id}\"}`,\n    })\n      .then((response) => {\n        const qs = new URLSearchParams({\n          tt: response.json['token'],\n        }).toString();\n        const mirrorUrl = `/?${qs}#/intro`;\n        setOpenDialog(false);\n        setSelectedPatient(undefined);\n        setConfirmDisabled(true);\n        window.open(mirrorUrl, 'mirror', 'width=1024');\n      })\n      .catch(() => {\n        notify('admin.shared.notifications.mirror.failure', 'error');\n      });\n  };\n  const { data, isLoading: patientsLoading } = useGetList('patients', {\n    pagination: { page: 1, perPage: 9999 },\n    sort: { field: 'full_name', order: 'ASC' },\n    filter: {\n      language: locale,\n      archived: false,\n    },\n  });\n\n  const patients = useMemo(() => {\n    if (data) {\n      return Object.values(data).map((patient) => ({\n        name: patient.full_name,\n        id: patient.id,\n      }));\n    } else {\n      return [];\n    }\n  }, [data]);\n\n  if (identityLoading) return <></>;\n\n  return (\n    <Card>\n      <Box display=\"flex\">\n        <Box flex=\"1\">\n          <CardActions className={classes.actions}>\n            <Button\n              variant=\"contained\"\n              onClick={handleOpenDialog}\n              startIcon={<MirrorIcon />}\n              color=\"secondary\"\n            >\n              {t('admin.dashboard.labels.openMirrorButton')}\n            </Button>\n            <Dialog open={openDialog}>\n              <DialogTitle>\n                {t('admin.dashboard.mirror_dialog.title')}\n              </DialogTitle>\n              <DialogContent>\n                <Autocomplete\n                  options={patients}\n                  autoHighlight\n                  loading={patientsLoading}\n                  onChange={handleAutocompleteChange}\n                  getOptionLabel={(option) => option.name}\n                  renderInput={(params) => (\n                    <TextFieldMui\n                      {...params}\n                      label={t(\n                        'admin.dashboard.mirror_dialog.labels.autocomplete',\n                      )}\n                      variant=\"filled\"\n                      InputProps={{\n                        ...params.InputProps,\n                        endAdornment: (\n                          <Fragment>\n                            {patientsLoading ? (\n                              <CircularProgress color=\"inherit\" size={20} />\n                            ) : null}\n                            {params.InputProps.endAdornment}\n                          </Fragment>\n                        ),\n                      }}\n                    />\n                  )}\n                />\n              </DialogContent>\n              <DialogActions>\n                <Button\n                  onClick={handleCloseDialog}\n                  autoFocus\n                  color=\"secondary\"\n                  variant=\"contained\"\n                  startIcon={<ErrorOutlineIcon />}\n                >\n                  {t('admin.shared.labels.cancelButton')}\n                </Button>\n                <Button\n                  color=\"primary\"\n                  variant=\"contained\"\n                  startIcon={<CheckCircle />}\n                  disabled={confirmDisabled}\n                  onClick={handleConfirmClick}\n                >\n                  {t('admin.shared.labels.confirmButton')}\n                </Button>\n              </DialogActions>\n            </Dialog>\n          </CardActions>\n        </Box>\n      </Box>\n    </Card>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { usePermissions } from 'react-admin';\n\nimport { useMediaQuery } from '@mui/material';\n\nimport { DashboardWidget } from './DashboardWidget';\nimport { Welcome } from './Welcome';\n\nconst Dashboard = () => {\n  const isSmall = useMediaQuery((theme) => theme.breakpoints.down('lg'));\n  const { permissions } = usePermissions();\n  const styles = {\n    flex: { display: 'flex' },\n    flexColumn: { display: 'flex', flexDirection: 'column' },\n    flexRow: {\n      display: 'flex',\n      flexDirection: 'row',\n      justifyContent: 'space-between',\n      '& > div': { width: '50%' },\n    },\n    leftCol: { flex: 1, marginRight: '0.5em' },\n    rightCol: { flex: 1, marginLeft: '0.5em' },\n    singleCol: { marginTop: '1em', marginBottom: '1em' },\n  };\n\n  const HorizontalSpacer = () => <span style={{ height: '1em' }} />;\n\n  if (['admin', 'staff'].includes(permissions)) {\n    return isSmall ? (\n      <div>\n        <div style={styles.flexColumn}>\n          <Welcome />\n          <HorizontalSpacer />\n          <DashboardWidget widget=\"daily_repeats\" />\n          <HorizontalSpacer />\n          <DashboardWidget widget=\"sessions\" />\n        </div>\n      </div>\n    ) : (\n      <div style={styles.flexColumn}>\n        <div style={styles.singleCol}>\n          <Welcome />\n        </div>\n        <div style={styles.flex}>\n          <div style={styles.leftCol}>\n            <DashboardWidget widget=\"daily_repeats\" />\n          </div>\n          <div style={styles.rightCol}>\n            <DashboardWidget widget=\"sessions\" />\n          </div>\n        </div>\n      </div>\n    );\n  } else {\n    return <></>;\n  }\n};\n\nexport default Dashboard;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { SelectInput } from 'react-admin';\n\nconst SubCategoryInput = ({\n  updatedSubCategoryInputs,\n  subCategories,\n  data,\n  ...props\n}) => {\n  let choices = [];\n  if (updatedSubCategoryInputs.hasOwnProperty(props.source)) {\n    choices = subCategories[updatedSubCategoryInputs[props.source]];\n  } else if (data['category__uid']) {\n    choices = subCategories[data['category__uid']];\n  }\n  return <SelectInput choices={choices} {...props} />;\n};\n\nexport default SubCategoryInput;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { LANGUAGES } from '../../../locales';\n\nexport const preSave = (record, locale) => {\n  /* ToDo plug translation API */\n  let localizedDescription = '';\n\n  try {\n    localizedDescription = record.i18n.description[locale];\n  } catch (e) {}\n\n\n  // If no matches found, let's loop through all languages.\n  LANGUAGES.forEach((language) => {\n    if (!localizedDescription) {\n      try {\n        localizedDescription = record.i18n.description[language];\n      } catch (e) {\n      }\n    }\n  });\n\n  // Assign missing translations\n  LANGUAGES.forEach((language) => {\n    if (!record.i18n.description.hasOwnProperty(language) || !record.i18n.description[language]) {\n      record.i18n.description[language] = `(${language.toUpperCase()}) - ${localizedDescription}`;\n    }\n  });\n\n  // ensure record is not archived (useful when duplicating a record)\n  record.archived = false;\n  return record;\n};","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { makeStyles } from '@mui/styles';\n\n\nexport const useNumberStyles = makeStyles((theme) => ({\n  numbers: {\n    display: 'flex',\n    justifyContent: 'start',\n    alignItems: 'center',\n    gap: '1em',\n    '& > div': {\n      minWidth: '95px',\n      width: '95px'\n    },\n  }\n}));\n\nexport const useCategoryChipsStyles = makeStyles((theme) => {\n  return {\n    root: {\n      width: 'calc(2*256px + 1em)',\n      display: 'flex',\n      justifyContent: 'start',\n      marginBottom: theme.spacing(2),\n      '& div': {\n        width: '200px',\n        '&:first-child': {\n          marginRight: theme.spacing(2),\n        }\n      }\n    }\n  };\n});\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { required } from 'react-admin';\n\nexport const validateCategory = [required()];\nexport const validateSubCategory = [required()];\nexport const validateSubCategories = [required()];\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useState } from 'react';\nimport {\n  ArrayInput,\n  BooleanInput,\n  Create,\n  FormDataConsumer,\n  NumberInput,\n  SelectInput,\n  SimpleForm,\n  SimpleFormIterator,\n  TextInput,\n  TranslatableInputs,\n  useGetList,\n  usePermissions, useResourceContext,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport SubCategoryInput from '@components/admin/exercises/SubCategoryInput';\nimport { preSave } from '@components/admin/exercises/callbacks';\nimport {\n  useNumberStyles,\n} from '@components/admin/exercises/styles';\nimport {\n  validateCategory,\n  validateSubCategory,\n  validateSubCategories,\n} from '@components/admin/exercises/validators';\nimport { Typography, Div } from '@components/admin/shared/dom/sanitize';\nimport SimpleFormToolBar from '@components/admin/shared/toolbars/SimpleFormToolbar';\nimport { validateNumber } from '@components/admin/shared/validators';\nimport { requiredLocalizedField } from '@components/admin/shared/validators';\n\nimport { LANGUAGES } from '../../../locales';\nimport {\n  categoriesSelectorStyle,\n  translatorInputStyle\n} from \"@components/admin/shared/styles/shared\";\n\nexport const ExerciseCreate = () => {\n  const { permissions } = usePermissions();\n  const t = useTranslate();\n  const numberClasses = useNumberStyles();\n  const { locale } = useLocale();\n  const [updatedSubCategoryInputs, setUpdatedSubCategoryInputs] = useState({});\n  let categories = [];\n  let subCategories = {};\n  const resourceName = useResourceContext();\n  const { data, isLoading } = useGetList(\n    'categories',\n    {\n      pagination: { page: 1, perPage: 9999 },\n      sort: { field: 'i18n__name', order: 'ASC' },\n    },\n    { language: locale },\n  );\n\n  const validateI18n = (value, record) => {\n    return requiredLocalizedField(value, record, locale, 'description');\n  };\n\n  /* Update description translations if empty */\n  const transform = (record) => {\n    return preSave(record, locale);\n  };\n\n  /* Populate dynamically subcategories */\n  const handleChange = (event) => {\n    const categoryInput = event.target;\n    const updates = {};\n\n    updates[categoryInput.name.replace('category__', '')] = categoryInput.value;\n    setUpdatedSubCategoryInputs({\n      ...updatedSubCategoryInputs,\n      ...updates,\n    });\n  };\n\n  // ToDo refactor\n  if (!isLoading) {\n    data.forEach((category) => {\n      categories.push({\n        'id': category.id,\n        'name': category.i18n.name[locale],\n      });\n      subCategories[category.id] = category.sub_categories.map(\n        (subCategory) => {\n          return {\n            'id': subCategory.id,\n            'name': subCategory.i18n.name[locale],\n          };\n        },\n      );\n    });\n  }\n\n  const onError = (error) => {\n    let message = '';\n    if (error?.body) {\n      Object.entries(error.body).forEach(([key, values]) => {\n        message += t(`resources.${resourceName}.errors.${key}`);\n      });\n    } else {\n      message = t('api.error.generic');\n    }\n    notify(message, { type: 'error' });\n  };\n\n  return (\n    <Create transform={transform} mutationOptions={{ onError: onError }} redirect=\"list\">\n      <SimpleForm toolbar={<SimpleFormToolBar identity={false} />}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('resources.exercises.card.labels.definition')}\n        </Typography>\n        <TranslatableInputs\n          locales={LANGUAGES}\n          defaultLocale={locale}\n          sx={translatorInputStyle}\n        >\n          <TextInput\n            source=\"i18n.description\"\n            multiline={true}\n            fullWidth={true}\n            validate={validateI18n}\n          />\n        </TranslatableInputs>\n        {permissions === 'admin' && <BooleanInput source=\"is_system\" />}\n        <Div className={numberClasses.numbers}>\n          <NumberInput\n            source=\"movement_duration\"\n            validate={validateNumber}\n            label={t('resources.exercises.fields.movement_duration')}\n          />\n          <NumberInput\n            source=\"pause\"\n            validate={validateNumber}\n            label={t('resources.exercises.fields.pause')}\n          />\n          <NumberInput\n            source=\"repeat\"\n            validate={validateNumber}\n            label={t('resources.exercises.fields.repeat')}\n          />\n        </Div>\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('resources.exercises.card.labels.classification')}\n        </Typography>\n        {!isLoading && (\n          <ArrayInput\n            source=\"sub_categories\"\n            validate={validateSubCategories}\n            fullWidth={false}\n          >\n            <SimpleFormIterator\n              sx={categoriesSelectorStyle}\n              disableReordering={true}\n              inline\n            >\n              <SelectInput\n                label=\"Category\"\n                source=\"category__uid\"\n                choices={categories}\n                onChange={handleChange}\n                validate={validateCategory}\n              />\n              <FormDataConsumer>\n                {({ scopedFormData, getSource, ...rest }) =>\n                  scopedFormData ? (\n                    <SubCategoryInput\n                      label=\"Sub-category\"\n                      source={getSource('uid')}\n                      data={scopedFormData}\n                      updatedSubCategoryInputs={updatedSubCategoryInputs}\n                      subCategories={subCategories}\n                      validate={validateSubCategory}\n                    />\n                  ) : null\n                }\n              </FormDataConsumer>\n            </SimpleFormIterator>\n          </ArrayInput>\n        )}\n      </SimpleForm>\n    </Create>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useState } from 'react';\nimport {\n  ArrayInput,\n  BooleanInput,\n  Edit,\n  FormDataConsumer,\n  NumberInput,\n  ReferenceField,\n  SelectInput,\n  SimpleForm,\n  SimpleFormIterator,\n  TextField,\n  TextInput,\n  TranslatableInputs,\n  useGetList,\n  usePermissions, useResourceDefinition,\n  useTranslate,\n} from 'react-admin';\n\nimport SubCategoryInput from '@components/admin/exercises/SubCategoryInput';\nimport { preSave } from '@components/admin/exercises/callbacks';\nimport {\n  useNumberStyles,\n} from '@components/admin/exercises/styles';\nimport {\n  validateCategory,\n  validateSubCategory,\n  validateSubCategories,\n} from '@components/admin/exercises/validators';\nimport { Typography, Div } from '@components/admin/shared/dom/sanitize';\nimport SimpleFormToolBar from '@components/admin/shared/toolbars/SimpleFormToolbar';\nimport TopToolbar from '@components/admin/shared/toolbars/TopToolbar';\nimport { validateNumber } from '@components/admin/shared/validators';\nimport { requiredLocalizedField } from '@components/admin/shared/validators';\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { translatorInputStyle, categoriesSelectorStyle } from '@components/admin/shared/styles/shared';\n\nimport { LANGUAGES } from '../../../locales';\n\nexport const ExerciseEdit = () => {\n  const t = useTranslate();\n  const { permissions } = usePermissions();\n  const { hasShow } = useResourceDefinition();\n  const numberClasses = useNumberStyles();\n  const { locale } = useLocale();\n  const [updatedSubCategoryInputs, setUpdatedSubCategoryInputs] = useState({});\n  let categories = [];\n  let subCategories = {};\n  const { data, isLoading } = useGetList('categories', {\n    pagination: { page: 1, perPage: 9999 },\n    sort: { field: 'i18n__name', order: 'ASC' },\n    filter: { language: locale },\n  });\n\n  const validateI18n = (value, record) => {\n    return requiredLocalizedField(value, record, locale, 'description');\n  };\n  /* Update description translations if empty */\n  const transform = (record) => {\n    return preSave(record, locale);\n  };\n\n  /* Populate dynamically subcategories */\n  const handleChange = (event) => {\n    const categoryInput = event.target;\n    const updates = {};\n\n    updates[categoryInput.name.replace('category__', '')] = categoryInput.value;\n    setUpdatedSubCategoryInputs({\n      ...updatedSubCategoryInputs,\n      ...updates,\n    });\n  };\n  // ToDo refactor\n  if (!isLoading) {\n    data.forEach((category) => {\n      categories.push({\n        'id': category.id,\n        'name': category.i18n.name[locale],\n      });\n      subCategories[category.id] = category.sub_categories.map(\n        (subCategory) => {\n          return {\n            'id': subCategory.id,\n            'name': subCategory.i18n.name[locale],\n          };\n        },\n      );\n    });\n  }\n\n  const onError = (error) => {\n    let message = '';\n    if (error?.body) {\n      Object.entries(error.body).forEach(([key, values]) => {\n        message += t(`resources.${resourceName}.errors.${key}`);\n      });\n    } else {\n      message = t('api.error.generic');\n    }\n    notify(message, { type: 'error' });\n  };\n\n  return (\n    <Edit\n      transform={transform}\n      actions={<TopToolbar hasShow={hasShow} />}\n      mutationOptions={{ onError: onError }}\n      mutationMode=\"pessimistic\"\n    >\n      <SimpleForm\n        redirect=\"list\"\n        toolbar={<SimpleFormToolBar identity={false} />}\n      >\n        <Typography variant=\"h6\" gutterBottom>\n          {t('resources.exercises.card.labels.definition')}\n        </Typography>\n        {permissions === 'admin' && (\n          <ReferenceField\n            source=\"clinician_uid\"\n            reference=\"clinicians\"\n            link=\"show\"\n          >\n            <TextField source=\"full_name\" />\n          </ReferenceField>\n        )}\n        <TranslatableInputs\n          locales={LANGUAGES}\n          defaultLocale={locale}\n          sx={translatorInputStyle}\n        >\n          <TextInput\n            source=\"i18n.description\"\n            multiline={true}\n            fullWidth={true}\n            validate={validateI18n}\n          />\n        </TranslatableInputs>\n        {permissions === 'admin' && <BooleanInput source=\"is_system\" />}\n        <Div className={numberClasses.numbers}>\n          <NumberInput\n            source=\"movement_duration\"\n            validate={validateNumber}\n            label={t('resources.exercises.fields.movement_duration')}\n          />\n          <NumberInput\n            source=\"pause\"\n            validate={validateNumber}\n            label={t('resources.exercises.fields.pause')}\n          />\n          <NumberInput\n            source=\"repeat\"\n            validate={validateNumber}\n            label={t('resources.exercises.fields.repeat')}\n          />\n        </Div>\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('resources.exercises.card.labels.classification')}\n        </Typography>\n        {!isLoading && (\n          <ArrayInput\n            source=\"sub_categories\"\n            validate={validateSubCategories}\n            fullWidth={false}\n          >\n            <SimpleFormIterator\n              sx={categoriesSelectorStyle}\n              disableReordering={true}\n              inline\n            >\n              <SelectInput\n                label={t('resources.categories.labels.category')}\n                source=\"category__uid\"\n                choices={categories}\n                onChange={handleChange}\n                validate={validateCategory}\n              />\n              <FormDataConsumer>\n                {({ scopedFormData, getSource, ...rest }) =>\n                  scopedFormData ? (\n                    <SubCategoryInput\n                      label={t('resources.categories.labels.sub_category')}\n                      source={getSource('uid')}\n                      data={scopedFormData}\n                      updatedSubCategoryInputs={updatedSubCategoryInputs}\n                      subCategories={subCategories}\n                      validate={validateSubCategory}\n                    />\n                  ) : null\n                }\n              </FormDataConsumer>\n            </SimpleFormIterator>\n          </ArrayInput>\n        )}\n      </SimpleForm>\n    </Edit>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const CategoryIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 24 24\">\n      <path d=\"M21.4395 12.101L12.8895 3.551C12.5475 3.209 12.0725 3 11.55 3H4.9C3.855 3 3 3.855 3 4.9V11.55C3 12.0725 3.209 12.5475 3.5605 12.899L12.1105 21.449C12.4525 21.791 12.9275 22 13.45 22C13.9725 22 14.4475 21.791 14.7895 21.4395L21.4395 14.7895C21.791 14.4475 22 13.9725 22 13.45C22 12.9275 21.7815 12.443 21.4395 12.101ZM6.325 7.75C5.5365 7.75 4.9 7.1135 4.9 6.325C4.9 5.5365 5.5365 4.9 6.325 4.9C7.1135 4.9 7.75 5.5365 7.75 6.325C7.75 7.1135 7.1135 7.75 6.325 7.75Z\"/>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const ClinicianIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 24 24\">\n      <path d=\"M23.002 6.49904C23.002 4.67929 21.5211 3.19841 19.7014 3.19841C17.8816 3.19841 16.4007 4.67929 16.4007 6.49904C16.4007 7.93151 17.3227 9.14064 18.6012 9.59613V19.7005C18.6012 20.3078 18.1072 20.8007 17.501 20.8007C16.8947 20.8007 16.4007 20.3078 16.4007 19.7005C16.4007 17.8807 14.9199 16.3998 13.1001 16.3998C11.2804 16.3998 9.79948 17.8807 9.79948 19.7005C9.79948 20.0041 9.55194 20.2506 9.24938 20.2506C8.94682 20.2506 8.69927 20.0041 8.69927 19.7005V16.3019C11.8162 15.776 14.2003 13.0651 14.2003 9.79857V3.19841C14.2003 2.59109 13.7085 2.0982 13.1001 2.0982H10.8997V0.997986H8.69927V5.39883H10.8997V4.29862H11.9999V9.79747C11.9999 12.2256 10.025 14.1983 7.59906 14.1983C5.1731 14.1983 3.19822 12.2256 3.19822 9.79747V4.29862H4.29843V5.39883H6.49885V0.997986H4.29843V2.0982H2.09801C1.4896 2.0982 0.997803 2.59109 0.997803 3.19841V9.79747C0.997803 13.0629 3.38196 15.7749 6.49885 16.3008V19.6994C6.49885 21.2165 7.73219 22.4499 9.24938 22.4499C10.7666 22.4499 11.9999 21.2165 11.9999 19.6994C11.9999 19.0942 12.4939 18.5991 13.1001 18.5991C13.7063 18.5991 14.2003 19.0942 14.2003 19.6994C14.2003 21.5202 15.6812 23 17.501 23C19.3207 23 20.8016 21.5202 20.8016 19.6994V9.59613C22.08 9.14064 23.002 7.93151 23.002 6.49904ZM19.7014 7.59705C19.0952 7.59705 18.6012 7.10415 18.6012 6.49904C18.6012 5.89392 19.0952 5.39883 19.7014 5.39883C20.3076 5.39883 20.8016 5.89282 20.8016 6.49904C20.8016 7.10525 20.3076 7.59705 19.7014 7.59705Z\"/>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const ExerciseIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 24 24\">\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M20.2491 10.4656L20.25 10.4699C20.3855 11.0716 21 13.6 21 13.6H18.6241V16.75C18.6241 17.9081 17.6898 18.85 16.5409 18.85H15.4993V22H3V9.4C3 4.76845 6.73833 1 11.3329 1C18.0991 1 19.1921 5.81229 20.2491 10.4656ZM15.742 9.5C15.742 9.687 15.725 9.863 15.7024 10.039L16.8954 10.9465C17.0029 11.029 17.0311 11.1775 16.9633 11.2985L15.8324 13.2015C15.7646 13.3225 15.6176 13.372 15.4875 13.3225L14.0796 12.7725C13.7856 12.987 13.4689 13.174 13.124 13.3115L12.9092 14.769C12.8922 14.901 12.7735 15 12.6321 15H10.3704C10.229 15 10.1103 14.901 10.0933 14.769L9.87847 13.3115C9.53356 13.174 9.21691 12.9925 8.92289 12.7725L7.51497 13.3225C7.39058 13.3665 7.23791 13.3225 7.17006 13.2015L6.0392 11.2985C5.97135 11.1775 5.99962 11.029 6.10705 10.9465L7.30011 10.039C7.27749 9.863 7.26053 9.6815 7.26053 9.5C7.26053 9.3185 7.27749 9.137 7.30011 8.961L6.10705 8.0535C5.99962 7.971 5.9657 7.8225 6.0392 7.7015L7.17006 5.7985C7.23791 5.6775 7.38492 5.628 7.51497 5.6775L8.92289 6.2275C9.21691 6.013 9.53356 5.826 9.87847 5.6885L10.0933 4.231C10.1103 4.099 10.229 4 10.3704 4H12.6321C12.7735 4 12.8922 4.099 12.9092 4.231L13.124 5.6885C13.4689 5.826 13.7856 6.0075 14.0796 6.2275L15.4875 5.6775C15.6119 5.6335 15.7646 5.6775 15.8324 5.7985L16.9633 7.7015C17.0311 7.8225 17.0029 7.971 16.8954 8.0535L15.7024 8.961C15.725 9.137 15.742 9.313 15.742 9.5ZM9.52225 9.5C9.52225 10.5615 10.41 11.425 11.5012 11.425C12.5925 11.425 13.4803 10.5615 13.4803 9.5C13.4803 8.4385 12.5925 7.575 11.5012 7.575C10.41 7.575 9.52225 8.4385 9.52225 9.5Z\"/>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const FaceIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 24 24\">\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M11.4793 1H12.5229V23.9587H11.4793V1ZM20.0756 11.4966C20.3688 11.4955 20.6497 11.3773 20.8569 11.1676C21.0642 10.958 21.1812 10.6739 21.1822 10.3774C21.1812 10.0809 21.0642 9.7969 20.8569 9.58725C20.6497 9.37759 20.3688 9.25934 20.0756 9.25828C19.7825 9.25934 19.5016 9.37759 19.2943 9.58725C19.0871 9.7969 18.9701 10.0809 18.9691 10.3774C18.9701 10.6739 19.0871 10.958 19.2943 11.1676C19.5016 11.3773 19.7825 11.4955 20.0756 11.4966ZM20.0756 15.9935C20.3688 15.9925 20.6497 15.8742 20.8569 15.6646C21.0642 15.4549 21.1812 15.1709 21.1822 14.8744C21.1801 14.5786 21.0627 14.2956 20.8555 14.0868C20.6484 13.878 20.3681 13.7603 20.0756 13.7593C19.7825 13.7603 19.5016 13.8786 19.2943 14.0882C19.0871 14.2979 18.9701 14.5819 18.9691 14.8784C18.9753 15.1714 19.0946 15.4503 19.3013 15.6556C19.508 15.8609 19.7859 15.9763 20.0756 15.9773V15.9935ZM23.3954 12.9832C23.5418 12.9821 23.6819 12.9228 23.7854 12.8181C23.889 12.7134 23.9476 12.5717 23.9487 12.4236C23.9487 12.2752 23.8904 12.1329 23.7866 12.0279C23.6828 11.923 23.5421 11.864 23.3954 11.864C23.2486 11.864 23.1079 11.923 23.0041 12.0279C22.9004 12.1329 22.8421 12.2752 22.8421 12.4236C22.8472 12.5689 22.9077 12.7065 23.0108 12.8077C23.1139 12.909 23.2517 12.966 23.3954 12.967V12.9832ZM15.6493 18.1994C15.3562 18.2005 15.0753 18.3188 14.868 18.5284C14.6608 18.7381 14.5438 19.0221 14.5428 19.3186C14.5438 19.6151 14.6608 19.8991 14.868 20.1088C15.0753 20.3184 15.3562 20.4367 15.6493 20.4378C15.9425 20.4367 16.2234 20.3184 16.4306 20.1088C16.6379 19.8991 16.7549 19.6151 16.7559 19.3186C16.7496 19.0257 16.6304 18.7468 16.4237 18.5415C16.217 18.3362 15.9391 18.2207 15.6493 18.2197V18.1994ZM15.6493 12.04C15.8675 12.0405 16.0836 11.9974 16.2852 11.9133C16.4868 11.8291 16.67 11.7055 16.8242 11.5495C16.9785 11.3935 17.1007 11.2082 17.1839 11.0043C17.2672 10.8004 17.3097 10.5818 17.3092 10.3612C17.3092 9.91598 17.1343 9.48898 16.823 9.17415C16.5118 8.85933 16.0896 8.68246 15.6493 8.68246C15.431 8.68405 15.2152 8.72919 15.0141 8.81529C14.8131 8.90138 14.6308 9.02673 14.4777 9.18418C14.3247 9.34162 14.2038 9.52806 14.1221 9.73282C14.0404 9.93758 13.9994 10.1566 14.0015 10.3774C14.0004 10.8209 14.1733 11.2467 14.4822 11.5614C14.7912 11.8761 15.2109 12.054 15.6493 12.0562V12.04ZM15.6493 16.5207C16.0896 16.5207 16.5118 16.3438 16.823 16.029C17.1343 15.7142 17.3092 15.2872 17.3092 14.8419C17.3097 14.6213 17.2672 14.4028 17.1839 14.1989C17.1007 13.9949 16.9785 13.8097 16.8242 13.6537C16.67 13.4977 16.4868 13.3741 16.2852 13.2899C16.0836 13.2057 15.8675 13.1627 15.6493 13.1632C15.4309 13.1643 15.2148 13.209 15.0135 13.2949C14.8122 13.3808 14.6297 13.5061 14.4765 13.6637C14.3234 13.8213 14.2025 14.0079 14.121 14.2129C14.0395 14.4179 13.9989 14.6372 14.0015 14.8582C14.0015 15.3013 14.1747 15.7265 14.4834 16.0409C14.7921 16.3554 15.2112 16.5337 15.6493 16.5369V16.5207ZM15.6493 7.00372C15.9425 7.00266 16.2234 6.88438 16.4306 6.67473C16.6379 6.46508 16.7549 6.18105 16.7559 5.88455C16.7549 5.58806 16.6379 5.30401 16.4306 5.09435C16.2234 4.8847 15.9425 4.76645 15.6493 4.76538C15.3562 4.76645 15.0753 4.8847 14.868 5.09435C14.6608 5.30401 14.5438 5.58806 14.5428 5.88455C14.5412 6.03274 14.5686 6.17976 14.6235 6.31717C14.6783 6.45459 14.7595 6.57968 14.8624 6.68522C14.9652 6.79076 15.0877 6.87468 15.2228 6.93212C15.3579 6.98957 15.5028 7.01941 15.6493 7.01993V7.00372ZM3.87702 13.7592C3.5859 13.7581 3.30598 13.8726 3.09752 14.0782C2.88906 14.2837 2.76873 14.5638 2.76243 14.8581C2.76454 15.155 2.88235 15.439 3.09028 15.6486C3.29821 15.8581 3.57948 15.9762 3.87301 15.9773C4.16584 15.9752 4.44609 15.8566 4.65316 15.6472C4.86023 15.4377 4.97749 15.1543 4.97959 14.8581C4.97333 14.5659 4.85466 14.2876 4.64879 14.0824C4.44292 13.8772 4.16605 13.7613 3.87702 13.7592ZM3.87702 9.26229C3.58348 9.26228 3.30179 9.37939 3.09311 9.58817C2.88442 9.79695 2.76559 10.0805 2.76243 10.3774C2.76349 10.6746 2.88096 10.9593 3.08912 11.169C3.29728 11.3788 3.57916 11.4966 3.87301 11.4966C4.16617 11.4955 4.44702 11.3773 4.65431 11.1676C4.86161 10.958 4.97853 10.6739 4.97959 10.3774C4.9775 10.0819 4.86079 9.79912 4.65459 9.5898C4.44838 9.38049 4.16916 9.26144 3.87702 9.25826V9.26229ZM0.553286 12.6688C0.406545 12.6688 0.265815 12.7277 0.162053 12.8327C0.0582916 12.9376 0 13.0799 0 13.2283C0.00104962 13.3764 0.0596775 13.5182 0.163212 13.6229C0.266747 13.7276 0.40687 13.7869 0.553286 13.7879C0.699703 13.7869 0.839825 13.7276 0.94336 13.6229C1.0469 13.5182 1.10553 13.3764 1.10658 13.2283C1.1071 13.1545 1.09318 13.0813 1.06561 13.013C1.03805 12.9446 0.997375 12.8824 0.945945 12.8301C0.894515 12.7777 0.833342 12.7361 0.765951 12.7077C0.698561 12.6793 0.626284 12.6647 0.553286 12.6647V12.6688ZM8.30332 7.02398C8.59648 7.02291 8.87733 6.90464 9.08462 6.69498C9.29191 6.48533 9.40884 6.2013 9.4099 5.90481C9.40884 5.60831 9.29191 5.32426 9.08462 5.11461C8.87733 4.90495 8.59648 4.78671 8.30332 4.78564C8.01016 4.78671 7.72932 4.90495 7.52202 5.11461C7.31473 5.32426 7.1978 5.60831 7.19675 5.90481C7.19885 6.2006 7.31624 6.4836 7.52343 6.69238C7.73061 6.90116 8.01085 7.01886 8.30332 7.01992V7.02398ZM8.30332 13.1834C8.08519 13.1829 7.86912 13.226 7.66749 13.3101C7.46587 13.3943 7.28268 13.5179 7.12844 13.6739C6.9742 13.8299 6.85196 14.0152 6.76873 14.2191C6.6855 14.4231 6.64293 14.6416 6.64346 14.8622C6.64346 15.3074 6.81834 15.7344 7.12962 16.0492C7.4409 16.3641 7.8631 16.5409 8.30332 16.5409C8.52298 16.5431 8.74088 16.5011 8.94438 16.4175C9.14788 16.3338 9.33294 16.2101 9.48883 16.0536C9.64472 15.8971 9.76833 15.7108 9.85251 15.5056C9.93669 15.3004 9.97976 15.0803 9.97922 14.8581C9.97977 14.6362 9.93667 14.4163 9.85245 14.2113C9.76822 14.0063 9.64454 13.8203 9.48859 13.6641C9.33265 13.5079 9.14756 13.3846 8.94408 13.3014C8.7406 13.2182 8.52279 13.1767 8.30332 13.1794V13.1834ZM8.30332 8.70273C7.8631 8.70273 7.4409 8.87958 7.12962 9.1944C6.81834 9.50923 6.64346 9.93623 6.64346 10.3815C6.64293 10.6021 6.6855 10.8206 6.76873 11.0245C6.85196 11.2284 6.9742 11.4137 7.12844 11.5697C7.28268 11.7257 7.46587 11.8494 7.66749 11.9335C7.86912 12.0177 8.08519 12.0608 8.30332 12.0602C8.52313 12.0629 8.74127 12.0213 8.94501 11.9379C9.14876 11.8544 9.33403 11.7307 9.49003 11.5741C9.64602 11.4174 9.76962 11.231 9.85361 11.0255C9.9376 10.8201 9.9803 10.5997 9.97922 10.3774C9.97923 10.1556 9.93577 9.93596 9.85135 9.73122C9.76694 9.52648 9.64324 9.34068 9.4874 9.18458C9.33157 9.02848 9.14669 8.90518 8.94345 8.82178C8.74021 8.73837 8.52264 8.69653 8.30332 8.69867V8.70273ZM8.30332 18.2197C8.01016 18.2208 7.72932 18.339 7.52202 18.5487C7.31473 18.7583 7.1978 19.0424 7.19675 19.3389C7.1978 19.6354 7.31473 19.9194 7.52202 20.129C7.72932 20.3387 8.01016 20.457 8.30332 20.458C8.59648 20.457 8.87733 20.3387 9.08462 20.129C9.29191 19.9194 9.40884 19.6354 9.4099 19.3389C9.40884 19.0424 9.29191 18.7583 9.08462 18.5487C8.87733 18.339 8.59648 18.2208 8.30332 18.2197Z\"/>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const SoundIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 24 24\">\n      <path d=\"M16.8828 11.5C16.8828 9.73571 15.8897 8.21571 14.4138 7.42857V15.5714C15.8759 14.7843 16.8828 13.2643 16.8828 11.5ZM2 8.78571V14.2143H6.13793L11.6552 19.6429V3.35714L6.13793 8.78571H2ZM14.4138 2V4.03571C17.6138 5.04 19.931 8.01214 19.931 11.5C19.931 14.9879 17.6138 17.96 14.4138 18.9643V21C18.7586 19.9414 22 16.1143 22 11.5C22 6.88571 18.7586 3.05857 14.4138 2Z\"/>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const SubCategoryIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 24 24\">\n      <path d=\"M21.707 15.293L10.707 4.293C10.519 4.106 10.266 4 10 4H3C2.447 4 2 4.447 2 5V12C2 12.266 2.105 12.519 2.293 12.707L13.293 23.707C13.488 23.902 13.744 24 14 24C14.256 24 14.512 23.902 14.707 23.707L21.707 16.707C22.098 16.316 22.098 15.684 21.707 15.293ZM7 11C5.894 11 5 10.104 5 9C5 7.894 5.894 7 7 7C8.104 7 9 7.894 9 9C9 10.104 8.104 11 7 11Z\" />\n      <path d=\"M22.293 12.707L11.586 2H5V0H12C12.266 0 12.519 0.105 12.707 0.293L23.707 11.293L22.293 12.707Z\"/>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const TimeIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 24 24\">\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M2 12C2 6.48667 6.48667 2 12 2C17.5133 2 22 6.48667 22 12C22 17.5133 17.5133 22 12 22C6.48667 22 2 17.5133 2 12ZM10.8889 6.44444H13.1112V11.4056L15.95 13.2978L14.7167 15.1467L10.8889 12.5944V6.44444Z\"/>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nexport const TreatmentPlanIcon = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 24 24\">\n      <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M14 3H16V6H8V3H10C10 1.896 10.896 1 12 1C13.104 1 14 1.896 14 3ZM18 4H19C20.104 4 21 4.896 21 6V20C21 21.104 20.104 22 19 22H5C3.895 22 3 21.104 3 20V6C3 4.896 3.895 4 5 4H6V7H18V4ZM7.293 13.707L11 17.415L16.707 11.706L15.293 10.293L11 14.586L8.707 12.294L7.293 13.707Z\"/>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useMemo } from 'react';\nimport { useGetList } from 'react-admin';\n\nconst useGetCategories = (locale) => {\n  const { data, isLoading } = useGetList('categories', {\n    pagination: { page: 1, perPage: 9999 },\n    sort: { field: 'i18n__name', order: 'ASC' },\n    filter: { language: locale },\n  });\n  return useMemo(() => {\n    if (data) {\n      return Object.values(data).map((category) => ({\n        name: category.i18n.name[locale],\n        id: category.id,\n      }));\n    } else {\n      return [];\n    }\n  }, [data, isLoading]);\n};\n\nexport default useGetCategories;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, {useMemo, useState, useEffect } from 'react';\nimport {fetchJsonWithAuthToken} from \"ra-data-django-rest-framework\";\n\nconst useGetClinicians = (permissions) => {\n  const [loaded, setLoaded] = useState(false);\n  const [loading, setLoading] = useState(false);\n  const [data, setData] = useState([]);\n  const fetchData = async () => {\n    setLoading(true);\n    setLoaded(false);\n    const options = {\n      ordering: 'full_name',\n      archived: false,\n      page_size: 9999,\n    };\n    const qs = new URLSearchParams(options).toString();\n    const url = `${process.env.API_ENDPOINT}/clinicians/?${qs}`;\n    const response = await fetchJsonWithAuthToken(url, {});\n    setData(response.json.results);\n    setLoading(false);\n    setLoaded(true);\n  };\n\n  useEffect(() => {\n    if (permissions === 'admin') {\n      fetchData();\n    }\n  }, [permissions]);\n\n  return useMemo(() => {\n    return {\n      data: Object.values(data).map((clinician) => ({\n        name: clinician.full_name,\n        id: clinician.id\n      })),\n      loading: loading,\n      loaded: loaded\n    };\n  }, [data, loading, loaded]);\n};\n\nexport default useGetClinicians;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useMemo } from 'react';\nimport { useGetList } from 'react-admin';\n\nconst useGetSubCategories = (locale) => {\n  const { data, isLoading } = useGetList('categories', {\n    pagination: { page: 1, perPage: 9999 },\n    sort: { field: 'i18n__name', order: 'ASC' },\n    filter: { language: locale },\n  });\n  return useMemo(() => {\n    if (data) {\n      const subCategoriesArray = Object.values(data).map((category) => [\n        category.id,\n        category.sub_categories.map((subCategory) => {\n          return {\n            'id': subCategory.id,\n            'name': subCategory.i18n.name[locale],\n          };\n        }),\n      ]);\n      return Object.fromEntries(subCategoriesArray);\n    } else {\n      return [];\n    }\n  }, [data, isLoading]);\n};\n\nexport default useGetSubCategories;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { Card as MuiCard } from \"@mui/material\";\nimport withStyles from '@mui/styles/withStyles';\n\nconst black = '#232525';\nconst gray = '#939DAB';\n\nexport const ASide = withStyles((theme) => ({\n  root: {\n    [theme.breakpoints.up('sm')]: {\n      order: -1, // display on the left rather than on the right of the list\n      minWidth: '15em',\n      width: '15em',\n      marginRight: '1em',\n      marginTop: '64px',\n      marginBottom: '52px'\n    },\n    [theme.breakpoints.down('md')]: {\n      display: 'none',\n    },\n    '& ul .MuiListItem-root': {\n      color: black,\n      '& .RaFilterListItem-listItemButton': {\n        paddingLeft: theme.spacing(1),\n      },\n      '&.Mui-selected': {\n        backgroundColor: 'rgba(0, 0, 0, 0.08)'\n      }\n    },\n    '& .MuiBox-root': {\n      color: gray,\n      '&:last-child .MuiList-root': {\n        borderBottom: 'none'\n      }\n    },\n    '& .MuiList-root': {\n      paddingBottom: theme.spacing(2),\n      borderBottom: 'solid 1px #DDDDDD'\n    }\n  }\n}))(MuiCard);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, {useEffect, useState} from 'react';\nimport {\n  FilterList,\n  FilterListItem,\n  FilterLiveSearch,\n  useListFilterContext,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { Card as MuiCard, CardContent } from '@mui/material';\nimport {\n  CategoryIcon,\n  ClinicianIcon,\n  SubCategoryIcon,\n} from '@components/admin/shared/icons';\nimport {\n  useGetCategories,\n  useGetClinicians,\n  useGetSubCategories,\n} from \"@components/admin/shared/hook\";\nimport { ASide } from '@components/admin/shared/cards/ASide';\n\nconst ExerciseListAside = ({permissions}) => {\n  const { locale } = useLocale();\n  const [selectedCategory, setSelectedCategory] = useState(-1);\n  const { data: clinicians, isLoading } = useGetClinicians(permissions);\n  const categories = useGetCategories(locale);\n  const subCategories = useGetSubCategories(locale);\n  const { filterValues, setFilters } = useListFilterContext();\n  useEffect(() => {\n    if (filterValues && filterValues.category__uid) {\n      setSelectedCategory(filterValues.category__uid);\n    } else {\n      setSelectedCategory('all');\n      if (filterValues && filterValues.sub_category__uid) {\n        setFilters({\n          ...filterValues,\n          'sub_category__uid': undefined\n        });\n      }\n    }\n  }, [filterValues]);\n\n  return (\n    <ASide>\n      <CardContent>\n        <FilterLiveSearch source=\"fulltext_search\" />\n\n        <FilterList\n          label=\"resources.exercises.fields.category__uid\"\n          icon={<CategoryIcon/>}\n        >\n          {\n            categories.map((category) => (\n              <FilterListItem\n                label={category.name}\n                key={category.id}\n                value={{ category__uid: category.id }}\n              />\n            ))\n          }\n        </FilterList>\n\n        {subCategories.hasOwnProperty(selectedCategory) &&\n          <FilterList\n            label=\"resources.exercises.fields.uid\"\n            icon={<SubCategoryIcon/>}\n          >\n            {\n              subCategories[selectedCategory].map((sub_category) => (\n                <FilterListItem\n                  label={sub_category.name}\n                  key={sub_category.id}\n                  value={{sub_category__uid: sub_category.id}}\n                />\n              ))\n            }\n          </FilterList>\n        }\n\n        {permissions === 'admin' && (\n          <FilterList\n            label=\"resources.exercises.fields.clinician_uid\"\n            icon={<ClinicianIcon />}\n          >\n            {!isLoading &&\n              clinicians.map((clinician) => (\n                <FilterListItem\n                  label={clinician.name}\n                  key={clinician.id}\n                  value={{ clinician_uid: clinician.id }}\n                />\n              ))\n            }\n          </FilterList>\n        )}\n      </CardContent>\n    </ASide>\n  );\n};\n\nexport default ExerciseListAside;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Fragment, useEffect, useState } from 'react';\nimport {\n  Datagrid,\n  List,\n  ListContextProvider,\n  ReferenceField,\n  TextField,\n  useListContext,\n  usePermissions,\n  useResourceContext, useStore,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { Divider, Tabs, Tab } from '@mui/material';\n\nimport Spinner from '@components/admin/shared/Spinner';\nimport ArchivableFilter from '@components/admin/shared/filters/ArchivableFilter';\nimport BulkActionButtons from '@components/admin/shared/toolbars/BulkActionsToolbar';\nimport ListActions from '@components/admin/shared/toolbars/ListToolbar';\nimport RowActionToolbar from '@components/admin/shared/toolbars/RowActionToolbar';\n\nimport ExerciseListAside from './ExerciseListAside';\n\nconst tabs = [\n  { id: 'user', is_system: false },\n  { id: 'system', is_system: true },\n];\n\nconst ExerciseDatagrid = ({ locale, permissions, ...props }) => {\n  return (\n    <Datagrid\n      {...props}\n      bulkActionButtons={<BulkActionButtons permissions={permissions} />}\n    >\n      <TextField source={`i18n.description.${locale}`} />\n      {permissions === 'admin' && (\n        <ReferenceField source=\"clinician_uid\" reference=\"clinicians\">\n          <TextField source=\"full_name\" />\n        </ReferenceField>\n      )}\n      <RowActionToolbar permissions={permissions} clonable={true} />\n    </Datagrid>\n  );\n};\n\nconst TabbedDatagrid = ({ permissions, ...props }) => {\n  const listContext = useListContext();\n  const { locale } = useLocale();\n  const t = useTranslate();\n  const resource = useResourceContext();\n  const { data, filterValues, setFilters, displayedFilters, isLoading } =\n    listContext;\n  const [userExerciseIds, setUserExerciseIds] = useState([]);\n  const [systemExerciseIds, setSystemExerciseIds] = useState([]);\n  const [value, setValue] = useState('user');\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    setFilters &&\n      setFilters(\n        { ...filterValues, is_system: newValue === 'user' ? false : true },\n        displayedFilters,\n      );\n  };\n\n  useEffect(() => {\n    if (filterValues.is_system) {\n      // reset `value` to `system` when it's out of sync\n      if (value === 'user') {\n        setValue('system');\n      }\n      if (data) {\n        let ids = data.map((exercise) => exercise.id);\n        setSystemExerciseIds(ids);\n      }\n    } else {\n      if (data) {\n        let ids = data.map((exercise) => exercise.id);\n        setUserExerciseIds(ids);\n      }\n    }\n  }, [data, filterValues.is_system]);\n\n  return (\n    <Fragment>\n      <Tabs value={value} indicatorColor=\"primary\" onChange={handleChange}>\n        {tabs.map((choice) => (\n          <Tab\n            key={choice.id}\n            label={t(`resources.${resource}.list.labels.${choice.id}`)}\n            value={choice.id}\n          />\n        ))}\n      </Tabs>\n      <Divider />\n      <div>\n        {isLoading && <Spinner />}\n        {!isLoading && filterValues.is_system === false && (\n          <ListContextProvider value={{ ...listContext, ids: userExerciseIds }}>\n            <ExerciseDatagrid\n              locale={locale}\n              permissions={permissions}\n              {...props}\n            />\n          </ListContextProvider>\n        )}\n        {!isLoading && filterValues.is_system === true && (\n          <ListContextProvider\n            value={{ ...listContext, ids: systemExerciseIds }}\n          >\n            <ExerciseDatagrid\n              locale={locale}\n              permissions={permissions}\n              {...props}\n            />\n          </ListContextProvider>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nexport const ExerciseList = () => {\n  const { permissions } = usePermissions();\n  const { locale } = useLocale();\n\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n  useEffect(() => {\n    setPatientUid(false);\n  }, []);\n\n\n  return (\n    <List\n      filterDefaultValues={{\n        archived: false,\n        is_system: false,\n        language: locale,\n      }}\n      filters={<ArchivableFilter />}\n      aside={<ExerciseListAside permissions={permissions} />}\n      sort={{ field: `i18n.description.${locale}`, order: 'ASC' }}\n      perPage={25}\n      actions={<ListActions />}\n    >\n      <TabbedDatagrid permissions={permissions} />\n    </List>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport {\n  Labeled,\n  ReferenceField,\n  TextField,\n  useResourceContext,\n  useTranslate,\n} from 'react-admin';\n\nconst ClinicianTextField = ({ show, ...props }) => {\n  const resourceName = useResourceContext();\n  const t = useTranslate();\n\n  if (show) {\n    return (\n      <Labeled>\n        <ReferenceField\n          record={props.record}\n          resource={resourceName}\n          label={t('resources.patients.fields.clinician_uid')}\n          source=\"clinician_uid\"\n          reference=\"clinicians\"\n          link=\"show\"\n        >\n          <TextField\n            record={props.record}\n            resource={resourceName}\n            source=\"full_name\"\n          />\n        </ReferenceField>\n      </Labeled>\n    );\n  } else {\n    return <></>;\n  }\n};\n\nexport default ClinicianTextField;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { BoxedShowLayout, RaBox } from 'ra-compact-ui';\nimport React from 'react';\nimport {\n  BooleanField,\n  Show,\n  NumberField,\n  TextField,\n  TranslatableFields,\n  useGetList,\n  usePermissions,\n  useRecordContext,\n  useTranslate, useResourceDefinition,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { Chip } from '@mui/material';\n\nimport ClinicianTextField from '@components/admin/clinicians/ClinicianTextField';\nimport {\n  useCategoryChipsStyles,\n} from '@components/admin/exercises/styles';\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport ShowToolBar from '@components/admin/shared/toolbars/ShowToolbar';\nimport TopToolbar from '@components/admin/shared/toolbars/TopToolbar';\n\nimport { LANGUAGES } from '../../../locales';\nimport {translatorInputStyle} from \"@components/admin/shared/styles/shared\";\n\nconst CategoryChips = (props) => {\n  const classes = useCategoryChipsStyles();\n  const record = useRecordContext();\n  if (!record) return null;\n  return record.sub_categories.map((subCategory) => (\n    <div\n      key={`${subCategory.uid}.${subCategory.category__uid}`}\n      data-name=\"chip-row\"\n      className={classes.root}\n    >\n      <Chip\n        color=\"secondary\"\n        label={props.categories[subCategory.category__uid]}\n      />\n      <Chip\n        color=\"secondary\"\n        label={props.subCategories[subCategory.uid]}\n        variant=\"outlined\"\n      />\n    </div>\n  ));\n};\n\nexport const ExerciseShow = () => {\n  const { permissions } = usePermissions();\n  const { hasEdit } = useResourceDefinition();\n  const t = useTranslate();\n  const { locale } = useLocale();\n  const categories = {};\n  const subCategories = {};\n  const { data, isLoading } = useGetList('categories', {\n    pagination: { page: 1, perPage: 9999 },\n    sort: { field: 'i18n__name', order: 'ASC' },\n    filter: { language: locale },\n  });\n\n  if (!isLoading) {\n    data.forEach((category) => {\n      categories[category.id] = category.i18n.name[locale];\n      category.sub_categories.forEach((subCategory) => {\n        subCategories[subCategory.id] = subCategory.i18n.name[locale];\n      });\n    });\n  }\n  return (\n    <Show actions={<TopToolbar hasEdit={hasEdit} />}>\n      <BoxedShowLayout>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('resources.exercises.card.labels.definition')}\n        </Typography>\n        <ClinicianTextField show={permissions === 'admin'} />\n        <TranslatableFields\n          locales={LANGUAGES}\n          defaultLocale={locale}\n          sx={translatorInputStyle}\n        >\n          <TextField source=\"i18n.description\" fullWidth={true} />\n        </TranslatableFields>\n        <RaBox>\n          <NumberField\n            source=\"movement_duration\"\n          />\n          <NumberField source=\"pause\" />\n          <NumberField source=\"repeat\" />\n        </RaBox>\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('resources.exercises.card.labels.classification')}\n        </Typography>\n        <CategoryChips categories={categories} subCategories={subCategories} />\n        <BooleanField source=\"is_system\" />\n        <ShowToolBar />\n      </BoxedShowLayout>\n    </Show>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { required } from 'react-admin';\n\nexport const validateAudio = [required()];\nexport const validateClinician = [required()];\nexport const validateSide = [required()];\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { RaBox } from 'ra-compact-ui';\nimport React from 'react';\nimport {\n  Create,\n  SelectInput,\n  PasswordInput,\n  ReferenceInput,\n  SimpleForm,\n  TextInput,\n  usePermissions,\n  useResourceContext,\n  useTranslate,\n  useNotify,\n} from 'react-admin';\n\nimport { makeStyles } from '@mui/styles';\n\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport Options from '@components/admin/shared/options';\nimport {\n  validateEmail,\n  validateFirstName,\n  validateLanguage,\n  validateLastName,\n  validatePasswordRequired as validatePassword,\n  validatePasswords,\n} from '@components/admin/shared/validators';\n\nimport SimpleFormToolBar from '../shared/toolbars/SimpleFormToolbar';\nimport { validateAudio, validateClinician, validateSide } from './validators';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    '& > div': {\n      flex: '0 0 45%',\n    },\n  },\n}));\n\nexport const PatientCreate = () => {\n  const resourceName = useResourceContext();\n  const t = useTranslate();\n  const classes = useStyles();\n  const options = Options();\n  const notify = useNotify();\n  const { permissions } = usePermissions();\n  const onError = (error) => {\n    let message = '';\n    if (error?.body) {\n      Object.entries(error.body).forEach(([key, values]) => {\n        message += t(`resources.${resourceName}.errors.${key}`);\n      });\n    } else {\n      message = t('api.error.generic');\n    }\n    notify(message, { type: 'error' });\n  };\n\n  return (\n    <Create mutationOptions={{ onError: onError }} redirect=\"list\">\n      <SimpleForm toolbar={<SimpleFormToolBar identity={false} />} >\n        <Typography variant=\"h6\" gutterBottom>\n          {t('admin.shared.labels.card.identity')}\n        </Typography>\n        <RaBox className={classes.root}>\n          <TextInput\n            source=\"first_name\"\n            fullWidth\n            validate={validateFirstName}\n          />\n          <TextInput source=\"last_name\" fullWidth validate={validateLastName} />\n        </RaBox>\n        <RaBox className={classes.root}>\n          <TextInput source=\"email\" fullWidth validate={validateEmail} />\n        </RaBox>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('admin.shared.labels.card.informations')}\n        </Typography>\n        <RaBox className={classes.root}>\n          <SelectInput\n            source=\"use_audio\"\n            validate={validateAudio}\n            choices={options.audio}\n            fullWidth\n          />\n          <SelectInput\n            source=\"side\"\n            validate={validateSide}\n            choices={options.sides}\n            fullWidth\n          />\n        </RaBox>\n        {permissions === 'admin' && (\n          <RaBox className={classes.root}>\n            <ReferenceInput\n              source=\"clinician_uid\"\n              reference=\"clinicians\"\n              validate={validateClinician}\n              perPage={9999}\n              sort={{ field: 'full_name', order: 'ASC' }}\n            >\n              <SelectInput optionText=\"full_name\" style={{ width: '100%' }} />\n            </ReferenceInput>\n            <SelectInput\n              source=\"language\"\n              choices={options.languages}\n              fullWidth\n              validate={validateLanguage}\n            />\n          </RaBox>\n        )}\n        {permissions !== 'admin' && (\n          <RaBox className={classes.root}>\n            <SelectInput\n              source=\"language\"\n              choices={options.languages}\n              fullWidth\n              validate={validateLanguage}\n            />\n          </RaBox>\n        )}\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('admin.shared.labels.card.create_password')}\n        </Typography>\n        <RaBox className={classes.root}>\n          <PasswordInput\n            label={t('resources.patients.fields.password')}\n            source=\"new_password\"\n            validate={validatePassword}\n            fullWidth\n          />\n          <PasswordInput\n            label={t('resources.patients.fields.confirm_password')}\n            source=\"confirm_password\"\n            validate={validatePasswords}\n            fullWidth\n          />\n        </RaBox>\n      </SimpleForm>\n    </Create>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport {\n  Edit,\n  SelectInput,\n  SimpleForm,\n  PasswordInput,\n  ReferenceInput,\n  TextInput,\n  usePermissions,\n  useRefresh,\n  useResourceContext,\n  useTranslate,\n  useNotify, useResourceDefinition,\n} from 'react-admin';\n\nimport Box from '@mui/material/Box';\nimport { makeStyles } from '@mui/styles';\n\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport Options from '@components/admin/shared/options';\nimport SimpleFormToolBar from '@components/admin/shared/toolbars/SimpleFormToolbar';\nimport TopToolbar from '@components/admin/shared/toolbars/TopToolbar';\nimport {\n  validateEmail,\n  validateFirstName,\n  validateLanguage,\n  validateLastName,\n  validatePasswordOptional as validatePassword,\n  validatePasswords,\n} from '@components/admin/shared/validators';\n\nimport { validateAudio, validateClinician, validateSide } from './validators';\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n    display: 'flex',\n    justifyContent: 'space-between',\n    '& > div': {\n      flex: '0 0 45%',\n    },\n  },\n}));\n\nexport const PatientEdit = () => {\n  const resourceName = useResourceContext();\n  const { hasShow } = useResourceDefinition();\n  const t = useTranslate();\n  const classes = useStyles();\n  const options = Options();\n  const notify = useNotify();\n  const { permissions } = usePermissions();\n\n  const onError = (error) => {\n    let message = '';\n    if (error?.body) {\n      Object.entries(error.body).forEach(([key, values]) => {\n        message += t(`resources.${resourceName}.errors.${key}`);\n      });\n    } else {\n      message = t('api.error.generic');\n    }\n    notify(message, { type: 'error' });\n  };\n\n  return (\n    <Edit\n      mutationOptions={{ onError: onError }}\n      actions={<TopToolbar hasShow={hasShow}/>}\n      mutationMode=\"pessimistic\"\n    >\n      <SimpleForm\n        redirect=\"list\"\n        toolbar={<SimpleFormToolBar identity={false} />}\n      >\n        <Typography variant=\"h6\" gutterBottom>\n          {t('admin.shared.labels.card.identity')}\n        </Typography>\n        <Box className={classes.root}>\n          <TextInput\n            source=\"first_name\"\n            fullWidth\n            validate={validateFirstName}\n          />\n          <TextInput source=\"last_name\" fullWidth validate={validateLastName} />\n        </Box>\n        <Box className={classes.root}>\n          <TextInput source=\"email\" fullWidth validate={validateEmail} />\n        </Box>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('admin.shared.labels.card.informations')}\n        </Typography>\n        <Box className={classes.root}>\n          <SelectInput\n            source=\"use_audio\"\n            choices={options.audio}\n            fullWidth\n            validate={validateAudio}\n          />\n          <SelectInput\n            source=\"side\"\n            choices={options.sides}\n            fullWidth\n            validate={validateSide}\n          />\n        </Box>\n        {permissions === 'admin' && (\n          <Box className={classes.root}>\n            <ReferenceInput\n              source=\"clinician_uid\"\n              reference=\"clinicians\"\n              validate={validateClinician}\n              perPage={9999}\n              sort={{ field: 'full_name', order: 'ASC' }}\n            >\n              <SelectInput optionText=\"full_name\" style={{ width: '100%' }} />\n            </ReferenceInput>\n            <SelectInput\n              source=\"language\"\n              choices={options.languages}\n              fullWidth\n              validate={validateLanguage}\n            />\n          </Box>\n        )}\n        {permissions !== 'admin' && (\n          <Box className={classes.root}>\n            <SelectInput\n              source=\"language\"\n              choices={options.languages}\n              fullWidth\n              validate={validateLanguage}\n            />\n          </Box>\n        )}\n        <Typography variant=\"h6\" gutterBottom gutterTop={true}>\n          {t('admin.shared.labels.card.reset_password')}\n        </Typography>\n        <Box className={classes.root}>\n          <PasswordInput\n            label={t('resources.patients.fields.password')}\n            source=\"new_password\"\n            validate={validatePassword}\n            fullWidth\n          />\n          <PasswordInput\n            label={t('resources.patients.fields.confirm_password')}\n            source=\"confirm_password\"\n            fullWidth\n            validate={validatePasswords}\n          />\n        </Box>\n      </SimpleForm>\n    </Edit>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {\n  FilterList,\n  FilterListItem,\n  FilterLiveSearch,\n} from 'react-admin';\nimport { CardContent } from '@mui/material';\n\nimport {\n  endOfYesterday,\n  startOfWeek,\n  startOfMonth,\n} from 'date-fns';\n\nimport {\n  ClinicianIcon,\n  FaceIcon,\n  SoundIcon,\n  TimeIcon,\n} from '@components/admin/shared/icons';\nimport useGetClinicians from '@components/admin/shared/hook/useGetClinicians';\nimport { ASide } from '@components/admin/shared/cards/ASide';\n\nconst PatientListAside = ({permissions}) => {\n  const { data: clinicians, loaded } = useGetClinicians(permissions);\n\n  return (\n    <ASide>\n      <CardContent>\n        <FilterLiveSearch source=\"fulltext_search\" />\n\n        <FilterList\n          label=\"resources.patients.filters.last_visited\"\n          icon={<TimeIcon />}\n        >\n          <FilterListItem\n            label=\"resources.patients.filters.today\"\n            value={{\n              last_login__gte: endOfYesterday().toISOString(),\n              last_login__lte: undefined,\n            }}\n          />\n          <FilterListItem\n            label=\"resources.patients.filters.this_week\"\n            value={{\n              last_login__gte: startOfWeek(new Date()).toISOString(),\n              last_login__lte: undefined,\n            }}\n          />\n          <FilterListItem\n            label=\"resources.patients.filters.this_month\"\n            value={{\n              last_login__gte: startOfMonth(new Date()).toISOString(),\n              last_login__lte: undefined,\n            }}\n          />\n        </FilterList>\n\n        <FilterList\n          label=\"resources.patients.fields.side\"\n          icon={<FaceIcon />}\n        >\n          <FilterListItem\n            label=\"resources.patients.shared.side.0\"\n            value={{ side: 0 }}\n          />\n          <FilterListItem\n            label=\"resources.patients.shared.side.1\"\n            value={{ side: 1 }}\n          />\n        </FilterList>\n\n        <FilterList\n          label=\"resources.patients.fields.use_audio\"\n          icon={<SoundIcon />}\n        >\n          <FilterListItem label=\"ra.boolean.true\" value={{ use_audio: true }} />\n          <FilterListItem\n            label=\"ra.boolean.false\"\n            value={{ use_audio: false }}\n          />\n        </FilterList>\n\n        {permissions === 'admin' &&\n          <FilterList\n            label=\"resources.patients.fields.clinician_uid\"\n            icon={<ClinicianIcon />}\n          >\n            {loaded &&\n              clinicians.map((clinician) => (\n                <FilterListItem\n                  label={clinician.name}\n                  key={clinician.id}\n                  value={{ clinician_uid: clinician.id }}\n                />\n              ))\n            }\n          </FilterList>\n        }\n      </CardContent>\n    </ASide>\n  );\n};\n\nexport default PatientListAside;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, {useEffect} from 'react';\nimport {List, ReferenceField, TextField, usePermissions, useStore} from 'react-admin';\n\nimport ListActions from '@components/admin/shared/toolbars/ListToolbar';\n\nimport Datagrid from '../shared/Datagrid';\nimport ArchivableFilter from '../shared/filters/ArchivableFilter';\nimport BulkActionButtons from '../shared/toolbars/BulkActionsToolbar';\nimport RowActionToolbar from '../shared/toolbars/RowActionToolbar';\nimport PatientListAside from './PatientListAside';\n\nexport const PatientList = () => {\n  const { permissions } = usePermissions();\n\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n  useEffect(() => {\n    setPatientUid(false);\n  }, []);\n\n  return (\n    <List\n      sort={{ field: 'full_name', order: 'ASC' }}\n      filters={<ArchivableFilter />}\n      filterDefaultValues={{ archived: false }}\n      aside={<PatientListAside permissions={permissions} />}\n      perPage={25}\n      actions={<ListActions showExport={true} />}\n    >\n      <Datagrid\n        bulkActionButtons={\n          <BulkActionButtons permissions={permissions} showExport={true} />\n        }\n      >\n        <TextField source=\"full_name\" />\n        {permissions === 'admin' && (\n          <ReferenceField\n            source=\"clinician_uid\"\n            reference=\"clinicians\"\n            link=\"show\"\n          >\n            <TextField source=\"full_name\" />\n          </ReferenceField>\n        )}\n        <RowActionToolbar permissions={permissions} />\n      </Datagrid>\n    </List>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { fetchJsonWithAuthToken } from 'ra-data-django-rest-framework';\nimport React, { Fragment, useMemo, useState } from 'react';\nimport {\n  useGetList,\n  useRefresh,\n  useNotify,\n  useRedirect,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport AddCircleOutlineIcon from '@mui/icons-material/AddCircleOutline';\nimport CheckCircle from '@mui/icons-material/CheckCircle';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport {\n  Button,\n  Radio,\n  RadioGroup,\n  FormControlLabel,\n  FormControl,\n  Dialog,\n  DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField as TextFieldMui,\n  CircularProgress,\n} from '@mui/material';\nimport Autocomplete from '@mui/material/Autocomplete';\n\nconst AddPlanButton = ({ patientUid }) => {\n  const t = useTranslate();\n  const { locale } = useLocale();\n  const refresh = useRefresh();\n  const notify = useNotify();\n  const redirect = useRedirect();\n  const [treatmentPlanChoice, setTreatmentPlanChoice] = useState('template');\n  const [confirmDisabled, setConfirmDisabled] = useState(true);\n  const [autocompleteDisabled, setAutocompleteDisabled] = useState(false);\n  const [openDialog, setOpenDialog] = useState(false);\n  const [selectedPlan, setSelectedPlan] = useState(null);\n\n  const handlePlanChoice = (event) => {\n    const radioValue = event.target.value;\n    setTreatmentPlanChoice(radioValue);\n    setAutocompleteDisabled(radioValue !== 'template');\n    setConfirmDisabled(radioValue === 'template' && selectedPlan === null);\n  };\n  const handleOpenDialog = () => {\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n  };\n  const handleTemplatesChange = (event, template) => {\n    setSelectedPlan(template);\n    setConfirmDisabled(template === null);\n  };\n  const handleConfirmClick = () => {\n    if (treatmentPlanChoice === 'new') {\n      redirect('create', '/plans', undefined, undefined, {\n        patientUid: patientUid,\n      });\n    } else {\n      const updatedRecord = { treatment_plan_uid: selectedPlan.id };\n      const url = `${process.env.API_ENDPOINT}/patients/${patientUid}/assign_plan/`;\n\n      setConfirmDisabled(true);\n      // notify(fetchStart()); // start the global loading indicator\n\n      fetchJsonWithAuthToken(url, {\n        method: 'POST',\n        body: JSON.stringify(updatedRecord),\n      })\n        .then(() => {\n          notify('resources.patients.notifications.plans.add.success', 'info');\n          refresh();\n        })\n        .catch((e) => {\n          notify('resources.patients.notifications.plans.add.failure', 'error');\n        })\n        .finally(() => {\n          setConfirmDisabled(false);\n          setOpenDialog(false);\n          // notify(fetchEnd()); // stop the global loading indicator\n        });\n    }\n  };\n\n  const { data, isLoading } = useGetList('plans', {\n    pagination: { page: 1, perPage: 9999 },\n    sort: { field: 'i18n__name', order: 'ASC' },\n    filter: {\n      language: locale,\n      archived: false,\n      is_template: true,\n    },\n  });\n\n  const treatmentPlans = useMemo(() => {\n    if (data) {\n      return Object.values(data).map((plan) => ({\n        name: plan.i18n.name[locale],\n        id: plan.id,\n      }));\n    } else {\n      return [];\n    }\n  }, [data, isLoading]);\n\n  return (\n    <>\n      <Button\n        style={{ float: 'right' }}\n        startIcon={<AddCircleOutlineIcon />}\n        onClick={handleOpenDialog}\n        size=\"small\"\n        color=\"primary\"\n      >\n        {t('ra.action.add')}\n      </Button>\n      <Dialog open={openDialog}>\n        <DialogTitle>\n          {t('resources.patients.card.plan_dialog.title')}\n        </DialogTitle>\n        <DialogContent>\n          <FormControl component=\"fieldset\">\n            <RadioGroup\n              aria-label=\"treatment_plan\"\n              name=\"treatment_plan\"\n              value={treatmentPlanChoice}\n              onChange={handlePlanChoice}\n            >\n              <FormControlLabel\n                value=\"template\"\n                control={<Radio />}\n                label={t(\n                  'resources.patients.card.plan_dialog.labels.radio_template',\n                )}\n              />\n              <Autocomplete\n                /*classes={autocompleteClasses}*/\n                options={treatmentPlans}\n                autoHighlight\n                loading={isLoading}\n                disabled={autocompleteDisabled}\n                onChange={handleTemplatesChange}\n                getOptionLabel={(option) => option.name}\n                renderInput={(params) => (\n                  <TextFieldMui\n                    {...params}\n                    label={t(\n                      'resources.patients.card.plan_dialog.labels.autocomplete',\n                    )}\n                    variant=\"filled\"\n                    InputProps={{\n                      ...params.InputProps,\n                      endAdornment: (\n                        <Fragment>\n                          {isLoading ? (\n                            <CircularProgress color=\"inherit\" size={20} />\n                          ) : null}\n                          {params.InputProps.endAdornment}\n                        </Fragment>\n                      ),\n                    }}\n                  />\n                )}\n              />\n              <FormControlLabel\n                value=\"new\"\n                control={<Radio />}\n                label={t(\n                  'resources.patients.card.plan_dialog.labels.radio_new',\n                )}\n              />\n            </RadioGroup>\n          </FormControl>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleCloseDialog}\n            autoFocus\n            startIcon={<ErrorOutlineIcon />}\n            color=\"secondary\"\n            variant=\"contained\"\n          >\n            {t('admin.shared.labels.cancelButton')}\n          </Button>\n          <Button\n            color=\"primary\"\n            variant=\"contained\"\n            startIcon={<CheckCircle />}\n            disabled={confirmDisabled}\n            onClick={handleConfirmClick}\n          >\n            {t('admin.shared.labels.confirmButton')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </>\n  );\n};\n\nexport default AddPlanButton;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useEffect, useState } from 'react';\nimport { BoxedShowLayout, RaBox } from 'ra-compact-ui';\nimport { fetchJsonWithAuthToken } from 'ra-data-django-rest-framework';\nimport {\n  Datagrid,\n  Show,\n  BooleanField,\n  TextField,\n  NumberField,\n  DateField,\n  EmailField,\n  FunctionField,\n  Labeled,\n  ListContextProvider,\n  useGetList,\n  useNotify,\n  usePermissions,\n  useRecordContext,\n  useResourceContext,\n  useResourceDefinition,\n  useStore,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport CheckCircle from '@mui/icons-material/CheckCircle';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport MailOutlineIcon from '@mui/icons-material/MailOutline';\nimport {\n  IconButton,\n  FormGroup,\n  FormControlLabel,\n  Switch,\n  DialogTitle,\n  DialogContent,\n  DialogActions,\n  Button,\n  Dialog,\n  DialogContentText,\n} from '@mui/material';\nimport { makeStyles } from '@mui/styles';\n\nimport ClinicianTextField from '@components/admin/clinicians/ClinicianTextField';\nimport AddPlanButton from '@components/admin/patients/AddPlanButton';\nimport Spinner from '@components/admin/shared/Spinner';\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport RowActionToolbar from '@components/admin/shared/toolbars/RowActionToolbar';\nimport ShowToolBar from '@components/admin/shared/toolbars/ShowToolbar';\nimport TopToolbar from '@components/admin/shared/toolbars/TopToolbar';\nimport {useRaBoxStyles} from \"@components/admin/shared/styles/shared\";\n\n\nconst useArchivesStyles = makeStyles((theme) => ({\n  root: {\n    display: 'inline-block',\n    marginLeft: theme.spacing(2),\n  },\n}));\n\nexport const PatientShow = () => {\n  const { hasEdit } = useResourceDefinition();\n  return (\n    <Show\n      actions={\n        <TopToolbar showExport={true} hasEdit={hasEdit} hasShow={false} />\n      }\n    >\n      <PatientShowRecord />\n    </Show>\n  );\n};\n\nexport const PatientShowRecord = () => {\n  const record = useRecordContext();\n  if (!record) return null;\n  const [patientUid, setPatientUid] = useStore('patient.uid', record.id);\n  const classes = useRaBoxStyles();\n\n  useEffect(() => {\n    setPatientUid(record.id);\n  }, [record]);\n\n  return (\n    <BoxedShowLayout className={classes.container}>\n      <PatientShowLayout record={record}></PatientShowLayout>\n    </BoxedShowLayout>\n  );\n};\n\nexport const PatientShowLayout = ({ record }) => {\n  const t = useTranslate();\n  const { locale } = useLocale();\n  const notify = useNotify();\n  const resource = useResourceContext();\n  const { permissions } = usePermissions();\n  const classes = useRaBoxStyles();\n  const archivesToggleClasses = useArchivesStyles();\n  const [sort, setSort] = useState({ field: 'start_date', order: 'DESC' });\n  const [openDialogEmail, setOpenDialogEmail] = useState(false);\n  const [archives, setArchives] = useState(false);\n  const { data, total, isLoading } = useGetList('plans', {\n    pagination: { page: 1, perPage: 9999 },\n    sort: { field: 'start_date', order: 'DESC' },\n    filter: { language: locale, patient_id: record.id, archived: archives },\n  });\n  const handleArchivesChange = (event) => {\n    setArchives(event.target.checked);\n  };\n\n  const handleOpenDialogEmail = (event) => {\n    setOpenDialogEmail(true);\n  };\n\n  const handleCloseDialogEmail = (event) => {\n    setOpenDialogEmail(false);\n  };\n\n  const handleSendOnboarding = (event) => {\n    setOpenDialogEmail(false);\n    const url = `${process.env.API_ENDPOINT}/patients/${record.id}/resend/`;\n\n    fetchJsonWithAuthToken(url, {\n      method: 'POST',\n      body: JSON.stringify({ 'confirm': true }),\n    })\n      .then(() => {\n        notify('resources.patients.notifications.email.send.success', {\n          type: 'info',\n        });\n      })\n      .catch((e) => {\n        notify('resources.patients.notifications.email.send.failure', {\n          type: 'error',\n        });\n      })\n      .finally(() => {});\n  };\n\n  return (\n    <BoxedShowLayout className={classes.container}>\n      <RaBox className={classes.root}>\n        <RaBox className={classes.leftColumn}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('admin.shared.labels.card.identity')}\n          </Typography>\n          <RaBox className={classes.columnChild}>\n            <RaBox className={classes.innerChild}>\n              <Labeled>\n                <TextField source=\"first_name\" />\n              </Labeled>\n              <div>\n                <EmailField source=\"email\" />\n                <IconButton\n                  size=\"small\"\n                  style={{ marginLeft: '0.5em' }}\n                  onClick={handleOpenDialogEmail}\n                >\n                  <MailOutlineIcon />\n                </IconButton>\n                <Dialog open={openDialogEmail}>\n                  <DialogTitle>\n                    {t('admin.shared.text.emailDialog.title')}\n                  </DialogTitle>\n                  <DialogContent>\n                    <DialogContentText>\n                      {t('admin.shared.text.emailDialog.body')}\n                    </DialogContentText>\n                  </DialogContent>\n                  <DialogActions>\n                    <Button\n                      onClick={handleCloseDialogEmail}\n                      autoFocus\n                      size=\"small\"\n                      variant=\"contained\"\n                      color=\"secondary\"\n                      startIcon={<ErrorOutlineIcon />}\n                    >\n                      {t('admin.shared.labels.cancelButton')}\n                    </Button>\n                    <Button\n                      onClick={handleSendOnboarding}\n                      color=\"primary\"\n                      variant=\"contained\"\n                      startIcon={<CheckCircle />}\n                    >\n                      {t('admin.shared.labels.confirmButton')}\n                    </Button>\n                  </DialogActions>\n                </Dialog>\n              </div>\n            </RaBox>\n            <RaBox className={classes.innerChild}>\n              <Labeled>\n                <TextField source=\"last_name\" />\n              </Labeled>\n            </RaBox>\n          </RaBox>\n        </RaBox>\n\n        <RaBox className={classes.rightColumn}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('admin.shared.labels.card.informations')}\n          </Typography>\n          <RaBox className={classes.columnChild}>\n            <RaBox className={classes.innerChild}>\n              <Labeled>\n                <FunctionField\n                  label={t('resources.patients.fields.use_audio')}\n                  render={(record) =>\n                    t(`resources.patients.shared.audio.${record.use_audio}`)\n                  }\n                />\n              </Labeled>\n              <Labeled>\n                <FunctionField\n                  label={t('resources.patients.fields.language')}\n                  render={(record) => t(`languages.${record.language}`)}\n                />\n              </Labeled>\n            </RaBox>\n            <RaBox className={classes.innerChild}>\n              <Labeled>\n                <FunctionField\n                  label={t('resources.patients.fields.side')}\n                  render={(record) =>\n                    t(`resources.patients.shared.side.${record.side}`)\n                  }\n                />\n              </Labeled>\n              <ClinicianTextField show={permissions === 'admin'} />\n            </RaBox>\n          </RaBox>\n        </RaBox>\n      </RaBox>\n\n      <RaBox className={classes.buttonLine}>\n        <RaBox className={classes.buttonLineLeft}>\n          <Typography variant=\"h6\" gutterBottom>\n            {t('resources.patients.card.labels.plans')}\n          </Typography>\n          <FormGroup classes={archivesToggleClasses}>\n            <FormControlLabel\n              control={\n                <Switch\n                  checked={archives}\n                  onChange={handleArchivesChange}\n                  color=\"primary\"\n                />\n              }\n              label={t('resources.plans.fields.archived')}\n            />\n          </FormGroup>\n        </RaBox>\n        <AddPlanButton patientUid={record.id} />\n      </RaBox>\n      <div>\n        {isLoading && <Spinner />}\n        {!isLoading && (\n          <ListContextProvider\n            value={{\n              data: data,\n              total,\n              sort: sort,\n              resource: resource,\n              selectedIds: [],\n            }}\n          >\n            <Datagrid bulkActionButtons={false}>\n              <TextField\n                label={t('resources.plans.fields.name')}\n                source={`i18n.name.${locale}`}\n              />\n              <NumberField\n                textAlign=\"center\"\n                label={t('resources.plans.fields.daily_repeat')}\n                source=\"daily_repeat\"\n              />\n              <FunctionField\n                textAlign=\"center\"\n                label={t('resources.plans.list.labels.exercises_count')}\n                render={(record) => record.exercises.length}\n              />\n              <BooleanField\n                textAlign=\"center\"\n                label={t('resources.plans.fields.randomize')}\n                source=\"randomize\"\n              />\n              <DateField\n                textAlign=\"center\"\n                label={t('resources.plans.fields.start_date')}\n                source=\"start_date\"\n              />\n              <DateField\n                textAlign=\"center\"\n                label={t('resources.plans.fields.end_date')}\n                source=\"end_date\"\n              />\n              <RowActionToolbar\n                rowResource=\"plans\"\n                record={record}\n                context={{ patientUid: record.id }}\n                activable={true}\n                clonable={true}\n              />\n            </Datagrid>\n          </ListContextProvider>\n        )}\n      </div>\n\n      <ShowToolBar />\n    </BoxedShowLayout>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { makeStyles } from '@mui/styles';\n\nexport const useAutocompleteStyles = makeStyles((theme) => ({\n  root: {\n    margin: theme.spacing(2)\n  }\n}));\n\nexport const useNumberStyles = makeStyles((theme) => ({\n  numbers: {\n    display: 'flex',\n    justifyContent: 'start',\n    alignItems: 'center',\n    gap: '1em',\n    '& > div': {\n      minWidth: 95,\n      width: 95\n    },\n  }\n}));\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport { makeStyles } from '@mui/styles';\nimport InputLabel from '@mui/material/InputLabel';\nimport MenuItem from '@mui/material/MenuItem';\nimport FormControl from '@mui/material/FormControl';\nimport Select from '@mui/material/Select';\n\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: theme.spacing(2),\n    minWidth: 180,\n  }\n}));\n\nconst DropDown = ({label, initialValue, choices, onChange, emptyLabel}) => {\n  const classes = useStyles();\n  const items = choices || [];\n  const addEmpty = emptyLabel ? true : false;\n\n  return (\n    <FormControl variant=\"filled\" className={classes.formControl}>\n      <InputLabel>{label}</InputLabel>\n      <Select\n        value={initialValue}\n        onChange={onChange}\n      >\n        {addEmpty &&\n          <MenuItem key=\"-1\" value=\"\">{emptyLabel}</MenuItem>\n        }\n        {items.map((choice) => (\n            <MenuItem key={choice.id} value={choice.id}>{choice.name}</MenuItem>\n        ))}\n      </Select>\n    </FormControl>\n  );\n}\n\nexport default DropDown;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React, { Fragment, useState } from 'react';\nimport {\n  NumberInput,\n  TextInput,\n  useTranslate,\n} from 'react-admin';\nimport { useLocale } from '@hooks/locale/useLocale';\nimport {\n  useAutocompleteStyles,\n  useNumberStyles\n} from '@components/admin/plans/styles';\nimport { useFormContext } from 'react-hook-form';\nimport { fetchJsonWithAuthToken } from 'ra-data-django-rest-framework';\nimport {\n  Button,\n  CircularProgress,\n  Dialog, DialogActions,\n  DialogContent,\n  DialogTitle,\n  TextField as TextFieldMui\n} from '@mui/material';\nimport Autocomplete from '@mui/material/Autocomplete';\nimport ErrorOutlineIcon from '@mui/icons-material/ErrorOutline';\nimport CheckCircle from '@mui/icons-material/CheckCircle';\nimport { validateNumber } from '@components/admin/shared/validators';\nimport DropDown from '@components/admin/shared/inputs/Dropdown';\n\n\nconst ExerciseRow = (props) => {\n  const t = useTranslate();\n  const { locale } = useLocale();\n  const numberClasses = useNumberStyles();\n  const autocompleteClasses = useAutocompleteStyles();\n  const [uid, setUid] = useState('');\n  const [movementDuration, setMovementDuration] = useState(5);\n  const [pause, setPause] = useState(5);\n  const [repeat, setRepeat] = useState(5);\n  const [description, setDescription] = useState('');\n  const [openDialog, setOpenDialog] = useState(false);\n  const [category, setCategory] = useState(null);\n  const [subCategories, setSubCategories] = useState([]);\n  const [loadingExercises, setLoadingExercises] = useState(undefined);\n  const [exerciseOptions, setExerciseOptions] = useState([]);\n  const form = useFormContext();\n  const getExercises = async (categoryUid, subCategoryUid) => {\n    let url = `${process.env.API_ENDPOINT}/exercises/?page=1&page_size=9999&archived=false&language=${locale}&ordering=i18n__name`;\n    if (categoryUid) {\n      url += `&category__uid=${categoryUid}`;\n    }\n    if (subCategoryUid) {\n      url += `&sub_category__uid=${subCategoryUid}`;\n    }\n    setLoadingExercises(true);\n    const response = await fetchJsonWithAuthToken(url, {});\n    setExerciseOptions(response.json.results);\n    setLoadingExercises(false);\n  };\n  const handleOpenDialog = () => {\n    setOpenDialog(true);\n  };\n  const handleCloseDialog = () => {\n    setOpenDialog(false);\n  };\n  const handleCategoryChange = (event) => {\n    const categoryUid = event.target.value;\n    setCategory(categoryUid);\n    setSubCategories(props.subCategories[categoryUid]);\n    getExercises(categoryUid);\n  };\n  const handleSubCategoryChange = (event) => {\n    const subCategoryUid = event.target.value;\n    if (subCategoryUid) {\n      getExercises(null, subCategoryUid);\n    } else {\n      getExercises(category);\n    }\n  };\n  const handleExerciseChange = (event, exercise) => {\n    setDescription(exercise.i18n.description[locale]);\n    setUid(exercise.id);\n    setMovementDuration(exercise.movement_duration);\n    setPause(exercise.pause);\n    setRepeat(exercise.repeat);\n  };\n  const handleSelectExercise = () => {\n    form.setValue(`${props.source}.i18n.description.${locale}`, description);\n    form.setValue(`${props.source}.movement_duration`, movementDuration);\n    form.setValue(`${props.source}.pause`, pause);\n    form.setValue(`${props.source}.repeat`, repeat);\n    form.setValue(`${props.source}.id`, uid);\n    setOpenDialog(false);\n  };\n\n  return (\n    <div>\n      <TextInput\n        type=\"hidden\"\n        label=\"\"\n        source={`${props.source}.id`}\n        style={{display: 'none'}}\n      />\n      <TextInput\n        source={`${props.source}.i18n.description.${locale}`}\n        label={t('resources.plans.fields.exercise.description')}\n        onClick={handleOpenDialog}\n        multiline={true}\n        fullWidth={true}\n        sx={{ minWidth: '500px' }}\n      />\n      <div className={numberClasses.numbers}>\n        <NumberInput\n          source={`${props.source}.movement_duration`}\n          validate={validateNumber}\n          label={t('resources.plans.fields.exercise.movement_duration')}\n        />\n        <NumberInput\n          source={`${props.source}.pause`}\n          validate={validateNumber}\n          label={t('resources.plans.fields.exercise.pause')}\n        />\n        <NumberInput\n          source={`${props.source}.repeat`}\n          validate={validateNumber}\n          label={t('resources.plans.fields.exercise.repeat')}\n        />\n      </div>\n      <Dialog\n        open={openDialog}\n      >\n        <DialogTitle>{t('resources.plans.card.exercise_dialog.title')}</DialogTitle>\n        <DialogContent>\n          <div>\n            <DropDown\n              choices={props.categories}\n              onChange={handleCategoryChange}\n              label={t('resources.plans.card.exercise_dialog.labels.autocomplete.category')}\n            />\n            <DropDown\n              choices={subCategories}\n              onChange={handleSubCategoryChange}\n              label={t('resources.plans.card.exercise_dialog.labels.autocomplete.sub_category')}\n              emptyLabel={t('resources.plans.card.exercise_dialog.labels.autocomplete.sub_category_empty_label')}\n            />\n            <Autocomplete\n              classes={autocompleteClasses}\n              options={exerciseOptions}\n              autoHighlight\n              loading={loadingExercises}\n              onChange={handleExerciseChange}\n              getOptionLabel={(option) => option.i18n.description[locale]}\n              renderInput={(params) => (\n                <TextFieldMui {...params}\n                  label={t('resources.plans.card.exercise_dialog.labels.autocomplete.exercise')}\n                  variant=\"filled\"\n                  InputProps={{\n                    ...params.InputProps,\n                    endAdornment: (\n                      <Fragment>\n                        {loadingExercises ? <CircularProgress color=\"inherit\" size={20} /> : null}\n                        {params.InputProps.endAdornment}\n                      </Fragment>\n                    ),\n                  }}\n                />\n              )}\n            />\n          </div>\n        </DialogContent>\n        <DialogActions>\n          <Button\n            onClick={handleCloseDialog}\n            autoFocus\n            size=\"small\"\n            color=\"secondary\"\n            variant=\"contained\"\n            startIcon={<ErrorOutlineIcon />}\n          >\n            {t('admin.shared.labels.cancelButton')}\n          </Button>\n          <Button\n            onClick={handleSelectExercise}\n            color=\"primary\"\n            size=\"small\"\n            variant=\"contained\"\n            startIcon={<CheckCircle />}\n          >\n            {t('admin.shared.labels.confirmButton')}\n          </Button>\n        </DialogActions>\n      </Dialog>\n    </div>\n  );\n};\n\nexport default ExerciseRow;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useState } from 'react';\nimport { BooleanInput, useTranslate } from 'react-admin';\n\nimport Alert from '@mui/material/Alert';\nimport { makeStyles } from '@mui/styles';\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    root: {\n      marginBottom: theme.spacing(2),\n      width:\n        'calc(2*256px + 1em)' /* category + subcategory dropdown + spacing */,\n    },\n  };\n});\n\nconst IsSystemInput = ({ data }) => {\n  const classes = useStyles();\n  const t = useTranslate();\n  const [showAlert, setShowAlert] = useState(data.is_system);\n  const handleChange = (e) => {\n    setShowAlert(e.target.checked);\n  };\n\n  return (\n    <>\n      <BooleanInput source=\"is_system\" onChange={handleChange} />\n      {showAlert && (\n        <Alert classes={classes} variant=\"outlined\" severity=\"warning\">\n          {t('resources.plans.card.labels.is_system_warning')}\n        </Alert>\n      )}\n    </>\n  );\n};\n\nexport default IsSystemInput;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { LANGUAGES } from '../../../locales';\n\n\nexport const contextualRedirect = (patientUid) => {\n  return patientUid\n    ? `patients/${patientUid}/show`\n    : `plans`;\n};\n\nexport const preSave = (record, locale, patientUid, asTemplate) => {\n  /* ToDo plug translation API */\n  let localizedName = '';\n  let localizedDescription = '';\n\n  // Try to get i18n field from current language\n  try {\n    localizedName = record.i18n.name[locale];\n  } catch (e) {}\n\n  // If no matches found, let's loop through all languages.\n  LANGUAGES.forEach((language) => {\n    if (!localizedName) {\n      try {\n        localizedName = record.i18n.name[language];\n      } catch (e) {}\n    }\n  });\n\n  // Assign missing translations\n  LANGUAGES.forEach((language) => {\n    if (!record.i18n.name.hasOwnProperty(language) || !record.i18n.name[language]) {\n      record.i18n.name[language] = `(${language.toUpperCase()}) - ${localizedName}`;\n    }\n  });\n\n  // Remove i18n from exercises.\n  // We cannot update description of exercises from here.\n  record.exercises = record.exercises.map((exercise) => {\n    delete exercise.i18n;\n    return exercise;\n  });\n\n  // Let's force `is_template` to False if patientUid is present in\n  // the context (i.e. edit from patient's card)\n  // A treatment plan cannot be considered as a template if it is linked to\n  // a patient.\n  if (asTemplate) {\n    record.patient_uid = null;\n  } else if (patientUid) {\n    record.patient_uid = patientUid;\n  }\n  record.is_template = asTemplate;\n\n  // ensure record is not archived (useful when duplicating a record)\n  record.archived = false;\n  return record;\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport { required } from 'react-admin';\n\nexport const validateExercises = [required()];\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport {\n  ArrayInput, BooleanInput,\n  Create,\n  FormDataConsumer,\n  NumberInput,\n  SimpleForm,\n  SimpleFormIterator,\n  TextInput,\n  TranslatableInputs,\n  usePermissions,\n  useRecordContext, useResourceContext, useStore,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport ExerciseRow from '@components/admin/plans/ExerciseRow';\nimport IsSystemInput from '@components/admin/plans/IsSystem';\nimport { contextualRedirect, preSave } from '@components/admin/plans/callbacks';\nimport { validateExercises } from '@components/admin/plans/validators';\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport {\n  useGetCategories,\n  useGetSubCategories,\n} from '@components/admin/shared/hook';\nimport SimpleFormToolBar from '@components/admin/shared/toolbars/SimpleFormToolbar';\nimport { requiredLocalizedField } from '@components/admin/shared/validators';\nimport { validateNumber } from '@components/admin/shared/validators';\n\nimport { LANGUAGES } from '../../../locales';\nimport {\n  categoriesSelectorStyle,\n  translatorInputStyle\n} from \"@components/admin/shared/styles/shared\";\n\nexport const PlanCreate = () => {\n  const t = useTranslate();\n  const { permissions } = usePermissions();\n  const { locale } = useLocale();\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n  const [asTemplate, setAsTemplate] = useState(true);\n  const [randomize, setRandomize] = useState(false);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const validateI18n = (value, record) => {\n    return requiredLocalizedField(value, record, locale, 'name');\n  };\n  const resourceName = useResourceContext();\n  const categories = useGetCategories(locale);\n  const subCategories = useGetSubCategories(locale);\n  const redirect = useCallback(\n    () => contextualRedirect(patientUid),\n    [patientUid]\n  );\n  const transform = useCallback(\n    (record) => preSave(record, locale, patientUid, asTemplate),\n    [patientUid, asTemplate]\n  );\n\n  useEffect(() => {\n    const createTemplate = searchParams.get('source') ? true : false;\n    if (patientUid) {\n      setAsTemplate(createTemplate);\n    }\n  }, [patientUid]);\n\n  const onError = (error) => {\n    let message = '';\n    if (error?.body) {\n      Object.entries(error.body).forEach(([key, values]) => {\n        message += t(`resources.${resourceName}.errors.${key}`);\n      });\n    } else {\n      message = t('api.error.generic');\n    }\n    notify(message, { type: 'error' });\n  };\n\n  const handleRandomizeClick = (event) => {\n    setRandomize(event.target.checked);\n  };\n\n  return (\n    <Create transform={transform} redirect={redirect} mutationOptions={{ onError: onError }}>\n      <SimpleForm toolbar={<SimpleFormToolBar identity={false} />}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('resources.plans.card.labels.definition')}\n        </Typography>\n        <TranslatableInputs\n          locales={LANGUAGES}\n          defaultLocale={locale}\n          sx={translatorInputStyle}\n        >\n          <TextInput source=\"i18n.name\" validate={validateI18n} fullWidth />\n        </TranslatableInputs>\n        {permissions === 'admin' && asTemplate && (\n          <FormDataConsumer>\n            {({ formData, ...rest }) => <IsSystemInput data={formData} />}\n          </FormDataConsumer>\n        )}\n        <NumberInput source=\"daily_repeat\" validate={validateNumber} />\n\n        <Typography\n          variant=\"h6\"\n          gutterBottom\n          gutterTop={true}\n          sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            gap: '1em'\n          }}\n        >\n          {t('resources.plans.card.labels.exercises')}\n          <BooleanInput\n            size=\"small\"\n            source=\"randomize\"\n            onClick={handleRandomizeClick}\n            sx={{ marginTop: '5px' }}\n          />\n        </Typography>\n\n        <ArrayInput\n          source=\"exercises\"\n          fullWidth={false}\n          label=\"\"\n          validate={validateExercises}\n        >\n          <SimpleFormIterator\n            sx={categoriesSelectorStyle}\n            disableReordering={randomize}\n          >\n            <ExerciseRow\n              categories={categories}\n              subCategories={subCategories}\n            />\n          </SimpleFormIterator>\n        </ArrayInput>\n      </SimpleForm>\n    </Create>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useEffect, useCallback, useState } from 'react';\nimport {\n  ArrayInput, BooleanInput,\n  Edit,\n  FormDataConsumer,\n  NumberInput,\n  ReferenceField,\n  SimpleForm,\n  SimpleFormIterator,\n  TextField,\n  TextInput,\n  TranslatableInputs,\n  usePermissions, useRecordContext,\n  useResourceDefinition,\n  useStore,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport IsSystemInput from '@components/admin/plans/IsSystem';\nimport { contextualRedirect, preSave } from '@components/admin/plans/callbacks';\nimport { validateExercises } from '@components/admin/plans/validators';\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport {\n  useGetCategories,\n  useGetSubCategories,\n} from '@components/admin/shared/hook';\nimport SimpleFormToolBar from '@components/admin/shared/toolbars/SimpleFormToolbar';\nimport TopToolbar from '@components/admin/shared/toolbars/TopToolbar';\nimport { requiredLocalizedField } from '@components/admin/shared/validators';\nimport { validateNumber } from '@components/admin/shared/validators';\n\nimport { LANGUAGES } from '../../../locales';\nimport ExerciseRow from './ExerciseRow';\nimport { translatorInputStyle, categoriesSelectorStyle } from '@components/admin/shared/styles/shared';\n\nexport const PlanEdit = () => {\n  const { hasShow } = useResourceDefinition();\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n  const [asTemplate, setAsTemplate] = useState(true);\n  const t = useTranslate();\n  const { locale } = useLocale();\n  const redirect = useCallback(\n    () => contextualRedirect(patientUid),\n    [patientUid]\n  );\n  const transform = useCallback(\n    (record) => preSave(record, locale, patientUid, asTemplate),\n    [patientUid, asTemplate]\n  );\n  const onError = (error) => {\n    let message = '';\n    if (error?.body) {\n      Object.entries(error.body).forEach(([key, values]) => {\n        message += t(`resources.${resourceName}.errors.${key}`);\n      });\n    } else {\n      message = t('api.error.generic');\n    }\n    notify(message, { type: 'error' });\n  };\n\n  useEffect(() => {\n    setAsTemplate(patientUid === false);\n  }, [patientUid]);\n\n  return (\n    <Edit\n      actions={<TopToolbar hasShow={hasShow} patientUid={patientUid} />}\n      mutationMode=\"pessimistic\"\n      redirect={redirect}\n      transform={transform}\n      mutationOptions={{ onError: onError }}\n    >\n      <SimplePlanEditForm locale={locale} asTemplate={asTemplate}/>\n    </Edit>\n  )\n};\n\nconst SimplePlanEditForm = ({locale, asTemplate}) => {\n  const record = useRecordContext();\n  const { permissions } = usePermissions();\n  const t = useTranslate();\n  const [randomize, setRandomize] = useState(record.randomize);\n  const validateI18n = (value, record) => {\n    return requiredLocalizedField(value, record, locale, 'name');\n  };\n  const categories = useGetCategories(locale);\n  const subCategories = useGetSubCategories(locale);\n\n  const handleRandomizeClick = (event) => {\n    setRandomize(event.target.checked);\n  };\n\n  return (\n    <SimpleForm toolbar={<SimpleFormToolBar identity={false} />}>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('resources.plans.card.labels.definition')}\n        </Typography>\n        {permissions === 'admin' && (\n          <ReferenceField\n            source=\"clinician_uid\"\n            reference=\"clinicians\"\n            link=\"show\"\n          >\n            <TextField source=\"full_name\" />\n          </ReferenceField>\n        )}\n        <TranslatableInputs\n          locales={LANGUAGES}\n          defaultLocale={locale}\n          sx={translatorInputStyle}\n        >\n          <TextInput source=\"i18n.name\" validate={validateI18n} fullWidth />\n        </TranslatableInputs>\n        {permissions === 'admin' && asTemplate && (\n          <FormDataConsumer>\n            {({ formData, ...rest }) => <IsSystemInput data={formData} />}\n          </FormDataConsumer>\n        )}\n        <NumberInput source=\"daily_repeat\" validate={validateNumber} />\n\n        <Typography\n          variant=\"h6\"\n          gutterBottom\n          gutterTop={true}\n          sx={{\n            display: 'flex',\n            justifyContent: 'space-between',\n            gap: '1em'\n          }}\n        >\n          {t('resources.plans.card.labels.exercises')}\n          <BooleanInput\n            size=\"small\"\n            source=\"randomize\"\n            onClick={handleRandomizeClick}\n            sx={{ marginTop: '5px' }}\n          />\n        </Typography>\n\n        <ArrayInput\n          source=\"exercises\"\n          fullWidth={false}\n          label=\"\"\n          validate={validateExercises}\n        >\n          <SimpleFormIterator\n            sx={categoriesSelectorStyle}\n            disableReordering={randomize}\n          >\n            <ExerciseRow\n              categories={categories}\n              subCategories={subCategories}\n            />\n          </SimpleFormIterator>\n        </ArrayInput>\n      </SimpleForm>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport {\n  FilterList,\n  FilterListItem,\n  FilterLiveSearch,\n} from 'react-admin';\nimport { CardContent } from '@mui/material';\nimport withStyles from '@mui/styles/withStyles';\nimport { ClinicianIcon } from '@components/admin/shared/icons/ClinicianIcon';\nimport useGetClinicians from '@components/admin/shared/hook/useGetClinicians';\nimport { ASide } from '@components/admin/shared/cards/ASide';\n\nconst PlanListAside = ({permissions}) => {\n  const { data: clinicians, loaded } = useGetClinicians(permissions);\n  return (\n    <ASide>\n      <CardContent>\n        <FilterLiveSearch source=\"fulltext_search\" />\n\n        {permissions === 'admin' && (\n          <FilterList\n            label=\"resources.plans.fields.clinician_uid\"\n            icon={<ClinicianIcon />}\n          >\n            {loaded &&\n              clinicians.map((clinician) => (\n                <FilterListItem\n                  label={clinician.name}\n                  key={clinician.id}\n                  value={{ clinician_uid: clinician.id }}\n                />\n              ))\n            }\n          </FilterList>\n        )}\n      </CardContent>\n    </ASide>\n  );\n};\n\nexport default PlanListAside;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { Fragment, useEffect, useState } from 'react';\nimport {\n  Datagrid,\n  FunctionField,\n  List,\n  ListContextProvider,\n  ReferenceField,\n  TextField,\n  BooleanField,\n  useListContext,\n  usePermissions,\n  useResourceContext, useStore,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { Divider, Tabs, Tab } from '@mui/material';\n\nimport PlanListAside from '@components/admin/plans/PlanListAside';\nimport BulkActionButtons from '@components/admin/shared/toolbars/BulkActionsToolbar';\nimport ListActions from '@components/admin/shared/toolbars/ListToolbar';\n\nimport Spinner from '../shared/Spinner';\nimport ArchivableFilter from '../shared/filters/ArchivableFilter';\nimport RowActionToolbar from '../shared/toolbars/RowActionToolbar';\n\nconst tabs = [\n  { id: 'user', is_system: false },\n  { id: 'system', is_system: true },\n];\n\nconst PlanDatagrid = ({ permissions }) => {\n\n  const { locale } = useLocale();\n  const t = useTranslate();\n\n  return (\n    <Datagrid\n      bulkActionButtons={<BulkActionButtons permissions={permissions} />}\n    >\n      <TextField source={`i18n.name.${locale}`} />\n      <TextField textAlign=\"center\" source=\"daily_repeat\" />\n      <FunctionField\n        textAlign=\"center\"\n        label={t('resources.plans.list.labels.exercises_count')}\n        render={(record) => record.exercises.length}\n      />\n      {permissions === 'admin' && (\n        <ReferenceField source=\"clinician_uid\" reference=\"clinicians\">\n          <TextField source=\"full_name\" />\n        </ReferenceField>\n      )}\n      <BooleanField\n        source=\"randomize\"\n        textAlign=\"center\"\n      />\n      <RowActionToolbar permissions={permissions} clonable={true} />\n    </Datagrid>\n  );\n};\n\nconst TabbedDatagrid = ({ permissions }) => {\n  const listContext = useListContext();\n  const t = useTranslate();\n  const { ids, filterValues, setFilters, displayedFilters, loading } =\n    listContext;\n  const resource = useResourceContext();\n  const [userPlanIds, setUserPlanIds] = useState([]);\n  const [systemPlanIds, setSystemPlanIds] = useState([]);\n  const [value, setValue] = useState('user');\n  const handleChange = (event, newValue) => {\n    setValue(newValue);\n    setFilters &&\n      setFilters(\n        { ...filterValues, is_system: newValue === 'user' ? false : true },\n        displayedFilters,\n      );\n  };\n\n  useEffect(() => {\n    if (filterValues.is_system) {\n      // reset `value` to `system` when it's out of sync\n      if (value === 'user') {\n        setValue('system');\n      }\n      setSystemPlanIds(ids);\n    } else {\n      setUserPlanIds(ids);\n    }\n  }, [ids, filterValues.is_system]);\n\n  return (\n    <Fragment>\n      <Tabs value={value} indicatorColor=\"primary\" onChange={handleChange}>\n        {tabs.map((choice) => {\n          const label =\n            permissions === 'admin' && choice.id === 'user'\n              ? t(`resources.${resource}.list.labels.admin`)\n              : t(`resources.${resource}.list.labels.${choice.id}`);\n          return <Tab key={choice.id} label={label} value={choice.id} />;\n        })}\n      </Tabs>\n      <Divider />\n      <div>\n        {loading && <Spinner />}\n        {!loading && filterValues.is_system === false && (\n          <ListContextProvider value={{ ...listContext, ids: userPlanIds }}>\n            <PlanDatagrid permissions={permissions} />\n          </ListContextProvider>\n        )}\n        {!loading && filterValues.is_system === true && (\n          <ListContextProvider value={{ ...listContext, ids: systemPlanIds }}>\n            <PlanDatagrid permissions={permissions} />\n          </ListContextProvider>\n        )}\n      </div>\n    </Fragment>\n  );\n};\n\nexport const PlanList = () => {\n  const { permissions } = usePermissions();\n  const { locale } = useLocale();\n\n  const [patientUid, setPatientUid] = useStore('patient.uid', false);\n  useEffect(() => {\n    setPatientUid(false);\n  }, []);\n\n  return (\n    <List\n      filterDefaultValues={{\n        archived: false,\n        is_system: false,\n        is_template: true,\n        language: locale,\n      }}\n      filters={<ArchivableFilter />}\n      sort={{ field: `i18n.description.${locale}`, order: 'ASC' }}\n      perPage={25}\n      actions={<ListActions />}\n      aside={<PlanListAside permissions={permissions} />}\n    >\n      <TabbedDatagrid permissions={permissions} />\n    </List>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { useEffect, useState } from 'react';\nimport { BoxedShowLayout } from 'ra-compact-ui';\nimport {\n  ArrayField,\n  BooleanField,\n  Datagrid,\n  NumberField,\n  Show,\n  TextField,\n  TranslatableFields,\n  usePermissions, useResourceDefinition,\n  useTranslate,\n} from 'react-admin';\n\nimport { useLocale } from '@hooks/locale/useLocale';\nimport { makeStyles } from '@mui/styles';\n\nimport ClinicianTextField from '@components/admin/clinicians/ClinicianTextField';\nimport { Typography } from '@components/admin/shared/dom/sanitize';\nimport ShowToolBar from '@components/admin/shared/toolbars/ShowToolbar';\nimport TopToolbar from '@components/admin/shared/toolbars/TopToolbar';\n\nimport { LANGUAGES } from '../../../locales';\nimport {translatorInputStyle} from \"@components/admin/shared/styles/shared\";\n\nconst useStyles = makeStyles((theme) => {\n  return {\n    root: {\n      '& .ra-field-exercises': {\n        marginTop: '-15px',\n        '& > .MuiFormControl-root': {\n          width: '100%',\n        },\n      },\n    },\n  };\n});\n\nexport const PlanShow = (props) => {\n  const { permissions } = usePermissions();\n  const { hasEdit } = useResourceDefinition();\n  const t = useTranslate();\n  const { locale } = useLocale();\n  const [patientUid, setPatientUid] = useState(undefined);\n  const planShowClasses = useStyles();\n\n  useEffect(() => {\n    if (props.history?.location?.state?.patientUid) {\n      setPatientUid(props.history.location.state.patientUid);\n    }\n  }, [patientUid]);\n\n  return (\n    <Show\n      {...props}\n      actions={<TopToolbar hasEdit={hasEdit} patientUid={patientUid} />}\n      className={planShowClasses.root}\n    >\n      <BoxedShowLayout>\n        <Typography variant=\"h6\" gutterBottom>\n          {t('resources.plans.card.labels.definition')}\n        </Typography>\n        <ClinicianTextField show={permissions === 'admin'} />\n\n        <TranslatableFields\n          locales={LANGUAGES}\n          defaultLocale={locale}\n          sx={translatorInputStyle}\n        >\n          <TextField source=\"i18n.name\" />\n        </TranslatableFields>\n        <NumberField source=\"daily_repeat\" />\n        <BooleanField source=\"is_system\" />\n        <Typography\n          variant=\"h6\"\n          gutterTop={true}\n          sx={{\n            display: 'flex',\n            justifyContent: 'flex-start',\n            gap: '1em'\n          }}\n        >\n          {t('resources.plans.card.labels.exercises')}\n          <span style={{\n            fontWeight: \"normal\",\n            fontSize: '0.5em',\n            marginTop: '7px'\n          }}>\n            {t('resources.plans.fields.randomize')}\n            <BooleanField\n              size=\"small\"\n              source=\"randomize\"\n              sx={{ marginLeft: '5px' }}\n            />\n          </span>\n        </Typography>\n\n        <ArrayField source=\"exercises\" label=\"\" sx={{ '&>.MuiStack-root': { width: '100%'} }}>\n          <Datagrid bulkActionButtons={false}>\n            <TextField\n              source={`i18n.description.${locale}`}\n              label={t('resources.plans.fields.exercise.description')}\n            />\n            <NumberField\n              source=\"movement_duration\"\n              label={t('resources.plans.fields.exercise.movement_duration')}\n            />\n            <NumberField\n              source=\"pause\"\n              label={t('resources.plans.fields.exercise.pause')}\n            />\n            <NumberField\n              source=\"repeat\"\n              label={t('resources.plans.fields.exercise.repeat')}\n            />\n          </Datagrid>\n        </ArrayField>\n\n        <ShowToolBar />\n      </BoxedShowLayout>\n    </Show>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport React from 'react';\nimport SvgIcon from '@mui/material/SvgIcon';\n\nconst logoStyle = {\n  margin: '18px 0 10px 15px',\n  height: '36px',\n  width: 'auto'\n};\n\nexport const Logo = (props) => {\n  return (\n    <SvgIcon viewBox=\"0 0 126 38\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\" style={logoStyle}>\n      <g clipPath=\"url(#clip0_504_665)\">\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M70.4429 8.60709H84.8377V12.042H70.4429V8.60709ZM49.712 8.60712H45.5894V26.1241H49.339V14.7472L54.1683 22.1928H54.2714L59.1498 14.6976V26.1489H62.9534V8.60712H58.8406L54.2714 16.0279L49.712 8.60712ZM99.3698 8.60712H92.2829V26.1489H96.1012V20.8874H99.0018C102.889 20.8874 106.015 18.7828 106.015 14.7224V14.6728C106.015 11.089 103.512 8.60712 99.3698 8.60712ZM102.148 14.7969C102.148 16.3009 101.034 17.4525 99.1244 17.4525H96.1061V12.0917H99.0508C100.96 12.0917 102.148 13.0199 102.148 14.7472V14.7969ZM112.273 8.60712H119.36C123.497 8.60712 126 11.089 126 14.6728V14.7224C126 18.7828 122.879 20.8874 118.992 20.8874H116.091V26.1489H112.273V8.60712ZM119.114 17.4525C121.023 17.4525 122.138 16.3009 122.138 14.7969V14.7472C122.138 13.0199 120.945 12.0917 119.041 12.0917H116.096V17.4525H119.114ZM70.4429 15.601H84.8377V19.0359H70.4429V15.601ZM84.9604 22.719H70.4429V26.1539H84.9604V22.719Z\" fill=\"#2D3033\"/>\n        <path fillRule=\"evenodd\" clipRule=\"evenodd\" d=\"M16.3459 0H17.027V37.9223H16.3459V0ZM4.74592 20.3413C4.38956 20.34 4.04691 20.4801 3.79173 20.7317C3.53655 20.9833 3.38925 21.3262 3.38153 21.6865C3.38411 22.0499 3.52832 22.3976 3.78286 22.6541C4.03739 22.9106 4.3817 23.0552 4.74101 23.0565C5.09947 23.0539 5.44252 22.9087 5.696 22.6524C5.94948 22.396 6.09302 22.0491 6.09559 21.6865C6.08793 21.3288 5.94267 20.9881 5.69065 20.7369C5.43864 20.4857 5.09973 20.3438 4.74592 20.3413ZM4.74592 25.8014C4.38621 25.8001 4.04064 25.943 3.78491 26.1989C3.52917 26.4547 3.38412 26.8027 3.38153 27.1665C3.38283 27.5303 3.52663 27.8787 3.78144 28.1355C4.03626 28.3923 4.3813 28.5365 4.74101 28.5365C5.09987 28.5351 5.44366 28.3904 5.69741 28.1338C5.95116 27.8771 6.09429 27.5294 6.09559 27.1665C6.09302 26.8052 5.95 26.4595 5.69744 26.2041C5.44488 25.9487 5.10308 25.804 4.74592 25.8014ZM4.74592 14.8366C4.3866 14.8365 4.04177 14.9799 3.78632 15.2355C3.53086 15.491 3.38541 15.8382 3.38153 16.2016C3.38283 16.5654 3.52663 16.9138 3.78144 17.1706C4.03626 17.4274 4.3813 17.5716 4.74101 17.5716C5.09987 17.5703 5.44366 17.4255 5.69741 17.1689C5.95116 16.9122 6.09429 16.5645 6.09559 16.2016C6.09303 15.8399 5.95017 15.4937 5.69775 15.2375C5.44533 14.9812 5.10353 14.8355 4.74592 14.8316V14.8366ZM0.677286 15.5215C0.497658 15.5215 0.325388 15.5937 0.198372 15.7222C0.0713556 15.8507 0 16.0249 0 16.2065C0.00635706 16.3839 0.0805117 16.5518 0.206845 16.675C0.333179 16.7981 0.50183 16.8668 0.677286 16.8667C0.856914 16.8667 1.02918 16.7946 1.1562 16.6661C1.28322 16.5376 1.35458 16.3634 1.35458 16.1817C1.34947 16.0035 1.27586 15.8343 1.14939 15.7101C1.02293 15.5859 0.853564 15.5165 0.677286 15.5166V15.5215ZM4.74592 9.35661C4.38621 9.35529 4.04064 9.49821 3.78491 9.75407C3.52917 10.0099 3.38412 10.3578 3.38153 10.7216C3.38283 11.0854 3.52663 11.4339 3.78144 11.6907C4.03626 11.9474 4.3813 12.0916 4.74101 12.0916C5.09987 12.0903 5.44366 11.9456 5.69741 11.6889C5.95116 11.4323 6.09429 11.0846 6.09559 10.7216C6.0943 10.3595 5.95185 10.0126 5.69915 9.7561C5.44646 9.4996 5.10392 9.35425 4.74592 9.35164V9.35661ZM0.677286 21.0065C0.497658 21.0065 0.325388 21.0786 0.198372 21.2071C0.0713556 21.3356 0 21.5098 0 21.6915C0.00128486 21.8727 0.0730522 22.0462 0.199791 22.1744C0.326529 22.3026 0.498055 22.3752 0.677286 22.3765C0.856517 22.3752 1.02804 22.3026 1.15478 22.1744C1.28152 22.0462 1.35329 21.8727 1.35458 21.6915C1.35522 21.6011 1.33818 21.5115 1.30443 21.4278C1.27069 21.3441 1.2209 21.268 1.15795 21.2039C1.09499 21.1398 1.02011 21.0889 0.937613 21.0541C0.855119 21.0194 0.766643 21.0015 0.677286 21.0015V21.0065ZM10.1642 30.5964C9.98794 30.5963 9.81858 30.6657 9.69211 30.7899C9.56565 30.9141 9.49204 31.0833 9.48693 31.2615C9.48693 31.4432 9.55829 31.6174 9.6853 31.7459C9.81232 31.8744 9.98459 31.9465 10.1642 31.9465C10.3438 31.9465 10.5161 31.8744 10.6431 31.7459C10.7701 31.6174 10.8415 31.4432 10.8415 31.2615C10.8377 31.0825 10.7646 30.912 10.638 30.7868C10.5114 30.6615 10.3413 30.5914 10.1642 30.5914V30.5964ZM10.1642 7.30162C10.3438 7.30162 10.5161 7.22946 10.6431 7.101C10.7701 6.97254 10.8415 6.7983 10.8415 6.61662C10.8377 6.43755 10.7646 6.26714 10.638 6.14188C10.5114 6.01662 10.3413 5.94649 10.1642 5.94653C9.98459 5.94653 9.81232 6.01869 9.6853 6.14715C9.55829 6.27562 9.48693 6.44986 9.48693 6.63153C9.49204 6.80974 9.56565 6.97892 9.69211 7.10312C9.81858 7.22732 9.98794 7.29673 10.1642 7.29665V7.30162ZM10.1642 12.0966C10.5231 12.0953 10.8669 11.9505 11.1206 11.6939C11.3744 11.4372 11.5175 11.0895 11.5188 10.7266C11.5175 10.3637 11.3744 10.0159 11.1206 9.75931C10.8669 9.50267 10.5231 9.35792 10.1642 9.35661C9.80536 9.35792 9.46157 9.50267 9.20782 9.75931C8.95407 10.0159 8.81094 10.3637 8.80964 10.7266C8.81223 11.0887 8.95592 11.4351 9.20954 11.6907C9.46315 11.9463 9.80621 12.0903 10.1642 12.0916V12.0966ZM10.1642 19.6365C9.89721 19.6358 9.6327 19.6885 9.38589 19.7916C9.13908 19.8946 8.91484 20.046 8.72603 20.2369C8.53723 20.4279 8.38758 20.6547 8.2857 20.9043C8.18382 21.1539 8.13171 21.4214 8.13236 21.6915C8.13236 22.2365 8.34643 22.7592 8.72748 23.1446C9.10852 23.5299 9.62533 23.7464 10.1642 23.7464C10.4331 23.7491 10.6998 23.6977 10.9489 23.5953C11.1981 23.4929 11.4246 23.3415 11.6154 23.1499C11.8062 22.9583 11.9576 22.7303 12.0606 22.4791C12.1637 22.2279 12.2164 21.9585 12.2157 21.6865C12.2164 21.4148 12.1636 21.1456 12.0605 20.8947C11.9574 20.6438 11.806 20.4161 11.6151 20.2248C11.4242 20.0336 11.1977 19.8827 10.9486 19.7809C10.6995 19.679 10.4329 19.6282 10.1642 19.6315V19.6365ZM10.1642 14.1516C9.62533 14.1516 9.10852 14.3681 8.72748 14.7534C8.34643 15.1388 8.13236 15.6615 8.13236 16.2065C8.13171 16.4766 8.18382 16.7441 8.2857 16.9937C8.38758 17.2433 8.53723 17.4701 8.72603 17.6611C8.91484 17.852 9.13908 18.0034 9.38589 18.1064C9.6327 18.2095 9.89721 18.2622 10.1642 18.2615C10.4333 18.2648 10.7003 18.2139 10.9497 18.1118C11.1991 18.0096 11.4259 17.8582 11.6169 17.6665C11.8078 17.4747 11.9591 17.2464 12.062 16.9949C12.1648 16.7434 12.217 16.4737 12.2157 16.2016C12.2157 15.93 12.1625 15.6612 12.0592 15.4106C11.9559 15.1599 11.8044 14.9325 11.6137 14.7414C11.4229 14.5503 11.1966 14.3994 10.9478 14.2973C10.699 14.1952 10.4327 14.144 10.1642 14.1466V14.1516ZM10.1642 25.8014C9.80536 25.8027 9.46157 25.9475 9.20782 26.2041C8.95407 26.4608 8.81094 26.8085 8.80964 27.1714C8.81094 27.5344 8.95407 27.8821 9.20782 28.1387C9.46157 28.3953 9.80536 28.5401 10.1642 28.5414C10.5231 28.5401 10.8669 28.3953 11.1206 28.1387C11.3744 27.8821 11.5175 27.5344 11.5188 27.1714C11.5175 26.8085 11.3744 26.4608 11.1206 26.2041C10.8669 25.9475 10.5231 25.8027 10.1642 25.8014ZM28.4854 17.5716C28.8442 17.5703 29.188 17.4255 29.4418 17.1689C29.6955 16.9122 29.8386 16.5645 29.8399 16.2016C29.8386 15.8386 29.6955 15.491 29.4418 15.2343C29.188 14.9777 28.8442 14.8329 28.4854 14.8316C28.1265 14.8329 27.7827 14.9777 27.529 15.2343C27.2752 15.491 27.1321 15.8386 27.1308 16.2016C27.1321 16.5645 27.2752 16.9122 27.529 17.1689C27.7827 17.4255 28.1265 17.5703 28.4854 17.5716ZM28.4854 12.1115C28.8442 12.1102 29.188 11.9654 29.4418 11.7088C29.6955 11.4521 29.8386 11.1044 29.8399 10.7415C29.8386 10.3785 29.6955 10.0309 29.4418 9.77421C29.188 9.51758 28.8442 9.37283 28.4854 9.37152C28.1265 9.37283 27.7827 9.51758 27.529 9.77421C27.2752 10.0309 27.1321 10.3785 27.1308 10.7415C27.1372 11.101 27.2826 11.4436 27.5358 11.696C27.789 11.9484 28.1299 12.0904 28.4854 12.0916V12.1115ZM28.4854 23.0764C28.8442 23.0751 29.188 22.9303 29.4418 22.6737C29.6955 22.417 29.8386 22.0693 29.8399 21.7064C29.8374 21.3443 29.6937 20.9979 29.44 20.7423C29.1864 20.4867 28.8434 20.3426 28.4854 20.3413C28.1265 20.3427 27.7827 20.4874 27.529 20.744C27.2752 21.0007 27.1321 21.3484 27.1308 21.7113C27.1385 22.07 27.2844 22.4113 27.5375 22.6626C27.7905 22.9139 28.1307 23.0553 28.4854 23.0565V23.0764ZM32.5491 22.3914C32.7283 22.3901 32.8998 22.3175 33.0266 22.1893C33.1533 22.0611 33.2251 21.8876 33.2264 21.7064C33.2264 21.5247 33.155 21.3505 33.028 21.222C32.901 21.0935 32.7287 21.0214 32.5491 21.0214C32.3695 21.0214 32.1972 21.0935 32.0702 21.222C31.9432 21.3505 31.8718 21.5247 31.8718 21.7064C31.8781 21.8842 31.9521 22.0526 32.0783 22.1766C32.2045 22.3005 32.3732 22.3704 32.5491 22.3715V22.3914ZM28.4854 28.5563C28.8442 28.555 29.188 28.4102 29.4418 28.1536C29.6955 27.897 29.8386 27.5493 29.8399 27.1863C29.8412 27.0053 29.8072 26.8259 29.7397 26.6583C29.6723 26.4906 29.5728 26.3381 29.447 26.2094C29.3211 26.0807 29.1714 25.9785 29.0064 25.9085C28.8414 25.8385 28.6643 25.8021 28.4854 25.8014C28.1265 25.8028 27.7827 25.9475 27.529 26.2041C27.2752 26.4608 27.1321 26.8085 27.1308 27.1714C27.1334 27.5335 27.2771 27.88 27.5307 28.1355C27.7843 28.3911 28.1273 28.5352 28.4854 28.5365V28.5563ZM32.5491 16.8667C32.7287 16.8667 32.901 16.7946 33.028 16.6661C33.155 16.5377 33.2264 16.3634 33.2264 16.1817C33.2264 16.0001 33.155 15.8258 33.028 15.6974C32.901 15.5689 32.7287 15.4967 32.5491 15.4967C32.3695 15.4967 32.1972 15.5689 32.0702 15.6974C31.9432 15.8258 31.8718 16.0001 31.8718 16.1817C31.8718 16.3634 31.9432 16.5377 32.0702 16.6661C32.1972 16.7946 32.3695 16.8667 32.5491 16.8667ZM23.0671 7.27681C23.2467 7.27681 23.419 7.20465 23.546 7.07619C23.673 6.94773 23.7443 6.77348 23.7443 6.59181C23.7343 6.41711 23.6586 6.25291 23.5326 6.13292C23.4067 6.01292 23.2401 5.94624 23.0671 5.94653C22.9781 5.94653 22.89 5.96425 22.8079 5.99867C22.7257 6.0331 22.651 6.08355 22.5881 6.14716C22.5253 6.21076 22.4754 6.28627 22.4413 6.36938C22.4073 6.45249 22.3898 6.54158 22.3898 6.63153C22.3949 6.80974 22.4685 6.97892 22.595 7.10312C22.7214 7.22732 22.8908 7.29673 23.0671 7.29665V7.27681ZM23.0671 30.5716C22.9777 30.5716 22.8892 30.5895 22.8067 30.6242C22.7242 30.6589 22.6494 30.7098 22.5864 30.774C22.5234 30.8381 22.4737 30.9142 22.4399 30.9979C22.4062 31.0816 22.3891 31.1712 22.3898 31.2615C22.3898 31.4432 22.4611 31.6175 22.5881 31.7459C22.7152 31.8744 22.8874 31.9465 23.0671 31.9465C23.2467 31.9465 23.419 31.8744 23.546 31.7459C23.673 31.6175 23.7443 31.4432 23.7443 31.2615C23.7405 31.0825 23.6674 30.912 23.5408 30.7868C23.4142 30.6615 23.2442 30.5914 23.0671 30.5915V30.5716ZM23.0671 25.7766C22.7082 25.7779 22.3644 25.9227 22.1107 26.1793C21.8569 26.436 21.7138 26.7837 21.7125 27.1466C21.7138 27.5096 21.8569 27.8573 22.1107 28.1139C22.3644 28.3705 22.7082 28.5153 23.0671 28.5166C23.4259 28.5153 23.7697 28.3705 24.0235 28.1139C24.2772 27.8573 24.4203 27.5096 24.4216 27.1466C24.414 26.788 24.268 26.4466 24.0149 26.1953C23.7619 25.944 23.4217 25.8027 23.0671 25.8014V25.7766ZM23.0671 18.2367C23.3341 18.2374 23.5986 18.1847 23.8454 18.0816C24.0922 17.9786 24.3164 17.8272 24.5052 17.6363C24.6941 17.4453 24.8437 17.2185 24.9456 16.9689C25.0475 16.7193 25.0996 16.4518 25.0989 16.1817C25.0989 15.6367 24.8849 15.114 24.5038 14.7286C24.1228 14.3433 23.6059 14.1267 23.0671 14.1267C22.7998 14.1287 22.5356 14.184 22.2895 14.2893C22.0434 14.3947 21.8202 14.5482 21.6329 14.7409C21.4455 14.9336 21.2976 15.1619 21.1975 15.4125C21.0975 15.6632 21.0473 15.9313 21.0499 16.2016C21.0486 16.7444 21.2602 17.2656 21.6384 17.6509C22.0165 18.0361 22.5303 18.2539 23.0671 18.2566V18.2367ZM23.0671 23.7216C23.6059 23.7216 24.1228 23.5051 24.5038 23.1197C24.8849 22.7344 25.0989 22.2117 25.0989 21.6667C25.0996 21.3966 25.0475 21.1291 24.9456 20.8795C24.8437 20.6298 24.6941 20.4031 24.5052 20.2121C24.3164 20.0211 24.0922 19.8698 23.8454 19.7668C23.5986 19.6637 23.3341 19.611 23.0671 19.6117C22.7996 19.613 22.5351 19.6678 22.2887 19.7729C22.0423 19.8781 21.8189 20.0315 21.6314 20.2244C21.4439 20.4172 21.296 20.6457 21.1962 20.8967C21.0964 21.1476 21.0467 21.4161 21.0499 21.6865C21.0499 22.229 21.262 22.7494 21.6398 23.1344C22.0177 23.5193 22.5307 23.7376 23.0671 23.7415V23.7216ZM23.0671 12.0718C23.4259 12.0705 23.7697 11.9257 24.0235 11.6691C24.2772 11.4124 24.4203 11.0647 24.4216 10.7018C24.4203 10.3389 24.2772 9.99114 24.0235 9.7345C23.7697 9.47786 23.4259 9.33311 23.0671 9.3318C22.7082 9.33311 22.3644 9.47786 22.1107 9.7345C21.8569 9.99114 21.7138 10.3389 21.7125 10.7018C21.7105 10.8832 21.7441 11.0632 21.8113 11.2314C21.8784 11.3996 21.9778 11.5527 22.1037 11.6819C22.2296 11.8111 22.3796 11.9138 22.5449 11.9841C22.7102 12.0545 22.8877 12.091 23.0671 12.0916V12.0718Z\" fill=\"#2DADFF\"/>\n      </g>\n      <defs>\n      <clipPath id=\"clip0_504_665\">\n      <rect width=\"126\" height=\"37.8881\" fill=\"white\"/>\n      </clipPath>\n      </defs>\n    </SvgIcon>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { fetchJsonWithAuthToken } from 'ra-data-django-rest-framework';\nimport React, { useState } from 'react';\nimport { useLocaleState, useTranslate, useNotify } from 'react-admin';\n\nimport ExpandMoreIcon from '@mui/icons-material/ExpandMore';\nimport LanguageIcon from '@mui/icons-material/Language';\nimport Button from '@mui/material/Button';\nimport FormControl from '@mui/material/FormControl';\nimport MenuItem from '@mui/material/MenuItem';\nimport Select from '@mui/material/Select';\nimport { makeStyles } from '@mui/styles';\n\nimport { RequestEndpoint } from '@utils/constants';\n\nimport { LANGUAGES } from '../../../../locales';\n\nconst LocaleSwitcher = () => {\n  const t = useTranslate();\n  const classes = useStyles();\n  const [open, setOpen] = useState(false);\n  const [locale, setLocale] = useLocaleState();\n  const notify = useNotify();\n\n  const languages = LANGUAGES.map((item) => {\n    return (\n      <MenuItem key={item} value={item}>\n        {t('languages.' + item)}\n      </MenuItem>\n    );\n  });\n\n  const handleChange = (event) => {\n    const newLanguage = event.target.value;\n    const url = `${process.env.API_ENDPOINT}${RequestEndpoint.PROFILE}`;\n    fetchJsonWithAuthToken(url, {\n      method: 'PATCH',\n      body: `{\"language\": \"${newLanguage}\"}`,\n    })\n      .then((response) => {\n        notify('admin.shared.notifications.language.success', { type: 'info' });\n      })\n      .catch(() => {\n        notify('admin.shared.notifications.language.failure', {\n          type: 'error',\n        });\n      });\n\n    return setLocale(newLanguage);\n  };\n  const handleClose = () => setOpen(false);\n  const handleOpen = () => setOpen(true);\n\n  return (\n    <>\n      {!open && (\n        <Button\n          className={classes.button}\n          onClick={handleOpen}\n          startIcon={<LanguageIcon />}\n          endIcon={<ExpandMoreIcon />}\n        >\n          {t('languages.' + locale)}\n        </Button>\n      )}\n      {open && (\n        <FormControl className={classes.formControl}>\n          <Select\n            id=\"locale-switcher\"\n            labelId=\"locale-switcher\"\n            open={open}\n            value={locale}\n            onClose={handleClose}\n            onOpen={handleOpen}\n            onChange={handleChange}\n          >\n            {languages}\n          </Select>\n        </FormControl>\n      )}\n    </>\n  );\n};\n\nconst useStyles = makeStyles((theme) => ({\n  button: {\n    color: '#232525',\n    textTransform: 'none',\n    [theme.breakpoints.down('sm')]: {\n      display: 'none',\n    },\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n  },\n}));\n\nexport { LocaleSwitcher };\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React, { forwardRef } from 'react';\nimport {\n  AppBar,\n  Layout,\n  Logout,\n  UserMenu,\n  useUserMenu,\n  MenuItemLink,\n  useTranslate,\n  useGetIdentity,\n} from 'react-admin';\nimport { useLocation } from 'react-router-dom';\nimport styled from 'styled-components';\n\nimport SettingsIcon from '@mui/icons-material/Settings';\nimport { Box } from '@mui/material';\nimport { makeStyles } from '@mui/styles';\n\nimport { Logo } from '@components/admin/shared/icons/Logo';\nimport { EnvironmentBanner } from '@components/header/EnvironmentBanner';\n\nimport { LocaleSwitcher } from './buttons/LocaleSwitcher';\n\nconst useStyles = makeStyles((theme) => ({\n  'mepp-layout': {\n    '& main': {\n      [theme.breakpoints.up('xs')]: {\n        marginTop: theme.spacing(4),\n      },\n      [theme.breakpoints.down('sm')]: {\n        marginTop: theme.spacing(5),\n      },\n    },\n    '& header': {\n      backgroundColor: '#fff',\n      color: '#232525',\n    },\n  },\n}));\n\nconst MeppAdminAppBar = (props) => {\n  return (\n    <>\n      <BannersContainer>\n        <EnvironmentBanner />\n      </BannersContainer>\n      <AppBar {...props} elevation={1} userMenu={<CustomUserMenu />}>\n        <Box flex=\"1\">\n          <Logo />\n        </Box>\n        <LocaleSwitcher />\n      </AppBar>\n    </>\n  );\n};\n\nconst SettingsMenu = forwardRef((props, ref) => {\n  const t = useTranslate();\n  const location = useLocation();\n  const backUrl = encodeURIComponent(`${location.pathname}${location.search}`);\n  const profileUrl = `/clinicians/${props.identityUid}?back=${backUrl}`;\n  return (\n    <MenuItemLink\n      ref={ref}\n      to={profileUrl}\n      primaryText={t('admin.shared.labels.profile')}\n      leftIcon={<SettingsIcon />}\n      onClick={props.onClick}\n      sidebarIsOpen\n    />\n  );\n});\n\nconst CustomUserMenu = (props) => {\n  const { identity, isLoading: identityLoading } = useGetIdentity();\n  if (identityLoading || !identity) return <></>;\n\n  return (\n    <UserMenu {...props}>\n      <SettingsMenu identityUid={identity.uid} />\n      <Logout />\n    </UserMenu>\n  );\n};\n\nexport const MeppAdminLayout = (props) => {\n  const meppLayoutClasses = useStyles();\n  return (\n    <Layout\n      appBar={MeppAdminAppBar}\n      className={meppLayoutClasses['mepp-layout']}\n      {...props}\n    />\n  );\n};\n\nconst BannersContainer = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100%;\n  z-index: 9999999;\n`;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport { defaultTheme } from 'react-admin';\n\n\n\nimport { createTheme } from '@mui/material/styles';\n\n\nconst lightBlue = '#33a4e4';\nconst blue = '#078EE4';\nconst darkBlue = '#00639b';\nconst grayIcon = '#AEB4BA';\nconst lighterGray = '#E8E8E8';\nconst lightGray = '#a8b0bb';\nconst gray = '#939DAB';\nconst black = '#232525';\n\nlet theme = createTheme({});\n\nexport const meppTheme = {\n  ...defaultTheme,\n  palette: {\n    ...defaultTheme.palette,\n    primary: {\n      light: lightBlue,\n      main: blue,\n      dark: darkBlue,\n      contrastText: '#fff',\n    },\n    secondary: {\n      light: lightGray,\n      main: gray,\n      dark: '#666d77',\n      contrastText: '#fff',\n    },\n    contrastThreshold: 3,\n    tonalOffset: 0.2,\n  },\n  typography: {\n    ...defaultTheme.typography,\n    // Use the system font instead of the default Roboto font.\n    fontFamily: [\n      'Inter',\n      '-apple-system',\n      'BlinkMacSystemFont',\n      'Helvetica',\n      'Arial',\n      'sans-serif',\n    ].join(','),\n    h6: {\n      fontWeight: 'bold',\n    },\n  },\n  components: {\n    ...defaultTheme.components,\n    MuiButton: {\n      styleOverrides: {\n        root: {\n          borderRadius: '35px',\n          padding: '8px 15px',\n          fontWeight: 500,\n          '&.RaCreateButton-root': {\n            padding: '10px 17px',\n          },\n        },\n      },\n    },\n    MuiPaper: {\n      styleOverrides: {\n        rounded: {\n          borderRadius: '8px',\n        },\n      },\n    },\n    MuiTableHead: {\n      styleOverrides: {\n        root: {\n          '& th': {\n            height: '50px',\n          },\n        },\n      },\n    },\n    MuiTableCell: {\n      styleOverrides: {\n        root: {\n          height: '50px',\n        },\n      },\n    },\n    MuiTablePagination: {\n      styleOverrides: {\n        root: {\n          minHeight: '52px',\n          marginBottom: '-52px',\n        },\n      },\n    },\n    MuiDialogActions: {\n      styleOverrides: {\n        root: {\n          '& button': {\n            backgroundColor: '#a8b0bb',\n            padding: '10px 17px',\n            fontSize: '0.8125rem',\n            color: '#fff',\n            '&:hover': {\n              backgroundColor: gray,\n            },\n            '&.ra-confirm, &.MuiButton-containedPrimary': {\n              color: '#fff',\n              backgroundColor: lightBlue,\n            },\n            '&.ra-confirm:hover, &.MuiButton-containedPrimary:hover': {\n              backgroundColor: blue,\n            },\n          },\n        },\n      },\n    },\n    MuiStack: {\n      styleOverrides: {\n        root: { width: '100%' },\n      },\n    },\n    RaList: {\n      styleOverrides: {\n        root: {\n          '& .RaList-main': {\n            paddingBottom: '52px',\n          },\n          '& .RaList-content': {\n            height: '100%',\n          },\n        },\n      },\n    },\n    RaListToolbar: {\n      styleOverrides: {\n        root: {\n          [theme.breakpoints.up('xs')]: {\n            paddingRight: 0,\n            flexWrap: 'nowrap',\n          },\n        },\n      },\n    },\n    RaDatagrid: {\n      styleOverrides: {\n        root: {\n          '.RaDatagrid-headerCell:first-of-type': {\n            borderTopLeftRadius: '8px',\n          },\n          '.RaDatagridah-headerCell:last-of-type': {\n            borderTopLeftRadius: '8px',\n          },\n          '.RaDatagrid-row:last-of-type': {\n            'td': {\n              borderBottom: 'none !important',\n            },\n          },\n        },\n      },\n    },\n    RaMenuItemLink: {\n      styleOverrides: {\n        root: {\n          color: black,\n          '& svg': {\n            color: grayIcon,\n          },\n          '&.RaMenuItemLink-active': {\n            color: blue,\n            fontWeight: 500,\n            '& svg': {\n              color: blue,\n            },\n          },\n        },\n      },\n    },\n    RaTranslatableFields: {\n      styleOverrides: {\n        root: {\n          '& button': {\n            minWidth: '48px',\n            width: '48px',\n          },\n          '& div[role=\"tablist\"]': {\n            backgroundColor: lighterGray,\n          },\n        },\n      },\n    },\n    RaTranslatableInputs: {\n      styleOverrides: {\n        root: {\n          '& div[role=\"tablist\"]': {\n            backgroundColor: lighterGray,\n            height: '48px',\n          },\n        },\n      },\n    },\n    RaBulkActionsToolbar: {\n      styleOverrides: {\n        root: {\n          '& .RaBulkActionsToolbar-toolbar': {\n            top: '-8px',\n            paddingBottom: '30px',\n            paddingTop: '33px',\n            borderTopLeftRadius: '8px',\n            borderTopRightRadius: '8px',\n          },\n          '& .RaBulkActionsToolbar-toolbar.RaBulkActionsToolbar-collapsed': {\n            top: '0',\n            paddingBottom: '0',\n            paddingTop: '0',\n            borderTopLeftRadius: '8px',\n            borderTopRightRadius: '8px',\n          },\n          '& .RaBulkActionsToolbar-topToolbar': {\n            gap: 0,\n            '&>button': {\n              lineHeight: '1.75',\n            },\n          },\n        },\n      },\n    },\n    RaPaginationActions: {\n      styleOverrides: {\n        actions: {\n          '& button': {\n            minWidth: 0,\n          },\n        },\n        currentPageButton: {\n          color: black,\n        },\n      },\n    },\n    RaFilterFormInput: {\n      styleOverrides: {\n        root: {\n          [theme.breakpoints.up('xs')]: {\n            paddingLeft: '15px',\n            paddingBottom: '6px',\n          },\n          [theme.breakpoints.up('sm')]: {\n            paddingLeft: '1px',\n            paddingBottom: '3px',\n          },\n        },\n      },\n    },\n    RaTopToolbar: {\n      styleOverrides: {\n        root: {\n          [theme.breakpoints.up('xs')]: {\n            paddingRight: 0,\n          },\n          [theme.breakpoints.up('sm')]: {\n            paddingRight: 0,\n          },\n        },\n      },\n    },\n    RaSimpleFormIterator: {\n      styleOverrides: {\n        root: {\n          '&>ul>li': { borderBottom: 'none' },\n        },\n      },\n    },\n  },\n};","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport djangoRestFrameworkProvider, {\n  fetchJsonWithAuthToken,\n} from 'ra-data-django-rest-framework';\n\nconst dataProvider = djangoRestFrameworkProvider(\n  process.env.API_ENDPOINT,\n  fetchJsonWithAuthToken,\n);\n\nexport default dataProvider;\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\n\nimport i18n from 'locales';\nimport en from 'locales/en';\nimport fr from 'locales/fr';\nimport polyglotI18nProvider from 'ra-i18n-polyglot';\n\nexport default polyglotI18nProvider((locale) => {\n  localStorage.setItem('language', locale);\n  if (locale === 'en') {\n    return en;\n  }\n  return fr;\n}, i18n.language);\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport React from 'react';\nimport { Admin, CustomRoutes, Resource } from 'react-admin';\nimport { Navigate } from 'react-router';\nimport { Route } from 'react-router-dom';\n\nimport UserIcon from '@mui/icons-material/People';\n\nimport Help from '@pages/Help';\nimport Intro from '@pages/Intro';\nimport Login from '@pages/Login';\nimport Mirror from '@pages/Mirror';\nimport MirrorSettings from '@pages/MirrorSettings';\nimport PlayerStandalonePage from '@pages/PlayerStandAlone';\nimport Privacy from '@pages/Privacy';\nimport ResetPassword from '@pages/ResetPassword';\nimport Terms from '@pages/Terms';\n\nimport withPage from '@hocs/withPage';\n\nimport { CategoryList } from '@components/admin/categories';\nimport {\n  ClinicianCreate,\n  ClinicianEdit,\n  ClinicianList,\n  ClinicianShow,\n} from '@components/admin/clinicians';\nimport Dashboard from '@components/admin/dashboard';\nimport {\n  ExerciseCreate,\n  ExerciseEdit,\n  ExerciseList,\n  ExerciseShow,\n} from '@components/admin/exercises';\nimport {\n  PatientCreate,\n  PatientEdit,\n  PatientList,\n  PatientShow,\n} from '@components/admin/patients';\nimport {\n  PlanCreate,\n  PlanEdit,\n  PlanList,\n  PlanShow,\n} from '@components/admin/plans';\nimport { MeppAdminLayout } from '@components/admin/shared';\nimport {\n  CategoryIcon,\n  ClinicianIcon,\n  ExerciseIcon,\n  TreatmentPlanIcon,\n} from '@components/admin/shared/icons';\nimport { meppTheme } from '@components/admin/shared/styles/theme';\n\nimport AuthProvider from './authProvider';\nimport DataProvider from './dataProvider';\nimport i18nProvider from './i18nProvider';\n\nexport default () => {\n  // with auth pages\n  const IntroPage = withPage(Intro);\n  const MirrorPage = withPage(Mirror);\n  const MirrorSettingsPage = withPage(MirrorSettings);\n\n  // without auth pages\n  const LoginPage = withPage(Login);\n  const PrivacyPage = withPage(Privacy);\n  const TermsPage = withPage(Terms);\n  const HelpPage = withPage(Help);\n  const ResetPasswordPage = withPage(ResetPassword);\n  const PlayerAlone = withPage(PlayerStandalonePage);\n\n  return (\n    <Admin\n      theme={meppTheme}\n      layout={MeppAdminLayout}\n      disableTelemetry\n      dataProvider={DataProvider}\n      authProvider={AuthProvider}\n      i18nProvider={i18nProvider}\n      loginPage={LoginPage}\n      dashboard={Dashboard}\n    >\n      <CustomRoutes noLayout>\n        <Route exact path=\"/privacy\" element={<PrivacyPage />} />\n        <Route exact path=\"/termsofuse\" element={<TermsPage />} />\n        <Route exact path=\"/support\" element={<HelpPage />} />\n        <Route exact path=\"/reset-password\" element={<ResetPasswordPage />} />\n        <Route exact path=\"/intro\" element={<IntroPage />} />\n        <Route exact path=\"/mirror\" element={<MirrorPage />} />\n        <Route exact path=\"/mirror-settings\" element={<MirrorSettingsPage />} />\n        {process.env.ENVIRONMENT !== 'production' ? (\n          <Route exact path=\"/playerstandalone\" element={<PlayerAlone />} />\n        ) : null}\n      </CustomRoutes>\n      {(permissions) => (\n        <>\n          {['admin', 'staff'].includes(permissions) && (\n            <Resource\n              name=\"patients\"\n              create={PatientCreate}\n              edit={PatientEdit}\n              list={PatientList}\n              show={PatientShow}\n              icon={UserIcon}\n            />\n          )}\n          ,\n          {['admin', 'staff'].includes(permissions) && (\n            <Resource\n              name=\"exercises\"\n              create={ExerciseCreate}\n              edit={ExerciseEdit}\n              list={ExerciseList}\n              show={ExerciseShow}\n              icon={ExerciseIcon}\n            />\n          )}\n          ,\n          {['admin', 'staff'].includes(permissions) && (\n            <Resource\n              name=\"plans\"\n              create={PlanCreate}\n              edit={PlanEdit}\n              list={PlanList}\n              show={PlanShow}\n              icon={TreatmentPlanIcon}\n            />\n          )}\n          ,\n          {['admin', 'staff'].includes(permissions) && (\n            <Resource\n              name=\"clinicians\"\n              create={permissions === 'admin' && ClinicianCreate}\n              edit={ClinicianEdit}\n              list={permissions === 'admin' && ClinicianList}\n              show={ClinicianShow}\n              icon={ClinicianIcon}\n            />\n          )}\n          ,\n          {permissions !== 'user' && (\n            <Resource\n              name=\"categories\"\n              list={CategoryList}\n              icon={CategoryIcon}\n            />\n          )}\n          ,\n          {permissions === 'user' && (\n            <CustomRoutes noLayout>\n              <Route path=\"*\" element={<Navigate to=\"/intro\" />} />\n            </CustomRoutes>\n          )}\n        </>\n      )}\n    </Admin>\n  );\n};\n","/*\n * MEPP - A web application to guide patients and clinicians in the process of\n * facial palsy rehabilitation, with the help of the mirror effect and principles\n * of motor learning\n * Copyright (C) 2021 MEPP <info@mirroreffectplus.org>\n *\n * This file is part of MEPP.\n *\n * MEPP is free software: you can redistribute it and/or modify\n * it under the terms of the GNU General Public License as published by\n * the Free Software Foundation, either version 3 of the License, or\n * (at your option) any later version.\n *\n * MEPP is distributed in the hope that it will be useful,\n * but WITHOUT ANY WARRANTY; without even the implied warranty of\n * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n * GNU General Public License for more details.\n *\n * You should have received a copy of the GNU General Public License\n * along with MEPP.  If not, see <http://www.gnu.org/licenses/>.\n */\nimport i18n from 'i18next';\nimport React, { useEffect } from 'react';\nimport * as ReactDOMClient from 'react-dom/client';\nimport { StyledEngineProvider } from '@mui/material';\nimport { ThemeProvider } from 'styled-components';\n\nimport Admin from '@admin/index';\n\nimport { theme } from '@themes/index';\n\nimport { log } from '@utils/log';\n\n/**\n * Application initialisation with hot reload\n */\nconst App = () => {\n  useEffect(() => {\n    // set dom starting language\n    document.documentElement.lang = i18n.language;\n\n    log(`project name: ${process.env.PROJECT_NAME}`);\n    log(`project version: ${process.env.PROJECT_VERSION}`);\n    log(`project environment: ${process.env.ENVIRONMENT}`);\n  }, []);\n\n  return (\n    <StyledEngineProvider injectFirst>\n      <ThemeProvider theme={theme}>\n        <Admin />\n      </ThemeProvider>\n    </StyledEngineProvider>\n  );\n};\n\nconst container = document.getElementById('app');\nconst root = ReactDOMClient.createRoot(container);\nroot.render(<App />);\n"],"names":["BREAKPOINTS_DICT","BREAKPOINTS","min","max","MEDIAS_DICT","MEDIAS_QUERIES","xxsOnly","XXS","xsOnly","XS","xsToSm","SM","xsToMd","MD","sm","smOnly","smToMd","md","mdOnly","lg","LG","lgOnly","xl","XL","xlOnly","queryString","query","media","strings","_len","arguments","length","rules","Array","_key","css","_len2","_key2","_len3","_key3","_len4","_key4","_len5","_key5","_len6","_key6","_len7","_key7","_len8","_key8","_len9","_key9","_len10","_key10","_len11","_key11","_len12","_key12","_len13","_key13","spacings","default","SPACING_BASE","xs","xxl","CSS","Component","styled","div","FlexDisplay","Grid","_ref","height","_ref2","flow","_ref3","minRowHeight","_ref4","columns","_ref5","rows","_ref6","areas","map","area","join","formatAreas","_ref7","gap","_ref8","columnGap","_ref9","rowGap","_ref10","justifyContent","_ref11","alignContent","_ref12","responsiveTemplate","Object","keys","key","value","mediaToRender","renderResponsiveTemplate","Cell","_ref13","width","_ref14","_ref15","left","_ref16","top","_ref17","center","_ref18","_ref19","middle","Wrapper","WrapperFullSize","WrapperFullSizeMiddle","FlexAlignMiddle","Language","RequestMethod","RequestEndpoint","LOGIN","SESSION","PROFILE","SETTINGS","PERMISSIONS","LOGS","RESET_PWD","CONFIRM_RESET_PWD","useLocale","setLocaleRAdmin","useLocaleState","locale","useMemo","i18n","language","setLocale","useCallback","newLocale","lang","changeLanguage","document","documentElement","historyView","isLastTrackedView","view","useTrackingView","useEffect","push","zindex","BasicLayout","header","content","footer","_jsx","CellHeader","id","CellContent","CellFooter","theme","colors","text","background","React","HoverOrActive","rem","px","baseFontSize","BR","br","hBaseStyle","HeadingCss","H2","h1","h2","H3","h3","H5","h4","h5","H6","h6","primary","secondary","tertiary","accent","white","black","grey","error","warning","hrefCss","Href","a","Label","label","UL","ul","LI","li","ParagraphBaseCss","P","p","props","xsmall","small","medium","large","xlarge","Footer","t","useTranslation","items","img","link","Container","ContainerInter","Title","as","item","CellLogo","href","target","src","CopyrightWrapper","Copyright","process","rel","style","display","verticalAlign","marginTop","_linearGradient","x2","y2","offset","stopColor","stopOpacity","_clipPath","rx","fill","_g","clipPath","d","textAnchor","fontFamily","fontSize","x","y","fillOpacity","_text","_text2","CopyrightLinks","fetchData","async","endpoint","payload","undefined","method","accessToken","temporaryToken","localStorage","getItem","headers","Headers","response","fetch","Request","body","JSON","stringify","get","statusText","data","json","status","hasToken","removeItem","window","location","temporaryProfil","permissions","_path","login","username","password","Error","non_field_errors","detail","token","setItem","profile","logout","reload","Promise","reject","resolve","checkError","checkAuth","getPermissions","getIdentity","parse","full_name","_extends","assign","bind","i","source","prototype","hasOwnProperty","call","apply","this","xmlns","viewBox","_path2","useApi","setData","useState","setError","success","setSuccess","loading","setLoading","send","post","patch","ExerciseStep","ExerciseContext","createContext","ready","start","pause","skip","wait","repeat","complete","next","restart","exercise","exerciseStep","exerciseLoading","exerciseReady","children","setExercise","index","number","durationTime","pauseTime","repeatTime","exerciseCurrent","setExerciseCurrent","setExerciseStep","exerciseRepeat","setExerciseRepeat","setReady","exercisesData","logs","type","path","replace","includes","exercises","current","movement_duration","initCall","Provider","state","setTimeout","ButtonSideLabelTypes","ButtonFactory","Button","icon","selected","disabled","displayName","button","sideLabelType","Default","Secondary","Outline","Rounded","Transparent","_ref20","Liner","_ref21","_ref22","_ref23","DisabledBodyScrollGlogalStyle","createGlobalStyle","Keys","OverlayWrapper","OverlayBg","OverlayInner","Overlay","close","useContext","OverlayContext","isKeyEscPress","keyValue","isKeyPress","setKeyPress","onDown","code","addEventListener","removeEventListener","onUp","useKeyPress","lastItemFocus","activeElement","mainElement","querySelector","setAttribute","focus","removeAttribute","_OverlayBg","PreventFocusKeyTrap","focusTrapOptions","allowOutsideClick","_DisabledBodyScrollGl","open","setContent","_Overlay","size","SpacerHorizontal","randomString","Math","random","toString","substring","InputTypes","Declaration","Input","name","register","rest","registration","validation","FlexDirectionColumn","InputLabel","htmlFor","Text","memo","InputDefault","errors","required","Password","DeclarationPwd","showPwd","setShowPwd","InputPasswordWrapper","ButtonPasswordWrapper","tabIndex","_IconEyeHide","IconEyeHide","_IconEyeShow","IconEyeShow","onClick","Email","pattern","message","Radio","DeclarationRadio","FlexAlignLeft","InputRadio","input","FieldSet","fieldset","InputsWrapper","FlexAlignCenter","ButtonsWrapper","LanguageForm","setLanguage","identity","useGetIdentity","submit","save","onChange","e","defaultChecked","_SpacerHorizontal","LoadingCircle","opaque","LoadingWrapper","_Circle","Circle","keyframes","Form","options","handleSubmit","formState","trigger","watch","setValue","useForm","mapChildren","child","createElement","childrens","onSubmit","noValidate","ButtonModifyWrapper","FieldError","ProfileForm","isLoading","identityLoading","notify","useNotify","newpassword","useRef","oldpassword","confirmpassword","hidePassword","setHidePassword","email","mode","reValidateMode","defaultValue","placeholder","role","minLength","amount","RegExp","validate","_LoadingCircle","SectionType","SettingsOverlay","section","setSection","NavWrapper","SectionWrapper","_LanguageForm","_ProfileForm","Header","isLogged","_LeftSide","LeftSide","_RightSideWithLogout","RightSideWithLogout","_RightSideWithoutLogo","RightSideWithoutLogout","_LeftWrapper","LeftWrapper","Logo","switchLanguage","RightWrapper","_IconEarth","IconEarth","useLogout","isSettingsActive","setIsSettingsActive","handleSettingsClick","_SettingsOverlay","preventDefault","_IconSettings","IconSettings","handleLogoutClick","HelpFr","_H","_P","_ul","_br","_P2","_b","_ul2","_br2","_P3","LoginLink","history","back","HelpEn","_H2","_P4","_ul3","_br3","_P5","_b2","_ul4","_br4","_P6","ContainerWrapper","ContainerInner","HelpPage","_Header","_Footer","TemporaryProfilBanner","Main","setChildren","URLSearchParams","search","alert","authTemporaryToken","handleTokens","Authenticated","WithPermissions","render","_TemporaryProfilBanne","PermissionDenied","_IconWarning","IconWarning","Introduction","Instruction","PermissionAuthorize","navigate","useNavigate","_IconWarning2","ButtonPermission","ButtonStart","ButtonEffect","Warning","withAuth","IntroPage","permissionAuthorize","setPermissionAuthorize","permissionDenied","setPermissionDenied","first_name","permission","navigator","then","catch","_PermissionAuthorize","_PermissionDenied","FormWrapper","ButtonWrapper","onSwitch","setEmail","dangerouslySetInnerHTML","__html","LinkPassword","useLogin","_circle","_circle2","LoginPage","switchForm","setSwitchForm","LoginForm","ForgotPwd","cx","cy","r","className","VisibleHidden","Timer","showvalue","done","time","setTime","progress","setProgress","started","setStarted","circumference","PI","timer","onTime","newtime","newprogress","clearTimeout","_Thumbup","Thumbup","_Center","Center","Value","Bar","circ","floor","IconThumbup","CurrentExercise","TextExercise","TimerWrapper","TextWrapper","Progress","WaitingExercise","CompletingExercise","_TimerWrapper","EndingExercise","TextCentredWrapper","EndingMessage","ButtonExit","handleClick","EmptyExercise","Background","show","ExerciseWrapper","ExerciseInner","alignBottom","Exercise","_CurrentExercise","_WaitingExercise","_CompletingExercise","_EmptyExercise","_EndingExercise","ConfirmOverlay","confirm","defaultPosition","z","defaultRotation","defaultScale","GUIContext","position","rotation","scale","setPosition","setRotation","setScale","guiRef","onChangePosition","obj","onChangeRotation","onChangeScale","onApplyProfile","clone","mirror_settings","folders","controllers","getMappedCoordinates","load","getSanitizedFolder","folder","onSave","valuesAreEqual","b","formUnchanged","gui","GUI","title","closeFolders","positionFolder","addFolder","add","rotationFolder","hide","scaleFolder","destroy","onApplyDefault","Canvas","canvas","Gradient","GradientTop","GradientBottom","Player","deepAR","deepARInit","updateEffectValues","changeParameterVector","innerWidth","innerHeight","side","AR","deepar","licenseKey","effect","init","stopCamera","shutdown","onResize","screen","matchMedia","ref","_GradientTop","_GradientBottom","MirrorPage","_ExerciseProvider","ExerciseProvider","Exercises","MirrorSettingsPage","GUIProvider","PlayerStandalonePage","_BasicLayout","PrivacyFr","_H3","_H4","_P7","_P8","_H5","_P9","_P10","_P11","_P12","_H6","_P13","_P14","_H7","_P15","_H8","_P16","_H9","_P17","_H10","_P18","_H11","_P19","_H12","_P20","_H13","_P21","_H14","_P22","_H15","_P23","_H16","_P24","_H17","_P25","_H18","_P26","_P27","_H19","_P28","_H20","_P29","_P30","_P31","_H21","_H22","_P32","_P33","_H23","_P34","_H24","_P35","_H25","_H26","_P36","_P37","_P38","_H27","_P39","_H28","_P40","_H29","_P41","_P42","_H30","_P43","_P44","_P45","_P46","PrivacyEn","_H31","_P47","_P48","_P49","_P50","_P51","_H32","_H33","_P52","_H34","_P53","_P54","_P55","_H35","_P56","_P57","_P58","_P59","_H36","_P60","_P61","_H37","_P62","_H38","_P63","_H39","_P64","_H40","_P65","_H41","_P66","_H42","_P67","_H43","_P68","_H44","_P69","_H45","_P70","_H46","_P71","_H47","_P72","_H48","_P73","_P74","_H49","_P75","_H50","_P76","_P77","_P78","_H51","_H52","_P79","_P80","_H53","_P81","_H54","_P82","_H55","_H56","_P83","_P84","_P85","_H57","_P86","_H58","_P87","_H59","_P88","_P89","_H60","_P90","_P91","_P92","_P93","PrivacyPage","Success","ResetPasswordForm","ResetPasswordPage","TermFr","_UL","_UL2","_UL3","_UL4","TermEn","_UL5","_UL6","_UL7","_UL8","TermsPage","GlobalStyles","normalize","reset","browsers","chrome","firefox","edge","safari","opera","msie","yandex","BrowserSupportBanner","supported","setSupported","browserName","browserVersion","browser","detect","version","cmp","supportedBrowser","match","trim","EnvironmentBanner","isProd","setIsProd","ReactAdminEn","admin","shared","labels","archives","cancelButton","confirmButton","archiveButton","unarchiveButton","activateButton","deactivateButton","backButton","exportButton","card","informations","reset_password","create_password","notifications","archive","failure","unarchive","activate","deactivate","bulkArchive","bulkUnarchive","mirror","cancelDialog","emailDialog","field_required","password_mismatch","password_too_short","password_not_secure","password_required","dashboard","openMirrorButton","widgets","daily_repeats","card_header","sessions","choices","one_week","two_weeks","one_month","all","completed","uncompleted","since","mirror_dialog","autocomplete","languages","resources","categories","fields","clinicians","last_name","confirm_password","archived","is_superuser","list","patients_count","create","delete","confirmTitle","clinician_uid","category__uid","uid","is_system","sub_categories","definition","classification","user","system","gt_zero","patients","use_audio","plans","plan_dialog","radio_new","radio_template","actions","copy","filters","last_visited","today","this_week","this_month","audio","daily_repeat","randomize","start_date","end_date","description","exercises_count","edit","exercise_dialog","category","sub_category","sub_category_empty_label","is_system_warning","a11y","show_password","settings","support","cta","goto_forgot_password","goto_login","start_exercise","restart_exercise","pause_exercise","skip_exercise","next_exercise","authorize","cancel","modify","form","field","login_invalid","email_invalid","pwd_not_match","pwd","min_length","forgot_password","introduction","copyright","privacy","termsofuse","license","intro","instruction","end","empty","nav","infos","api","settings_update","profile_update","generic","token_invalid","pwd_invalid","temporaryProfile","browserSupport","reactAdminFrOverride","ReactAdminFr","ra","action","notification","updated","created","use","LanguageDetector","initReactI18next","fallbackLng","fr","en","react","detection","order","lookupLocalStorage","LANGUAGES","freeze","useLocation","scrollTo","BannersContainer","OverlayProvider","_GlobalStyles","_EnvironmentBanner","_BrowserSupportBanner","_Notification","Notification","SubCategoriesRow","record","useTheme","flexWrap","spacing","subCategory","Chip","CategoryList","useTranslate","List","pagination","sort","filterDefaultValues","Datagrid","bulkActionButtons","expand","TextField","sanitizeRestProps","subsetProps","remove","sanitizedProps","forEach","prop","Div","Typography","gutterTop","sx","MuiTypography","Options","sides","securePasswordOptional","new_password","regex","args","test","requiredLocalizedField","validateEmail","validateFirstName","validateLanguage","validateLastName","validateNumber","validatePasswordOptional","validatePasswordRequired","validatePasswords","resource","showLabel","refresh","useRefresh","redirect","useRedirect","patientUid","setPatientUid","useStore","selectedIds","select","useRecordSelection","updateHandler","useUpdate","previousData","onSuccess","translatedText","onError","newSelectedIds","filter","variant","color","_UnarchiveIcon","UnarchiveIcon","_ArchiveIcon","ArchiveIcon","useStyles","makeStyles","toolbar","marginRight","classes","useRecordContext","useResourceContext","isDirty","useFormState","setConfirm","searchParams","setSearchParams","useSearchParams","fullScreen","useMediaQuery","breakpoints","down","showEditButtons","handleClose","getRedirectUrl","decodeURIComponent","Toolbar","redirectUrl","Dialog","onClose","DialogTitle","DialogContent","DialogContentText","DialogActions","autoFocus","startIcon","_ErrorOutlineIcon","ErrorOutlineIcon","handleConfirmClose","_CheckCircle","CheckCircle","_SaveButton","SaveButton","ToggleArchiveButton","showLocation","root","flex","ClinicianCreate","resourceName","Create","mutationOptions","entries","values","SimpleForm","_SimpleFormToolBar","SimpleFormToolBar","gutterBottom","RaBox","_TextInput","TextInput","fullWidth","_TextInput2","_TextInput3","SelectInput","_BooleanInput","BooleanInput","PasswordInput","validatePassword","stopPropagation","scrollToTop","useCreatePath","createPath","_ImageEye","ImageEye","_ContentCreate","ContentCreate","_scrollToTop","context","component","Link","to","pathname","filterValues","unselectAll","useUnselectAll","exportEndpoint","qs","fetchJsonWithAuthToken","finally","_DownloadIcon","DownloadIcon","_DownloadIcon2","RaTopToolbar","showExport","ExportButton","hasEdit","CRUDButton","hasShow","ProfileRow","ClinicianEdit","useResourceDefinition","refetch","Edit","mutationMode","backUrl","messageArgs","smart_count","TopToolbar","DatagridBody","total","useListContext","data_copy","RaDatagridBody","RaDatagrid","Filter","alwaysOn","getPlaceHolder","redirectLocation","redirectionRef","active","_PauseCircleFilledIco","PauseCircleFilledIcon","_PlayCircleFilledIcon","PlayCircleFilledIcon","useRowActionToolbarStyles","textAlign","whiteSpace","icon_action_button","minWidth","padding","icon_action_button_red","clonable","activable","archiveTitle","activeTitle","editable","Tooltip","arrow","rowResource","CloneButton","_FileCopyIcon","FileCopyIcon","_Queue","Queue","ToggleActiveButton","DeleteWithConfirmButton","_CreateButton","CreateButton","archivedFilterValue","newValue","currentValue","buttonLabel","getContext","updateMany","useUpdateMany","ids","updateRecords","recordIndex","findIndex","Fragment","ToggleBulkArchiveButton","BulkDeleteButton","lineHeight","marginLeft","borderColor","ClinicianList","usePermissions","_ArchivableFilter","ArchivableFilter","me","perPage","_ListActions","ListActions","BulkActionButtons","_TextField","_BooleanField","BooleanField","FunctionField","RowActionToolbar","BackButton","_ArrowBackIosIcon","ArrowBackIosIcon","ShowToolBar","_BackButton","translatorInputStyle","categoriesSelectorStyle","borderBottom","useRaBoxStyles","container","paddingTop","leftColumn","flexDirection","flexGrow","marginBottom","paddingRight","borderRight","rightColumn","columnChild","alignItems","paddingLeft","innerChild","buttonLine","buttonLineLeft","ClinicianShow","Show","_ClinicianShowRecord","ClinicianShowRecord","BoxedShowLayout","ClinicianShowLayout","openDialogEmail","setOpenDialogEmail","_EmailField","EmailField","IconButton","event","_MailOutlineIcon","MailOutlineIcon","url","_TextField2","_ShowToolBar","Spinner","_CircularProgress","CircularProgress","formControl","margin","selectEmpty","widget","typography","widgetTooltipInner","fontWeight","widgetTooptipWrapperStyle","backgroundColor","border","outlineColor","outlineWidth","DashboardWidget","weekRange","setWeekRange","widgetHeight","setWidgetHeight","ordering","week_range","CustomTooltip","console","log","Card","FormControl","NativeSelect","CardContent","_Spinner","ResponsiveContainer","BarChart","right","bottom","layout","XAxis","domain","dataMax","YAxis","dataKey","isAnimationActive","wrapperStyle","contentStyle","itemStyle","Legend","MirrorIcon","_SvgIcon","SvgIcon","Welcome","confirmDisabled","setConfirmDisabled","openDialog","setOpenDialog","selectedPatient","setSelectedPatient","patientsLoading","useGetList","page","patient","Box","CardActions","handleOpenDialog","_MirrorIcon","Autocomplete","autoHighlight","handleAutocompleteChange","getOptionLabel","option","renderInput","params","TextFieldMui","InputProps","endAdornment","handleCloseDialog","mirrorUrl","tt","Dashboard","isSmall","styles","flexColumn","flexRow","leftCol","rightCol","singleCol","HorizontalSpacer","_Welcome","_DashboardWidget","_DashboardWidget2","_Welcome2","_DashboardWidget3","_DashboardWidget4","updatedSubCategoryInputs","subCategories","preSave","localizedDescription","toUpperCase","useNumberStyles","numbers","useCategoryChipsStyles","validateCategory","validateSubCategory","validateSubCategories","ExerciseCreate","numberClasses","setUpdatedSubCategoryInputs","transform","TranslatableInputs","locales","defaultLocale","multiline","validateI18n","NumberInput","ArrayInput","SimpleFormIterator","disableReordering","inline","categoryInput","updates","FormDataConsumer","scopedFormData","getSource","SubCategoryInput","ExerciseEdit","_ReferenceField","ReferenceField","reference","CategoryIcon","ClinicianIcon","ExerciseIcon","fillRule","clipRule","FaceIcon","SoundIcon","SubCategoryIcon","TimeIcon","TreatmentPlanIcon","loaded","setLoaded","page_size","results","clinician","subCategoriesArray","fromEntries","ASide","withStyles","up","paddingBottom","MuiCard","selectedCategory","setSelectedCategory","useGetClinicians","useGetCategories","useGetSubCategories","setFilters","useListFilterContext","sub_category__uid","_FilterLiveSearch","FilterLiveSearch","FilterList","_CategoryIcon","FilterListItem","_SubCategoryIcon","_ClinicianIcon","tabs","ExerciseDatagrid","TabbedDatagrid","listContext","displayedFilters","userExerciseIds","setUserExerciseIds","systemExerciseIds","setSystemExerciseIds","Tabs","indicatorColor","handleChange","choice","Tab","_Divider","Divider","ListContextProvider","ExerciseList","aside","ExerciseListAside","Labeled","CategoryChips","ExerciseShow","ClinicianTextField","TranslatableFields","_RaBox","NumberField","validateAudio","validateClinician","validateSide","PatientCreate","ReferenceInput","optionText","PatientEdit","_TimeIcon","last_login__gte","endOfYesterday","toISOString","last_login__lte","startOfWeek","Date","startOfMonth","_FaceIcon","_SoundIcon","PatientList","PatientListAside","treatmentPlanChoice","setTreatmentPlanChoice","autocompleteDisabled","setAutocompleteDisabled","selectedPlan","setSelectedPlan","is_template","treatmentPlans","plan","float","_AddCircleOutlineIcon","AddCircleOutlineIcon","RadioGroup","radioValue","FormControlLabel","control","_Radio","handleTemplatesChange","template","_Radio2","handleConfirmClick","updatedRecord","treatment_plan_uid","useArchivesStyles","PatientShow","_PatientShowRecord","PatientShowRecord","PatientShowLayout","archivesToggleClasses","setSort","setArchives","patient_id","_Labeled","_Labeled2","FormGroup","Switch","checked","AddPlanButton","DateField","useAutocompleteStyles","initialValue","emptyLabel","addEmpty","Select","MenuItem","autocompleteClasses","setUid","movementDuration","setMovementDuration","setPause","setRepeat","setDescription","setCategory","setSubCategories","loadingExercises","setLoadingExercises","exerciseOptions","setExerciseOptions","useFormContext","getExercises","categoryUid","subCategoryUid","DropDown","handleExerciseChange","handleSelectExercise","showAlert","setShowAlert","Alert","severity","contextualRedirect","asTemplate","localizedName","patient_uid","validateExercises","PlanCreate","setAsTemplate","setRandomize","createTemplate","formData","IsSystemInput","_NumberInput","ExerciseRow","PlanEdit","SimplePlanEditForm","PlanDatagrid","userPlanIds","setUserPlanIds","systemPlanIds","setSystemPlanIds","PlanList","PlanListAside","PlanShow","planShowClasses","_NumberField","ArrayField","logoStyle","LocaleSwitcher","setOpen","handleOpen","_LanguageIcon","LanguageIcon","endIcon","_ExpandMoreIcon","ExpandMoreIcon","labelId","onOpen","newLanguage","textTransform","MeppAdminAppBar","_BannersContainer","AppBar","elevation","userMenu","_CustomUserMenu","CustomUserMenu","_Box","_LocaleSwitcher","SettingsMenu","forwardRef","encodeURIComponent","profileUrl","identityUid","MenuItemLink","primaryText","leftIcon","_SettingsIcon","SettingsIcon","sidebarIsOpen","UserMenu","_Logout","Logout","MeppAdminLayout","meppLayoutClasses","Layout","appBar","lightBlue","blue","lighterGray","gray","createTheme","meppTheme","defaultTheme","palette","light","main","dark","contrastText","contrastThreshold","tonalOffset","components","MuiButton","styleOverrides","borderRadius","MuiPaper","rounded","MuiTableHead","MuiTableCell","MuiTablePagination","minHeight","MuiDialogActions","MuiStack","RaList","RaListToolbar","borderTopLeftRadius","RaMenuItemLink","RaTranslatableFields","RaTranslatableInputs","RaBulkActionsToolbar","borderTopRightRadius","RaPaginationActions","currentPageButton","RaFilterFormInput","RaSimpleFormIterator","djangoRestFrameworkProvider","polyglotI18nProvider","withPage","Intro","Mirror","MirrorSettings","Login","Privacy","Terms","Help","ResetPassword","PlayerAlone","Admin","disableTelemetry","dataProvider","DataProvider","authProvider","AuthProvider","i18nProvider","loginPage","CustomRoutes","noLayout","Route","exact","element","_Resource","Resource","UserIcon","_Resource2","_Resource3","_Resource4","_CustomRoutes","Navigate","App","_StyledEngineProvider","StyledEngineProvider","injectFirst","ThemeProvider","getElementById","ReactDOMClient"],"sourceRoot":""}